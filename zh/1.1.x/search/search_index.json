{"config":{"lang":["en"],"separator":"[\\s\\u200b\\u3000\\-\u3001\u3002\uff0c\uff0e\uff1f\uff01\uff1b]+","pipeline":["stemmer"]},"docs":[{"location":"architecture-details/","title":"\u89e3\u51b3\u65b9\u6848\u7684\u5de5\u4f5c\u539f\u7406","text":"<p>\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u70b9\u51fb\u6d41\u5206\u6790 \u6709\u4e09\u4e2a\u7ec4\u4ef6\uff1aWeb \u63a7\u5236\u53f0\u3001\u8f6f\u4ef6\u5f00\u53d1\u5de5\u5177\u5305\u3001\u4ee5\u53ca\u7528\u4e8e\u6444\u53d6\u3001\u5904\u7406\u3001\u5206\u6790\u548c\u53ef\u89c6\u5316\u70b9\u51fb\u6d41\u6570\u636e\u7684\u6570\u636e\u7ba1\u9053\u3002</p>"},{"location":"architecture-details/#web","title":"Web \u63a7\u5236\u53f0","text":"<p>\u8be5\u89e3\u51b3\u65b9\u6848\u63d0\u4f9b\u4e86\u4e00\u4e2a\u7b80\u5355\u6613\u7528\u7684 Web \u63a7\u5236\u53f0\uff0c\u5141\u8bb8\u60a8\u521b\u5efa\u70b9\u51fb\u6d41\u9879\u76ee\uff0c\u4ee5\u53ca\u914d\u7f6e\u3001\u521b\u5efa\u548c\u7ba1\u7406\u6bcf\u4e2a\u9879\u76ee\u7684\u6570\u636e\u7ba1\u9053\u3002</p>"},{"location":"architecture-details/#_1","title":"\u8f6f\u4ef6\u5f00\u53d1\u5de5\u5177\u5305","text":"<p>\u8be5\u89e3\u51b3\u65b9\u6848\u63d0\u4f9b\u539f\u751f\u8f6f\u4ef6\u5f00\u53d1\u5de5\u5177\u5305\uff0c\u53ef\u5e2e\u52a9\u60a8\u8f7b\u677e\u5730\u4ece\u5e94\u7528\u7a0b\u5e8f\u6536\u96c6\u5e94\u7528\u5185\u4e8b\u4ef6\u5e76\u5c06\u5176\u62a5\u544a\u5230\u70b9\u51fb\u6d41\u7ba1\u9053\u3002</p> <ul> <li>Android \u8f6f\u4ef6\u5f00\u53d1\u5de5\u5177\u5305</li> <li>Swift \u8f6f\u4ef6\u5f00\u53d1\u5de5\u5177\u5305</li> </ul>"},{"location":"architecture-details/#_2","title":"\u6570\u636e\u7ba1\u9053","text":"<p>\u6b64\u89e3\u51b3\u65b9\u6848\u4f7f\u7528 Web \u63a7\u5236\u53f0\u6765\u7ba1\u7406\u9879\u76ee\u53ca\u5176\u6570\u636e\u7ba1\u9053\u3002\u6570\u636e\u7ba1\u9053\u7531\u56db\u4e2a\u6a21\u5757\u7ec4\u6210\u3002</p>"},{"location":"architecture-details/#_3","title":"\u6444\u53d6\u6a21\u5757","text":"<p>\u6444\u53d6\u6a21\u5757\u5145\u5f53\u7528\u4e8e\u6444\u53d6\u70b9\u51fb\u6d41\u6570\u636e\u7684 Web \u670d\u52a1\u5668\u3002\u5b83\u652f\u6301\u4ee5\u4e0b\u529f\u80fd\uff1a</p> <ul> <li>\u6307\u5b9a\u81ea\u52a8\u4f38\u7f29\u7ec4\u529f\u80fd</li> <li>\u6307\u5b9a\u9884\u70ed\u670d\u52a1\u5668\u6c60\u5927\u5c0f\u4ee5\u66f4\u5feb\u5730\u6269\u5c55\u5e76\u8282\u7701\u6210\u672c</li> <li>\u652f\u6301\u4f7f\u7528 OIDC \u8fdb\u884c\u8eab\u4efd\u9a8c\u8bc1</li> <li>\u652f\u6301 SSL</li> <li>\u652f\u6301\u542f\u7528\u9002\u7528\u4e8e ELB \u7684\u5168\u7403\u52a0\u901f\u5668</li> <li>\u652f\u6301\u4e0d\u540c\u7684\u6570\u636e\u7f13\u51b2\u533a\u3001S3\u3001KDS \u548c MSK</li> </ul>"},{"location":"architecture-details/#_4","title":"\u6570\u636e\u5904\u7406\u6a21\u5757","text":"<p>\u6570\u636e\u5904\u7406\u6a21\u5757\u901a\u8fc7\u5728 EMR \u65e0\u670d\u52a1\u5668\u6a21\u5f0f\u4e0b\u8fd0\u884c\u7684 Apache Spark \u5e94\u7528\u7a0b\u5e8f\u5c06\u91c7\u96c6\u7684\u6570\u636e\u8f6c\u6362\u5e76\u4e30\u5bcc\u5230\u89e3\u51b3\u65b9\u6848\u7684\u6570\u636e\u6a21\u578b\u4e2d\u3002\u5b83\u652f\u6301\u4ee5\u4e0b\u529f\u80fd\uff1a</p> <ul> <li>\u6307\u5b9a\u6570\u636e\u5904\u7406\u7684\u6279\u5904\u7406\u95f4\u9694</li> <li>\u6307\u5b9a\u6570\u636e\u5237\u65b0\u671f\u9650</li> <li>\u63d0\u4f9b\u5f00\u7bb1\u5373\u7528\u7684\u6570\u636e\u52a0\u5de5\u63d2\u4ef6</li> <li>\u63d0\u53d6\u7528\u6237\u4ee3\u7406\u5c5e\u6027\uff0c\u7528\u4e8e\u4ece HTTP \u8bf7\u6c42\u5934\u7684\u7528\u6237\u4ee3\u7406\u5b57\u7b26\u4e32\u4e2d\u89e3\u6790\u64cd\u4f5c\u7cfb\u7edf\u3001\u8bbe\u5907\u3001\u6d4f\u89c8\u5668\u4fe1\u606f</li> <li>IP\u6620\u5c04\uff0c\u53ef\u6839\u636e\u8bf7\u6c42\u6e90 IP \u6620\u5c04\u8bbe\u5907\u4f4d\u7f6e\u4fe1\u606f\uff08\u4f8b\u5982\uff0c\u57ce\u5e02\u3001\u56fd\u5bb6\u3001\u5730\u533a\uff09</li> <li>\u652f\u6301\u7b2c\u4e09\u65b9\u5f00\u53d1\u7684\u6570\u636e\u683c\u5f0f\u8f6c\u6362\u63d2\u4ef6</li> <li>\u652f\u6301\u7b2c\u4e09\u65b9\u5f00\u53d1\u7684\u6570\u636e\u52a0\u5de5\u63d2\u4ef6</li> </ul>"},{"location":"architecture-details/#_5","title":"\u6570\u636e\u5efa\u6a21\u6a21\u5757","text":"<p>\u6570\u636e\u5efa\u6a21\u6a21\u5757\u5c06\u5904\u7406\u540e\u7684\u6570\u636e\u52a0\u8f7d\u5230\u6570\u636e\u6e56\u4e2d\u3002\u5b83\u652f\u6301\u4ee5\u4e0b\u529f\u80fd\uff1a</p> <ul> <li>\u652f\u6301\u9884\u914d\u7f6e\u7684 Redshift \u548c Redshift \u65e0\u670d\u52a1\u5668\u4f5c\u4e3a\u6570\u636e\u4ed3\u5e93</li> <li>\u652f\u6301\u5728 Redshift \u4e2d\u4fdd\u7559\u70ed\u6570\u636e\u7684\u6570\u636e\u8303\u56f4</li> <li>\u6307\u5b9a\u66f4\u65b0\u7528\u6237\u7ef4\u5ea6\u8868\u7684\u5237\u65b0\u65f6\u95f4\u95f4\u9694</li> <li>\u652f\u6301\u4f7f\u7528 Athena \u67e5\u8be2\u6570\u636e\u6e56\u4e2d\u7684\u6570\u636e</li> </ul>"},{"location":"architecture-details/#_6","title":"\u62a5\u8868\u6a21\u5757","text":"<p>\u62a5\u544a\u6a21\u5757\u8fde\u63a5\u5230\u5b58\u50a8\u5728\u6570\u636e\u4ed3\u5e93\uff08\u5373 Redshift\uff09\u4e2d\u7684\u5df2\u5904\u7406\u6570\u636e\uff0c\u4ee5\u63d0\u4f9b\u4ee5\u4e0b\u6570\u636e\u67e5\u8be2\u548c\u62a5\u544a\u529f\u80fd\uff1a</p> <ul> <li>\u63d0\u4f9b\u9884\u5148\u626b\u63cf\u7684\u7528\u6237\u751f\u547d\u5468\u671f\u4eea\u8868\u677f\u3002</li> <li>\u63d0\u4f9b\u63a2\u7d22\u6027\u5206\u6790\u6a21\u578b\u6765\u67e5\u8be2\u548c\u5206\u6790\u70b9\u51fb\u6d41\u6570\u636e\u3002</li> <li>\u652f\u6301\u4ee5\u62d6\u653e\u65b9\u5f0f\u521b\u5efa\u81ea\u5b9a\u4e49\u5206\u6790\u548c\u53ef\u89c6\u5316</li> <li>\u81ea\u52a8\u751f\u6210\u70b9\u51fb\u6d41\u6570\u636e\u7684\u5143\u6570\u636e\uff0c\u652f\u6301\u5143\u6570\u636e\u7ba1\u7406</li> </ul>"},{"location":"architecture/","title":"\u67b6\u6784\u56fe","text":""},{"location":"architecture/#_1","title":"\u89e3\u51b3\u65b9\u6848\u7aef\u5230\u7aef\u67b6\u6784","text":"<p>\u4f7f\u7528\u9ed8\u8ba4\u914d\u7f6e\u90e8\u7f72\u6b64\u89e3\u51b3\u65b9\u6848\u5c06\u6784\u5efa\u4ee5\u4e0b\u73af\u5883\uff1a</p> <p> </p> \u56fe 1\uff1a\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u4e0a\u7684\u70b9\u51fb\u6d41\u5206\u6790\u67b6\u6784\u56fe <p>\u6b64\u89e3\u51b3\u65b9\u6848\u5728\u60a8\u7684\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u8d26\u6237\u4e2d\u90e8\u7f72 Amazon CloudFormation \u6a21\u677f\u5e76\u5b8c\u6210\u4ee5\u4e0b\u8bbe\u7f6e\u3002</p> <ol> <li>Amazon CloudFront \u5206\u53d1\u6258\u7ba1\u5728 Amazon S3 \u5b58\u50a8\u6876\u4e2d\u7684\u524d\u7aef Web \u7528\u6237\u754c\u9762\u8d44\u4ea7\uff0c\u4ee5\u53ca\u7531Amazon API Gateway \u548c AWS Lambda \u6258\u7ba1\u7684\u540e\u7aef API\u3002</li> <li>Amazon Cognito \u7528\u6237\u6c60\u6216 OpenID Connect (OIDC) \u7528\u4e8e\u8eab\u4efd\u9a8c\u8bc1\u3002</li> <li>Web \u7528\u6237\u754c\u9762\u63a7\u5236\u53f0\u4f7f\u7528 Amazon DynamoDB \u6765\u5b58\u50a8\u6c38\u4e45\u6570\u636e\u3002</li> <li>AWS Step Functions\uff0c AWS CloudFormation\uff0cAWS Lambda \u548c Amazon EventBridge \u7528\u4e8e\u534f\u8c03\u6570\u636e\u7ba1\u9053\u7684\u751f\u547d\u5468\u671f\u7ba1\u7406\u3002</li> <li>\u6570\u636e\u7ba1\u9053\u5728\u7cfb\u7edf\u64cd\u4f5c\u5458\u6307\u5b9a\u7684\u533a\u57df\u8fdb\u884c\u914d\u7f6e\u3002\u5b83\u7531Application Load Balancer (ALB)\u3001Amazon ECS\u3001Amazon Managed Streaming for Kafka (Amazon MSK)\u3001Amazon Kinesis\u3001Amazon S3\u3001Amazon EMR Serverless\u3001Amazon Redshift \u548c Amazon QuickSight \u7ec4\u6210\u3002</li> </ol> <p>\u8be5\u89e3\u51b3\u65b9\u6848\u7684\u5173\u952e\u529f\u80fd\u662f\u6784\u5efa\u6570\u636e\u7ba1\u9053\u6765\u6444\u53d6\u3001\u5904\u7406\u548c\u5206\u6790\u70b9\u51fb\u6d41\u6570\u636e\u3002\u6570\u636e\u7ba1\u9053\u7531\u56db\u4e2a\u6a21\u5757\u7ec4\u6210\uff1a </p> <ul> <li>\u6444\u53d6\u6a21\u5757 </li> <li>\u6570\u636e\u5904\u7406\u6a21\u5757 </li> <li>\u6570\u636e\u5efa\u6a21\u6a21\u5757 </li> <li>\u62a5\u8868\u6a21\u5757 </li> </ul> <p>\u4e0b\u9762\u4ecb\u7ecd\u6bcf\u4e2a\u6a21\u5757\u7684\u67b6\u6784\u56fe\u3002</p>"},{"location":"architecture/#_2","title":"\u6444\u53d6\u6a21\u5757","text":"\u56fe 2\uff1a\u6444\u53d6\u6a21\u5757\u67b6\u6784 <p>\u5047\u8bbe\u60a8\u5728\u89e3\u51b3\u65b9\u6848\u4e2d\u521b\u5efa\u4e86\u4e00\u4e2a\u6570\u636e\u7ba1\u9053\u3002\u6b64\u89e3\u51b3\u65b9\u6848\u5728\u60a8\u7684\u8d26\u6237\u4e2d\u90e8\u7f72 Amazon CloudFormation \u6a21\u677f\u5e76\u5b8c\u6210\u4ee5\u4e0b\u8bbe\u7f6e\u3002</p> <p>\u6ce8\u610f</p> <p>\u6444\u53d6\u6a21\u5757\u652f\u6301\u4e09\u79cd\u7c7b\u578b\u7684\u6570\u636e\u5bbf\u3002</p> <ol> <li>\uff08\u53ef\u9009\uff09\u6444\u53d6\u6a21\u5757\u521b\u5efa\u5168\u7403\u52a0\u901f\u5668\u7ec8\u7aef\u8282\u70b9\uff0c\u4ee5\u51cf\u5c11\u4ece\u5ba2\u6237\u7aef\uff08Web \u5e94\u7528\u7a0b\u5e8f\u6216\u79fb\u52a8\u5e94\u7528\u7a0b\u5e8f\uff09\u53d1\u9001\u4e8b\u4ef6\u7684\u5ef6\u8fdf\u3002</li> <li>Elastic Load Balancing (ELB) \u4f7f\u7528ALB\u7528\u4e8e\u8d1f\u8f7d\u5e73\u8861\u6444\u53d6 Web \u670d\u52a1\u5668\u3002</li> <li>\uff08\u53ef\u9009\uff09\u5982\u679c\u60a8\u542f\u7528\u8eab\u4efd\u9a8c\u8bc1\u529f\u80fd\uff0cALB \u5c06\u4e0e OIDC \u63d0\u4f9b\u5546\u901a\u4fe1\u4ee5\u5bf9\u8bf7\u6c42\u8fdb\u884c\u8eab\u4efd\u9a8c\u8bc1\u3002</li> <li>ALB \u5c06\u6240\u6709\u7ecf\u8fc7\u8eab\u4efd\u9a8c\u8bc1\u7684\u6709\u6548\u8bf7\u6c42\u8f6c\u53d1\u5230\u6444\u53d6\u670d\u52a1\u5668\u3002</li> <li>Amazon ECS \u96c6\u7fa4\u6258\u7ba1\u7740\u6444\u53d6\u670d\u52a1\u5668\u96c6\u7fa4\u3002\u6bcf\u53f0\u670d\u52a1\u5668\u90fd\u7531\u4e00\u4e2a\u4ee3\u7406\u548c\u4e00\u4e2a\u5de5\u4f5c\u5668\u670d\u52a1\u7ec4\u6210\u3002\u4ee3\u7406\u662f\u57fa\u4e8e HTTP \u534f\u8bae\u7684\u4ea4\u4e92\u7ec4\u4ef6\uff0c\u5de5\u4f5c\u5668\u7a0b\u5e8f\u5c06\u6839\u636e\u60a8\u7684\u9009\u62e9\u5c06\u4e8b\u4ef6\u53d1\u9001\u5230\u6570\u636e\u5bbf\u3002</li> <li>Amazon Kinesis Data Streams \u7528\u4f5c\u7f13\u51b2\u533a\u3002AWS Lambda \u6d88\u8d39 Kinesis Data Streams \u4e2d\u7684\u4e8b\u4ef6\uff0c\u7136\u540e\u5c06\u5b83\u4eec\u5206\u6279\u53d1\u9001\u5230 Amazon S3\u3002</li> <li>Amazon MSK \u4f5c\u4e3a\u7f13\u51b2\u533a\u3002MSK Connector \u914d\u7f6e\u4e86 S3 \u8fde\u63a5\u5668\u63d2\u4ef6\uff0c\u8be5\u63d2\u4ef6\u5c06\u4e8b\u4ef6\u6279\u91cf\u53d1\u9001\u5230 Amazon S3\u3002</li> <li>\u6444\u53d6\u670d\u52a1\u5668\u5c06\u7f13\u5b58\u4e00\u6279\u4e8b\u4ef6\uff0c\u5e76\u5c06\u5b83\u4eec\u53d1\u9001\u5230 Amazon S3\u3002</li> </ol>"},{"location":"architecture/#_3","title":"\u6570\u636e\u5904\u7406\u6a21\u5757","text":"\u56fe 3\uff1a\u6570\u636e\u5904\u7406\u6a21\u5757\u67b6\u6784 <p>\u5047\u8bbe\u60a8\u5728\u89e3\u51b3\u65b9\u6848\u4e2d\u521b\u5efa\u4e86\u6570\u636e\u7ba1\u9053\u5e76\u542f\u7528 ETL\u3002\u6b64\u89e3\u51b3\u65b9\u6848\u5728\u60a8\u7684\u4e91\u8d26\u6237\u4e2d\u90e8\u7f72 Amazon CloudFormation \u6a21\u677f\u5e76\u5b8c\u6210\u4ee5\u4e0b\u8bbe\u7f6e\u3002</p> <ol> <li>Amazon EventBridge \u7528\u4e8e\u5b9a\u671f\u89e6\u53d1 ETL \u4efb\u52a1\u3002</li> <li>\u53ef\u914d\u7f6e\u7684\u57fa\u4e8e\u65f6\u95f4\u7684\u8c03\u5ea6\u7a0b\u5e8f\u8c03\u7528 AWS Lambda \u51fd\u6570\u3002</li> <li>Lambda \u51fd\u6570\u5c06\u542f\u52a8\u57fa\u4e8e Spark \u7684 EMR Serverless \u5e94\u7528\u7a0b\u5e8f\uff0c\u4ee5\u5904\u7406\u4e00\u6279\u70b9\u51fb\u6d41\u4e8b\u4ef6\u3002</li> <li>EMR Serverless \u5e94\u7528\u7a0b\u5e8f\u4f7f\u7528\u53ef\u914d\u7f6e\u7684\u8f6c\u6362\u5668\u548c\u63d2\u4ef6\u6765\u5904\u7406\u6765\u81ea\u6e90 S3 \u5b58\u50a8\u6876\u7684\u70b9\u51fb\u6d41\u4e8b\u4ef6\u3002</li> <li>\u5904\u7406\u70b9\u51fb\u6d41\u4e8b\u4ef6\u540e\uff0cEMR Serverless \u5e94\u7528\u7a0b\u5e8f\u4f1a\u5c06\u5904\u7406\u8fc7\u7684\u4e8b\u4ef6\u6c47\u5165 S3 \u5b58\u50a8\u6876\u3002</li> </ol>"},{"location":"architecture/#_4","title":"\u6570\u636e\u5efa\u6a21\u6a21\u5757","text":"\u56fe 4\uff1aRedshift \u67b6\u6784\u4e2d\u7684\u6570\u636e\u5efa\u6a21 <p>\u5047\u8bbe\u60a8\u5728\u89e3\u51b3\u65b9\u6848\u4e2d\u521b\u5efa\u4e86\u6570\u636e\u7ba1\u9053\u5e76\u5728 Amazon Redshift \u4e2d\u542f\u7528\u4e86\u6570\u636e\u5efa\u6a21\u6a21\u5757\u3002\u6b64\u89e3\u51b3\u65b9\u6848\u5728\u60a8\u7684\u4e91\u8d26\u6237\u4e2d\u90e8\u7f72 Amazon CloudFormation \u6a21\u677f\u5e76\u5b8c\u6210\u4ee5\u4e0b\u8bbe\u7f6e\u3002</p> <ol> <li>\u5c06\u7ecf\u8fc7\u5904\u7406\u7684\u70b9\u51fb\u6d41\u4e8b\u4ef6\u6570\u636e\u5199\u5165 Amazon S3 \u5b58\u50a8\u6876\u540e\uff0c\u5c06\u53d1\u51fa <code>\u5bf9\u8c61\u521b\u5efa\u4e8b\u4ef6</code>\u3002</li> <li>\u5728 Amazon EventBridge \u4e2d\u4e3a\u6b65\u9aa4 1 \u4e2d\u89e6\u53d1\u7684\u4e8b\u4ef6\u521b\u5efa\u89c4\u5219\uff0c\u5e76\u5728\u4e8b\u4ef6\u53d1\u751f\u65f6\u8c03\u7528 AWS Lambda \u51fd\u6570\u3002</li> <li>Lambda \u51fd\u6570\u5c06\u6e90\u4e8b\u4ef6\u4f5c\u4e3a\u5f85\u52a0\u8f7d\u7684\u6761\u76ee\u4fdd\u7559\u5728 Amazon DynamoDB \u8868\u4e2d\u3002</li> <li>\u6570\u636e\u5904\u7406\u4efb\u52a1\u5b8c\u6210\u540e\uff0c\u4f1a\u5411 Amazon EventBridge \u53d1\u51fa\u4e00\u4e2a\u4e8b\u4ef6\u3002</li> <li>Amazon EventBridge \u7684\u9884\u5b9a\u4e49\u4e8b\u4ef6\u89c4\u5219\u5904\u7406 <code>EMR \u4efb\u52a1\u6210\u529f\u4e8b\u4ef6</code>\u3002</li> <li>\u8be5\u89c4\u5219\u8c03\u7528\u5176\u76ee\u6807\uff0c\u5373 AWS Step Functions \u5de5\u4f5c\u6d41\u7a0b\u3002</li> <li>\u5de5\u4f5c\u6d41\u7a0b\u4ece\u4e00\u4e2a Lambda \u51fd\u6570\u5f00\u59cb\uff0c\u8be5\u51fd\u6570\u67e5\u8be2 DynamoDB \u8868\u4ee5\u627e\u51fa\u8981\u52a0\u8f7d\u7684\u6570\u636e\uff0c\u7136\u540e\u4e3a\u4e00\u6279\u4e8b\u4ef6\u6570\u636e\u521b\u5efa\u6e05\u5355\u6587\u4ef6\u4ee5\u4f18\u5316\u52a0\u8f7d\u6027\u80fd\u3002</li> <li>\u7b49\u5f85\u51e0\u79d2\u949f\u540e\uff0c\u53e6\u4e00\u4e2a Lambda \u51fd\u6570\u5f00\u59cb\u68c0\u67e5\u52a0\u8f7d\u4efb\u52a1\u7684\u72b6\u6001\u3002</li> <li>\u5982\u679c\u52a0\u8f7d\u4ecd\u5728\u8fdb\u884c\u4e2d\uff0c\u5219\u518d\u7b49\u5f85\u51e0\u79d2\u949f\u540e\u518d\u8bd5\u3002</li> <li>\u52a0\u8f7d\u6240\u6709\u5bf9\u8c61\u540e\uff0c\u5de5\u4f5c\u6d41\u7a0b\u7ed3\u675f\u3002</li> </ol> <p> </p> \u56fe 5\uff1aAthena \u67b6\u6784\u4e2d\u7684\u6570\u636e\u5efa\u6a21 <p>\u5047\u8bbe\u60a8\u5728\u89e3\u51b3\u65b9\u6848\u4e2d\u521b\u5efa\u4e86\u6570\u636e\u7ba1\u9053\u5e76\u5728 Amazon Athena \u4e2d\u542f\u7528\u4e86\u6570\u636e\u5efa\u6a21\u3002\u6b64\u89e3\u51b3\u65b9\u6848\u5728\u60a8\u7684\u4e91\u8d26\u6237\u4e2d\u90e8\u7f72 Amazon CloudFormation \u6a21\u677f\u5e76\u5b8c\u6210\u4ee5\u4e0b\u8bbe\u7f6e\u3002</p> <ol> <li>Amazon EventBridge \u5b9a\u671f\u89e6\u53d1\u5411 Amazon Athena \u7684\u6570\u636e\u52a0\u8f7d\u3002</li> <li>\u53ef\u914d\u7f6e\u7684\u57fa\u4e8e\u65f6\u95f4\u7684\u8c03\u5ea6\u7a0b\u5e8f\u8c03\u7528 AWS Lambda \u51fd\u6570\u3002</li> <li>Lambda \u51fd\u6570\u4e3a\u5904\u7406\u540e\u7684\u70b9\u51fb\u6d41\u6570\u636e\u521b\u5efa AWS Glue \u8868\u7684\u5206\u533a\u3002</li> <li>Amazon Athena \u7528\u4e8e\u4ea4\u4e92\u5f0f\u67e5\u8be2\u70b9\u51fb\u6d41\u4e8b\u4ef6\u3002</li> <li>\u5904\u7406\u540e\u7684\u70b9\u51fb\u6d41\u6570\u636e\u901a\u8fc7 Glue \u8868\u8fdb\u884c\u626b\u63cf\u3002</li> </ol>"},{"location":"architecture/#_5","title":"\u62a5\u8868\u6a21\u5757","text":"\u56fe 6\uff1a\u62a5\u8868\u6a21\u5757\u67b6\u6784 <p>\u5047\u8bbe\u60a8\u5728\u89e3\u51b3\u65b9\u6848\u4e2d\u521b\u5efa\u4e86\u4e00\u4e2a\u6570\u636e\u7ba1\u9053\uff0c\u5728 Amazon Redshift \u4e2d\u542f\u7528\u6570\u636e\u5efa\u6a21\uff0c\u7136\u540e\u5728 Amazon QuickSight \u4e2d\u542f\u7528\u62a5\u8868\u6a21\u5757\u3002\u6b64\u89e3\u51b3\u65b9\u6848\u5728\u60a8\u7684\u4e91\u8d26\u6237\u4e2d\u90e8\u7f72 Amazon CloudFormation \u6a21\u677f\u5e76\u5b8c\u6210\u4ee5\u4e0b\u8bbe\u7f6e\u3002</p> <ol> <li>Amazon QuickSight \u4e2d\u7684 VPC \u8fde\u63a5\u7528\u4e8e\u5728 VPC \u5185\u5b89\u5168\u5730\u8fde\u63a5 Redshift\u3002</li> <li>\u6570\u636e\u6e90\u3001\u6570\u636e\u96c6\u3001\u6a21\u677f\u3001\u5206\u6790\u548c\u63a7\u5236\u9762\u677f\u5747\u5728 Amazon QuickSight \u4e2d\u521b\u5efa\uff0c\u7528\u4e8e\u5f00\u7bb1\u5373\u7528\u7684\u5206\u6790\u548c\u53ef\u89c6\u5316\u3002</li> </ol>"},{"location":"aws-services/","title":"\u89e3\u51b3\u65b9\u6848\u4e2d\u7684AWS\u670d\u52a1","text":"<p>\u672c\u8282\u4ecb\u7ecd\u6784\u6210\u6b64\u89e3\u51b3\u65b9\u6848\u7684\u7ec4\u4ef6\u548c\u4e91\u670d\u52a1\uff0c\u4ee5\u53ca\u6709\u5173\u8fd9\u4e9b\u7ec4\u4ef6\u5982\u4f55\u534f\u540c\u5de5\u4f5c\u7684\u67b6\u6784\u8be6\u7ec6\u4fe1\u606f\u3002</p>"},{"location":"aws-services/#_1","title":"\u6b64\u89e3\u51b3\u65b9\u6848\u4e2d\u7684\u4e91\u670d\u52a1","text":"<p>\u6b64\u89e3\u51b3\u65b9\u6848\u5305\u542b\u4ee5\u4e0b\u4e91\u670d\u52a1\uff1a</p> \u4e91\u670d\u52a1 \u63cf\u8ff0 Amazon Elastic Load Balancing \u6838\u5fc3\u3002  \u8d1f\u8d23\u5c06\u7f51\u7edc\u6d41\u91cf\u5206\u914d\u5230\u6444\u53d6\u670d\u52a1\u5668\u96c6\u7fa4\u3002 Amazon ECS \u6838\u5fc3\u3002  \u8d1f\u8d23\u8fd0\u884c\u6444\u53d6\u670d\u52a1\u5668\u3002 Amazon EC2 \u6838\u5fc3\u3002 \u4e3a\u6444\u53d6\u670d\u52a1\u5668\u63d0\u4f9b\u5e95\u5c42\u8ba1\u7b97\u8d44\u6e90\u3002 Amazon ECR \u6838\u5fc3\u3002 \u6258\u7ba1\u6444\u53d6\u670d\u52a1\u5668\u4f7f\u7528\u7684\u5bb9\u5668\u955c\u50cf\u3002 Amazon S3 \u6838\u5fc3\u3002 \u7528\u4e8e\u5b58\u50a8\u5df2\u6444\u53d6\u548c\u5904\u7406\u7684\u70b9\u51fb\u6d41\u6570\u636e\u3002\u5b83\u8fd8\u7528\u4e8e\u5b58\u50a8\u670d\u52a1\u65e5\u5fd7\u548c\u9759\u6001\u7f51\u7ad9\u8d44\u4ea7\uff08\u89e3\u51b3\u65b9\u6848\u63a7\u5236\u53f0\u7528\u6237\u754c\u9762\uff09\u3002 AWS Global Accelerator \u652f\u6301\u3002 \u63d0\u9ad8\u6444\u53d6\u670d\u52a1\u5728\u5404\u533a\u57df\u4e2d\u7684\u53ef\u7528\u6027\u3001\u6027\u80fd\u548c\u5b89\u5168\u6027\u3002 AWS CloudWatch \u652f\u6301\u3002 \u76d1\u63a7\u6570\u636e\u7ba1\u9053\u7684\u6307\u6807\u3001\u65e5\u5fd7\u548c\u8ddf\u8e2a\u3002 Amazon SNS \u652f\u6301\u3002 \u4e3a\u6570\u636e\u7ba1\u9053\u8b66\u62a5\u63d0\u4f9b\u4e3b\u9898\u548c\u7535\u5b50\u90ae\u4ef6\u8ba2\u9605\u901a\u77e5\u3002 Amazon Kinesis Data Streams \u652f\u6301\u3002 \u63d0\u4f9b\u6444\u53d6\u7f13\u51b2\u533a\u3002 AWS Lambda \u652f\u6301\u3002 \u4e0e\u5404\u4e91\u670d\u52a1\u96c6\u6210\u3002\u4f8b\u5982\uff0c\u5c06\u6444\u53d6\u6570\u636e\u63a5\u6536\u5230 S3\u548c\u7ba1\u7406 AWS \u8d44\u6e90\u7684\u751f\u547d\u5468\u671f\u3002 Amazon Managed Streaming for Apache Kafka (MSK) \u652f\u6301\u3002 \u4e3a\u6444\u53d6\u7f13\u51b2\u533a\u63d0\u4f9b Apache Kafka\u3002 Amazon EMR Serverless \u652f\u6301\u3002 \u5904\u7406\u6444\u53d6\u7684\u6570\u636e\u3002 Amazon Glue \u652f\u6301\u3002 \u7ba1\u7406\u5df2\u6444\u53d6\u6570\u636e\u7684\u5143\u6570\u636e\u76ee\u5f55\u3002 Amazon EventBridge \u652f\u6301\u3002 \u901a\u8fc7\u89e6\u53d1\u4e8b\u4ef6\u6216\u5b9a\u65f6\u4e8b\u4ef6\u4e0e\u4e91\u670d\u52a1\u96c6\u6210\u3002 Amazon Redshift \u652f\u6301\u3002 \u5206\u6790\u6570\u636e\u4ed3\u5e93\u4e2d\u7684\u70b9\u51fb\u6d41\u6570\u636e\u3002 Amazon Athena \u652f\u6301\u3002 \u5728\u6570\u636e\u6e56\u4e2d\u5206\u6790\u60a8\u7684\u70b9\u51fb\u6d41\u6570\u636e\u3002 AWS Step Functions \u652f\u6301\u3002 \u7f16\u6392\u9879\u76ee\u7ba1\u9053\u7684\u751f\u547d\u5468\u671f\u7ba1\u7406\u3002 \u6b64\u5916\uff0c\u5b83\u8fd8\u7ba1\u7406\u5c06\u6570\u636e\u52a0\u8f7d\u5230\u6570\u636e\u4ed3\u5e93\u7684\u5de5\u4f5c\u6d41\u7a0b\u3002 AWS Secrets Manager \u652f\u6301\u3002 \u5b58\u50a8 OIDC \u51ed\u8bc1\u548c\u5b58\u50a8\u5546\u4e1a\u667a\u80fd\u7528\u6237\u8bbf\u95ee Redshift \u7684\u51ed\u8bc1\u3002 Amazon QuickSight \u652f\u6301\u3002 \u53ef\u89c6\u5316\u60a8\u7684\u70b9\u51fb\u6d41\u6570\u636e\u5206\u6790\u62a5\u8868\u3002 Amazon CloudFront \u652f\u6301\u3002 \u4e3a\u9759\u6001\u7f51\u7ad9\u8d44\u4ea7\uff08\u89e3\u51b3\u65b9\u6848\u63a7\u5236\u53f0\u7528\u6237\u754c\u9762\uff09\u548c\u63a7\u5236\u53f0\u5e94\u7528\u7a0b\u5e8f\u63a5\u53e3\u63d0\u4f9b\u7edf\u4e00\u4ee3\u7406\u3002 Amazon Cognito \u652f\u6301\u3002 \u5bf9\u7528\u6237\u8fdb\u884c\u8eab\u4efd\u9a8c\u8bc1\u3002 Amazon API Gateway \u652f\u6301\u3002 \u4e3a\u89e3\u51b3\u65b9\u6848\u63a7\u5236\u53f0\u63d0\u4f9b\u540e\u7aef\u5e94\u7528\u7a0b\u5e8f\u63a5\u53e3\u3002 Amazon DynamoDB \u652f\u6301\u3002  \u7528\u4e8e\u5b58\u50a8\u89e3\u51b3\u65b9\u6848\u63a7\u5236\u53f0\u7ba1\u7406\u76f8\u5173\u6570\u636e\u3002 AWS CloudFormation \u652f\u6301\u3002  \u4e3a\u6570\u636e\u7ba1\u9053\u6a21\u5757\u914d\u7f6e\u4e91\u670d\u52a1\u8d44\u6e90\u3002"},{"location":"faq/","title":"\u5e38\u89c1\u95ee\u9898","text":""},{"location":"faq/#_2","title":"\u4e00\u822c\u7684","text":"<p>\u95ee\uff1a\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u70b9\u51fb\u6d41\u5206\u6790 \u662f\u4ec0\u4e48\uff1f \u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u70b9\u51fb\u6d41\u5206\u6790\u662f\u4e00\u79cd AWS \u89e3\u51b3\u65b9\u6848\uff0c\u4f7f\u5ba2\u6237\u80fd\u591f\u8f7b\u677e\u5730\u5728 AWS \u4e0a\u6784\u5efa\u70b9\u51fb\u6d41\u5206\u6790\u7cfb\u7edf\u3002 \u8be5\u89e3\u51b3\u65b9\u6848\u4f7f\u7528\u53ef\u89c6\u5316\u6570\u636e\u7ba1\u9053\u6784\u5efa\u5de5\u5177\uff0c\u6839\u636e\u5ba2\u6237\u7684\u914d\u7f6e\u81ea\u52a8\u521b\u5efa\u6570\u636e\u7ba1\u9053\uff0c\u5e76\u4e3a Web \u548c\u79fb\u52a8\u5e94\u7528\u7a0b\u5e8f\uff08\u5305\u62ec iOS\u3001Android \u548c Web JS\uff09\u63d0\u4f9b SDK\uff0c\u4ee5\u5e2e\u52a9\u5ba2\u6237\u6536\u96c6\u5ba2\u6237\u7aef\u6570\u636e\u5e76\u5c06\u5176\u6444\u53d6\u5230\u6570\u636e\u7ba1\u9053\u4e2d\u3002\u6570\u636e\u6444\u53d6\u540e\uff0c\u8be5\u89e3\u51b3\u65b9\u6848\u5141\u8bb8\u5ba2\u6237\u8fdb\u4e00\u6b65\u5bf9\u4e8b\u4ef6\u6570\u636e\u5bcc\u5316\u548c\u5efa\u6a21\u4ee5\u4f9b\u4e1a\u52a1\u7528\u6237\u67e5\u8be2\uff0c\u5e76\u63d0\u4f9b\u5185\u7f6e\u53ef\u89c6\u5316\u770b\u677f\uff08\u4f8b\u5982\uff1a\u7528\u6237\u83b7\u53d6\u3001\u7528\u6237\u53c2\u4e0e\u3001\u7559\u5b58\uff09\u4ee5\u5e2e\u52a9\u4ed6\u4eec\u66f4\u5feb\u5730\u4ea7\u751f\u6d1e\u5bdf\u3002</p>"},{"location":"faq/#_3","title":"\u5f00\u53d1\u5de5\u5177\u5305","text":"<p>\u95ee\uff1a\u6211\u53ef\u4ee5\u4f7f\u7528\u5176\u4ed6SDK\u5411\u8be5\u65b9\u6848\u521b\u5efa\u7684\u7ba1\u9053\u53d1\u9001\u6570\u636e\u5417\uff1f \u53ef\u4ee5\u3002\u8be5\u65b9\u6848\u652f\u6301\u7528\u6237\u4f7f\u7528\u7b2c\u4e09\u65b9SDK\u5411\u6570\u636e\u7ba1\u9053\u53d1\u9001\u6570\u636e\u3002\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5982\u679c\u60a8\u60f3\u5728\u4f7f\u7528\u7b2c\u4e09\u65b9SDK\u53d1\u9001\u6570\u636e\u65f6\uff0c\u5728\u6570\u636e\u5904\u7406\u548c\u6570\u636e\u5efa\u6a21\u6a21\u5757\uff0c\u60a8\u9700\u8981\u63d0\u4f9b\u4e00\u4e2a\u8f6c\u6362\u63d2\u4ef6\u6765\u5c06\u7b2c\u4e09\u65b9SDK\u7684\u6570\u636e\u7ed3\u6784\u6620\u5c04\u5230\u89e3\u51b3\u65b9\u6848\u6570\u636e\u7ed3\u6784\u3002 \u8be6\u60c5\u8bf7\u53c2\u8003\u81ea\u5b9a\u4e49\u63d2\u4ef6\u3002</p>"},{"location":"faq/#_4","title":"\u5b89\u88c5\u4e0e\u914d\u7f6e","text":"<p>\u95ee\uff1a\u5982\u4f55\u4e3a\u8be5\u89e3\u51b3\u65b9\u6848\u521b\u5efa\u66f4\u591a\u7528\u6237\uff1f \u5982\u679c\u60a8\u4f7f\u7528 Cognito \u7528\u6237\u6c60\u542f\u52a8\u89e3\u51b3\u65b9\u6848\uff0c\u8bf7\u8f6c\u5230 AWS \u63a7\u5236\u53f0\uff0c\u627e\u5230\u8be5\u89e3\u51b3\u65b9\u6848\u521b\u5efa\u7684\u7528\u6237\u6c60\uff0c\u60a8\u53ef\u4ee5\u521b\u5efa\u66f4\u591a\u7528\u6237\u3002 \u5982\u679c\u60a8\u4f7f\u7528 OpenID Connect (OIDC) \u542f\u52a8\u89e3\u51b3\u65b9\u6848\uff0c\u5219\u5e94\u5728\u7531 OIDC \u63d0\u4f9b\u5546\u7ba1\u7406\u7684\u7528\u6237\u6c60\u3002 \u8bf7\u6ce8\u610f\uff0c\u6240\u6709\u7528\u6237\u90fd\u5177\u6709\u76f8\u540c\u7684\u6743\u9650\u3002</p>"},{"location":"faq/#_5","title":"\u4ef7\u683c","text":"<p>\u95ee\uff1a\u4f7f\u7528\u6b64\u89e3\u51b3\u65b9\u6848\u5982\u4f55\u6536\u8d39\u548c\u8ba1\u8d39\uff1f \u8be5\u89e3\u51b3\u65b9\u6848\u53ef\u514d\u8d39\u4f7f\u7528\uff0c\u60a8\u9700\u8981\u627f\u62c5\u8fd0\u884c\u8be5\u89e3\u51b3\u65b9\u6848\u65f6\u4f7f\u7528\u7684 AWS \u670d\u52a1\u7684\u8d39\u7528\u3002 \u60a8\u53ea\u9700\u4e3a\u4f7f\u7528\u7684\u5185\u5bb9\u4ed8\u8d39\uff0c\u6ca1\u6709\u6700\u4f4e\u8d39\u7528\u6216\u8bbe\u7f6e\u8d39\u7528\u3002\u6709\u5173\u8be6\u7ec6\u7684\u6210\u672c\u4f30\u7b97\uff0c\u8bf7\u53c2\u9605 Cost \u90e8\u5206\u3002</p>"},{"location":"identity-mgmt/","title":"\u8eab\u4efd\u7ba1\u7406","text":""},{"location":"identity-mgmt/#_2","title":"\u7528\u6237","text":"<p>\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u70b9\u51fb\u6d41\u5206\u6790 \u652f\u6301\u5185\u7f6e Cognito \u7528\u6237\u6c60\u6216\u7b2c\u4e09\u65b9 OpenID Connect (OIDC)\uff0c\u4ee5\u4fbf\u6839\u636e\u60a8\u7684\u90e8\u7f72\u65b9\u5f0f\u8fdb\u884c\u7528\u6237\u7ba1\u7406\u3002</p>"},{"location":"identity-mgmt/#_3","title":"\u7528\u6237\u7ba1\u7406","text":"<p>\u5982\u679c\u60a8\u4f7f\u7528\u5185\u7f6e Cognito \u8fdb\u884c\u7528\u6237\u7ba1\u7406\uff0c\u60a8\u53ef\u4ee5\u5728\u90e8\u7f72\u533a\u57df\u4e2d\u627e\u5230\u4ee5 <code>userPoolDC9497E0</code> \u5f00\u5934\u7684 Cognito \u7528\u6237\u6c60\u3002 \u5f53\u60a8\u90e8\u7f72\u89e3\u51b3\u65b9\u6848\u7684 Web \u63a7\u5236\u53f0\u65f6\uff0c\u5c06\u521b\u5efa\u5177\u6709\u6240\u9700\u7535\u5b50\u90ae\u4ef6\u5730\u5740\u7684\u7528\u6237\u4f5c\u4e3a\u7b2c\u4e00\u4e2a\u5177\u6709\u7ba1\u7406\u5458\u6743\u9650\u7684\u7528\u6237\u3002 \u6309\u7167\u672c\u6587\u6863\uff0c\u60a8\u53ef\u4ee5\u7ba1\u7406\u5176\u4ed6\u7528\u6237\u3002 \u60a8\u8fd8\u53ef\u4ee5\u6309\u7167\u672c\u6587\u6863\u6dfb\u52a0\u8054\u5408\u7b2c\u4e09\u65b9\u767b\u5f55\uff0c\u4f8b\u5982 SAML \u548c OIDC\u3002</p> <p>\u5982\u679c\u60a8\u4f7f\u7528 OIDC \u63d0\u4f9b\u5546\u8fdb\u884c\u7528\u6237\u7ba1\u7406\uff0c\u5219\u9700\u8981\u6309\u7167 OIDC \u63d0\u4f9b\u5546\u7684\u6587\u6863\u6765\u7ba1\u7406\u7528\u6237\u3002</p>"},{"location":"identity-mgmt/#_4","title":"\u7528\u6237\u8eab\u4efd","text":"<p>\u60a8\u53ef\u4ee5\u5411\u7528\u6237\u5206\u914d\u56db\u79cd\u4e0d\u540c\u7c7b\u578b\u7684\u89d2\u8272\uff1a</p> \u89d2\u8272 \u63cf\u8ff0 \u7ba1\u7406\u5458 \u5bf9\u89e3\u51b3\u65b9\u6848\u7684\u5b8c\u5168\u8bbf\u95ee\u6743\u9650\uff0c\u5305\u62ec\u8eab\u4efd\u7ba1\u7406 \u64cd\u4f5c\u5458 \u7ba1\u7406\u9879\u76ee\u3001\u544a\u8b66\u548c\u63d2\u4ef6 \u5206\u6790\u5e08 \u5728\u5206\u6790\u5de5\u4f5c\u574a\u4e2d\u67e5\u770b\u548c\u66f4\u65b0 \u5206\u6790\u5e08\u8bfb\u8005 \u5728\u5206\u6790\u5de5\u4f5c\u574a\u4e2d\u67e5\u770b <p>\u89d2\u8272\u7684\u5177\u4f53\u529f\u80fd\u5982\u4e0b\u8868\u6240\u793a\uff1a</p> \u529f\u80fd \u7ba1\u7406\u5458 \u64cd\u4f5c\u5458 \u5206\u6790\u5e08 \u5206\u6790\u5e08\u8bfb\u8005 \u9879\u76ee\u7ba1\u7406 Yes Yes No No \u8fd0\u7ef4\u548c\u544a\u8b66 Yes Yes No No \u63d2\u4ef6\u7ba1\u7406 Yes Yes No No \u8eab\u4efd\u7ba1\u7406 Yes No No No \u5206\u6790\u5de5\u4f5c\u574a - \u4eea\u8868\u677f Yes No Yes Yes \u5206\u6790\u5de5\u4f5c\u574a - \u63a2\u7d22 Yes No Yes Yes \u5206\u6790\u5de5\u4f5c\u574a - \u5206\u6790 Yes No Yes No \u5206\u6790\u5de5\u4f5c\u574a - \u6570\u636e\u7ba1\u7406 Yes No Yes Yes"},{"location":"identity-mgmt/#_5","title":"\u7528\u6237\u89d2\u8272\u7ba1\u7406","text":"<p>\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u7ecf\u8fc7\u8eab\u4efd\u9a8c\u8bc1\u7684\u7528\u6237\u5728\u89e3\u51b3\u65b9\u6848\u4e2d\u6ca1\u6709\u89d2\u8272\u3002 \u60a8\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u4e24\u79cd\u65b9\u5f0f\u6765\u7ba1\u7406\u89e3\u51b3\u65b9\u6848\u4e2d\u7684\u7528\u6237\u89d2\u8272\uff1a</p> <ol> <li>\u7528\u201c\u7ba1\u7406\u5458\u201d\u7528\u6237\u5728\u89e3\u51b3\u65b9\u6848\u7684 Web \u63a7\u5236\u53f0\u4e2d\u9009\u62e9\u7cfb\u7edf - \u7528\u6237\uff0c\u6dfb\u52a0\u3001\u66f4\u65b0\u6216\u5220\u9664\u7528\u6237\u89d2\u8272\u3002 \u6b64\u8bbe\u7f6e\u4f18\u5148\u4e8e\u5176\u4ed6\u8bbe\u7f6e\u3002</li> <li>\u5728\u89e3\u51b3\u65b9\u6848\u7684 Web \u63a7\u5236\u53f0\u4e2d\uff0c\u4ee5\u201c\u7ba1\u7406\u5458\u201d\u7528\u6237\u8eab\u4efd\u5355\u51fb\u7cfb\u7edf - \u7528\u6237\u4e2d\u7684\u8bbe\u7f6e\u3002 \u914d\u7f6e\u6620\u5c04\u5230 OIDC \u63d0\u4f9b\u5546\u4e2d\u7684\u7ec4\u6216\u89d2\u8272\u7684\u89e3\u51b3\u65b9\u6848\u89d2\u8272\u3002</li> </ol> <p>\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u8be5\u89e3\u51b3\u65b9\u6848\u652f\u6301\u5c06 Cognito \u7528\u6237\u6c60\u4e2d\u7684\u7ec4\u4fe1\u606f \u6620\u5c04\u5230\u89e3\u51b3\u65b9\u6848\u4e2d\u7684\u591a\u4e2a\u89d2\u8272\uff0c\u89c4\u5219\u5982\u4e0b\uff1a</p> Cognito \u4e2d\u7684\u7ec4\u540d\u79f0 \u89e3\u51b3\u65b9\u6848\u89d2\u8272 ClickstreamAdmin \u7ba1\u7406\u5458 ClickstreamOperator \u64cd\u4f5c\u5458 ClickstreamAnalyst \u5206\u6790\u5e08 ClickstreamAnalystReader \u5206\u6790\u5e08\u8bfb\u8005 <p>\u4f8b\u5982\uff0c\u60a8\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a\u201cClickstreamAnalyst\u201d\u7684\u7ec4\uff0c\u7136\u540e\u5c06\u7528\u6237\u6c60\u4e2d\u7684\u7528\u6237\u6dfb\u52a0\u5230\u8be5\u7ec4\u3002 \u8fd9\u4e9b\u7528\u6237\u767b\u5f55\u5230\u89e3\u51b3\u65b9\u6848\u540e\uff0c\u8be5\u7528\u6237\u5c06\u5177\u6709\u5206\u6790\u5e08\u89d2\u8272\u6765\u8bbf\u95ee\u5206\u6790\u5de5\u4f5c\u574a\u3002</p> <p>\u652f\u6301\u5c06\u591a\u4e2a\u7ec4\u6620\u5c04\u5230\u5355\u4e2a\u7cfb\u7edf\u89d2\u8272\uff0c\u5404\u4e2a\u7ec4\u540d\u79f0\u4ee5\u9017\u53f7\u5206\u9694\u3002 \u4f8b\u5982\uff0c\u901a\u8fc7\u4fee\u6539\u64cd\u4f5c\u5458\u89d2\u8272\u540d\u79f0\uff1a<code>Group1,Group2</code>\uff0c\u5373\u53ef\u5c06\u4e24\u4e2a\u7528\u6237\u7ec4\u6620\u5c04\u5230\u7cfb\u7edf\u7684\u64cd\u4f5c\u5458\u89d2\u8272\u3002</p> <p>\u5982\u679c\u9700\u8981\u652f\u6301\u5176\u4ed6OIDC\u63d0\u4f9b\u5546\uff0c\u8bf7\u4fee\u6539\u7528\u6237\u89d2\u8272Json\u8def\u5f84\u3002</p> <p>\u793a\u4f8b\uff1a\u4fee\u6539\u7528\u6237\u89d2\u8272\u7684Json Path\u4e3a<code>$.payload.realm_access.roles</code>\uff0c\u53ef\u4ee5\u652f\u6301Keycloak\u89d2\u8272\u5230\u89e3\u51b3\u65b9\u6848\u89d2\u8272\u7684\u6620\u5c04\uff0c\u5176\u4e2d Keycloak \u7684 token \u683c\u5f0f\u5982\u4e0b \uff1a</p> <pre><code>{\n  \"exp\": 1701070445,\n  \"iat\": 1701063245,\n  \"auth_time\": 1701062050,\n  \"jti\": \"4a892061-56e1-4997-a5f3-84a5d38215f0\",\n  \"iss\": \"https://keycloak.xxxx.cn/auth/realms/xxx\",\n  \"aud\": \"P****************Y\",\n  \"sub\": \"29563a2d-****-43bb-b861-c163da7fe984\",\n  \"typ\": \"ID\",\n  \"azp\": \"P****************Y\",\n  \"session_state\": \"4df36df4-****-4e53-9c1a-43e6d27ffbb9\",\n  \"at_hash\": \"P****************Y\",\n  \"acr\": \"0\",\n  \"sid\": \"4df36df4-****-4e53-9c1a-43e6d27ffbb9\",\n  \"email_verified\": false,\n  \"realm_access\": {\n    \"roles\": [\n      \"role1\",\n      \"role2\",\n      \"role3\",\n    ]\n  },\n  \"preferred_username\": \"your name\",\n  \"email\": \"your-name@example.com\"\n}\n</code></pre>"},{"location":"notices/","title":"\u6ce8\u610f\u4e8b\u9879","text":"<p>\u987e\u5ba2\u6709\u8d23\u4efb\u5bf9\u672c\u6587\u6863\u4e2d\u7684\u4fe1\u606f\u8fdb\u884c\u72ec\u7acb\u8bc4\u4f30\u3002\u672c\u6587\u6863\uff1a(a) \u4ec5\u7528\u4e8e\u4fe1\u606f\u76ee\u7684\uff0c(b) \u4ee3\u8868\u4e9a\u9a6c\u900a\u7f51\u7edc\u670d\u52a1\u7684\u5f53\u524d\u4ea7\u54c1\u548c\u5b9e\u8df5\uff0c\u8fd9\u4e9b\u5185\u5bb9\u53ef\u80fd\u4f1a\u5728\u4e0d\u4e8b\u5148\u901a\u77e5\u7684\u60c5\u51b5\u4e0b\u53d1\u751f\u53d8\u5316\uff0c\u4ee5\u53ca (c) \u4e0d\u4f1a\u5bf9\u4e9a\u9a6c\u900a\u7f51\u7edc\u670d\u52a1\u53ca\u5176\u5173\u8054\u516c\u53f8\u3001\u4f9b\u5e94\u5546\u6216\u8bb8\u53ef\u65b9\u4ea7\u751f\u4efb\u4f55\u627f\u8bfa\u6216\u4fdd\u8bc1\u3002\u4e9a\u9a6c\u900a\u7f51\u7edc\u670d\u52a1\u7684\u4ea7\u54c1\u6216\u670d\u52a1\u6309\u539f\u6837\u63d0\u4f9b\uff0c\u4e0d\u9644\u5e26\u4efb\u4f55\u660e\u793a\u6216\u6697\u793a\u7684\u4fdd\u8bc1\u3001\u9648\u8ff0\u6216\u6761\u4ef6\u3002\u4e9a\u9a6c\u900a\u7f51\u7edc\u670d\u52a1\u5bf9\u5176\u5ba2\u6237\u7684\u8d23\u4efb\u548c\u8d23\u4efb\u53d7\u4e9a\u9a6c\u900a\u7f51\u7edc\u670d\u52a1\u7684\u534f\u8bae\u63a7\u5236\uff0c\u672c\u6587\u6863\u4e0d\u662f\u4e9a\u9a6c\u900a\u7f51\u7edc\u670d\u52a1\u4e0e\u5176\u5ba2\u6237\u4e4b\u95f4\u7684\u4efb\u4f55\u534f\u8bae\u7684\u4e00\u90e8\u5206\uff0c\u4e5f\u4e0d\u4fee\u6539\u4efb\u4f55\u534f\u8bae\u3002</p> <p>\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u70b9\u51fb\u6d41\u5206\u6790\u6839\u636e Apache \u8bb8\u53ef\u8bc1\u7b2c 2.0 \u7248\u7684\u6761\u6b3e\u83b7\u5f97\u8bb8\u53ef\uff0c\u8be5\u8bb8\u53ef\u8bc1\u53ef\u5728 Apache Software Foundation \u4e0a\u83b7\u5f97\u3002</p>"},{"location":"revisions/","title":"\u4fee\u8ba2\u8bb0\u5f55","text":"\u65e5\u671f \u7248\u672c\u53d1\u5e03\u8bf4\u660e 2023\u5e7407\u6708 \u9996\u6b21\u53d1\u5e03"},{"location":"source/","title":"\u6e90\u4ee3\u7801","text":"<p>\u8bbf\u95ee\u6211\u4eec\u7684GitHub\u4ee3\u7801\u5e93\u4ee5\u4e0b\u8f7d\u6b64\u89e3\u51b3\u65b9\u6848\u7684\u6e90\u4ee3\u7801\u3002\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u70b9\u51fb\u6d41\u5206\u6790\u6a21\u677f\u662f\u4f7f\u7528AWS Cloud Development Kit (CDK)\u751f\u6210\u7684\u3002\u8bf7\u53c2\u9605README.md\u6587\u4ef6\u83b7\u53d6\u5176\u4ed6\u4fe1\u606f\u3002</p>"},{"location":"troubleshooting/","title":"\u6545\u969c\u6392\u9664","text":"<p>\u4ee5\u4e0b\u5185\u5bb9\u53ef\u5e2e\u52a9\u60a8\u4fee\u590d\u4f7f\u7528 \u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u70b9\u51fb\u6d41\u5206\u6790 \u65f6\u53ef\u80fd\u9047\u5230\u7684\u9519\u8bef\u6216\u95ee\u9898\u3002</p>"},{"location":"troubleshooting/#invalid-logging-configuration-the-cloudwatch-logs-resource-policy-size-was-exceeded","title":"\u95ee\u9898\uff1a\u7531\u4e8e\u201cInvalid Logging Configuration: The CloudWatch Logs Resource Policy size was exceeded\u201d\u800c\u5bfc\u81f4\u90e8\u7f72\u5931\u8d25","text":"<p>\u5982\u679c\u60a8\u56e0\u521b\u5efa CloudWatch \u65e5\u5fd7\u7ec4\u800c\u9047\u5230\u90e8\u7f72\u5931\u8d25\u5e76\u663e\u793a\u5982\u4e0b\u9519\u8bef\u6d88\u606f\uff1a</p> <p>Cannot enable logging. Policy document length breaking Cloudwatch Logs Constraints, either &lt; 1 or &gt; 5120 (Service: AmazonApiGatewayV2; Status Code: 400; Error Code: BadRequestException; Request ID: xxx-yyy-zzz; Proxy: null)</p> <p>\u89e3\u51b3\u65b9\u6cd5\uff1a</p> <p>CloudWatch Logs \u8d44\u6e90\u7b56\u7565\u9650\u5236\u4e3a 5120 \u4e2a\u5b57\u7b26\u3002 \u4fee\u590d\u65b9\u6cd5\u662f\uff1a\u5408\u5e76\u6216\u5220\u9664\u65e0\u7528\u7684\u7b56\u7565\uff0c\u7136\u540e\u66f4\u65b0 CloudWatch \u65e5\u5fd7\u7684\u8d44\u6e90\u7b56\u7565\u4ee5\u51cf\u5c11\u7b56\u7565\u7684\u6570\u91cf\u3002</p> <p>\u4ee5\u4e0b\u662f\u91cd\u7f6e CloudWatch \u65e5\u5fd7\u8d44\u6e90\u7b56\u7565\u7684\u793a\u4f8b\u547d\u4ee4\uff1a</p> <pre><code>aws logs put-resource-policy --policy-name AWSLogDeliveryWrite20150319 \\\n--policy-document '\n{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Sid\": \"AWSLogDeliveryWrite2\",\n      \"Effect\": \"Allow\",\n      \"Principal\": {\n        \"Service\": \"delivery.logs.amazonaws.com\"\n      },\n      \"Action\": [\n        \"logs:CreateLogStream\",\n        \"logs:PutLogEvents\"\n      ],\n      \"Resource\": [\n      ],\n      \"Condition\": {\n        \"StringEquals\": {\n          \"aws:SourceAccount\": \"&lt;your AWS account id&gt;\"\n        },\n        \"ArnLike\": {\n          \"aws:SourceArn\": \"arn:aws:logs:&lt;AWS region&gt;:&lt;your AWS account id&gt;:*\"\n        }\n      }\n    }\n  ]\n}\n'\n</code></pre>"},{"location":"troubleshooting/#clickstream-cloudformation","title":"\u95ee\u9898\uff1a\u65e0\u6cd5\u5220\u9664\u4e3a Clickstream \u6570\u636e\u7ba1\u9053\u521b\u5efa\u7684 CloudFormation \u5806\u6808","text":"<p>\u5982\u679c\u60a8\u5728\u5220\u9664\u4e3a Clickstream \u7ba1\u9053\u521b\u5efa\u7684 CloudFormation \u5806\u6808\u65f6\u9047\u5230\u5982\u4e0b\u6240\u793a\u7684\u9519\u8bef\u6d88\u606f\uff1a</p> <p>Role arn:aws:iam::&lt;your AWS account id&gt;:role/&lt;stack nam&gt;-ClickStreamApiStackActionSta-&lt;random suffix&gt; is invalid or cannot be assumed</p> <p>\u89e3\u51b3\u65b9\u6cd5\uff1a</p> <p>\u8fd9\u662f\u7531\u4e8e\u5728\u4e3a Clickstream \u6570\u636e\u7ba1\u9053\u521b\u5efa CloudFormation \u5806\u6808\u4e4b\u524d\u5220\u9664\u4e86\u8be5\u89e3\u51b3\u65b9\u6848\u7684 Web \u63a7\u5236\u53f0\u5806\u6808\u3002</p> <p>\u8bf7\u4f7f\u7528\u4e0a\u8ff0\u9519\u8bef\u6d88\u606f\u4e2d\u63d0\u5230\u7684\u76f8\u540c\u540d\u79f0\u521b\u5efa\u4e00\u4e2a\u65b0\u7684 IAM \u89d2\u8272\uff0c\u5e76\u4fe1\u4efb\u5177\u6709\u8db3\u591f\u6743\u9650\u7684 CloudFormation \u670d\u52a1\u4ee5\u5220\u9664\u8fd9\u4e9b\u5806\u6808\u3002</p> <p>\u63d0\u793a</p> <p>\u6210\u529f\u79fb\u9664\u8fd9\u4e9b CloudFormation \u5806\u6808\u540e\uff0c\u60a8\u53ef\u4ee5\u5220\u9664 IAM \u89d2\u8272\u3002</p>"},{"location":"troubleshooting/#msk-ingestion-serverinvalidreplicationfactor-broker-invalid-replication-factor","title":"\u95ee\u9898\uff1a\u65e0\u6cd5\u5c06\u6570\u636e\u6444\u53d6\u5230 MSK \u96c6\u7fa4\uff0cIngestion Server\u65e5\u5fd7\u4e3a\u201cInvalidReplicationFactor (Broker: Invalid replication factor)\u201d","text":"<p>\u5982\u679c\u53d1\u73b0\u6570\u636e\u65e0\u6cd5\u901a\u8fc7MSK\u96c6\u7fa4\u5b58\u50a8\u5230S3\u4e2d\uff0cIngestion Server (ECS) worker task\u65e5\u5fd7\u4e2d\u7684\u62a5\u9519\u4fe1\u606f\u5982\u4e0b\uff1a</p> <p>Message production error: InvalidReplicationFactor (Broker: Invalid replication factor)</p> <p>\u89e3\u51b3\u65b9\u6cd5\uff1a</p> <p>\u8fd9\u662f\u56e0\u4e3areplication factor \u5927\u4e8ebrokers\u603b\u6570\u9020\u6210\u7684\uff0c\u8bf7\u7f16\u8f91 MSK \u96c6\u7fa4\u914d\u7f6e\uff0c\u8bbe\u7f6e default.replication.factor \u4e0d\u5927\u4e8ebrokers\u603b\u6570\u3002</p>"},{"location":"uninstall/","title":"\u5378\u8f7dClickstream Analytics on AWS","text":"<p>\u8b66\u544a</p> <p>\u5982\u679c\u4f60\u5728\u5220\u9664\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u70b9\u51fb\u6d41\u5206\u6790\u4e3b\u5806\u6808\u4e4b\u524d\uff0c\u5220\u9664\u9879\u76ee\u76f8\u5173\u7684\u5806\u6808\uff0c\u4f60\u4f1a\u9047\u5230IAM\u89d2\u8272\u4e22\u5931\u7684\u9519\u8bef\u3002\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u70b9\u51fb\u6d41\u5206\u6790\u63a7\u5236\u53f0\u4e3aClickstream\u6570\u636e\u7ba1\u9053\u542f\u52a8\u4e86\u989d\u5916\u7684CloudFormation\u5806\u6808\u3002 \u6211\u4eec\u5efa\u8bae\u4f60\u5728\u5378\u8f7d\u89e3\u51b3\u65b9\u6848\u4e4b\u524d\u5220\u9664\u9879\u76ee\u3002</p>"},{"location":"uninstall/#1","title":"\u6b65\u9aa41. \u5220\u9664\u9879\u76ee","text":"<ol> <li>\u8f6c\u5230\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u70b9\u51fb\u6d41\u5206\u6790\u63a7\u5236\u53f0\u3002</li> <li>\u5728\u5de6\u8fb9\u7684\u4fa7\u8fb9\u680f\uff0c\u9009\u62e9\u9879\u76ee\u3002</li> <li>\u9009\u62e9\u8981\u5220\u9664\u7684\u9879\u76ee\u3002</li> <li>\u9009\u62e9\u53f3\u4e0a\u89d2\u7684\u5220\u9664\u6309\u94ae\u3002</li> <li>\u91cd\u590d\u6b65\u9aa43\u548c4\uff0c\u5220\u9664\u6240\u6709\u9879\u76ee\u3002</li> </ol>"},{"location":"uninstall/#2","title":"\u6b65\u9aa42. \u5220\u9664\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u70b9\u51fb\u6d41\u5206\u6790\u4e3b\u5806\u6808","text":"<ol> <li>\u8f6c\u5230CloudFormation\u63a7\u5236\u53f0\u3002</li> <li>\u627e\u5230\u89e3\u51b3\u65b9\u6848\u7684CloudFormation\u5806\u6808\u3002</li> <li>\u5220\u9664\u8be5\u89e3\u51b3\u65b9\u6848\u7684CloudFormation\u5806\u6808\u3002</li> <li>\uff08\u53ef\u9009\uff09\u5220\u9664\u8be5\u89e3\u51b3\u65b9\u6848\u521b\u5efa\u7684S3\u6876\u3002<ol> <li>\u9009\u62e9\u89e3\u51b3\u65b9\u6848\u7684CloudFormation\u5806\u6808\uff0c\u5e76\u9009\u62e9\u8d44\u6e90\u6807\u7b7e\u3002</li> <li>\u5728\u641c\u7d22\u680f\u4e2d\uff0c\u8f93\u5165 \"DataBucket\"\u3002\u5b83\u663e\u793a\u6240\u6709\u7531\u89e3\u51b3\u65b9\u6848\u521b\u5efa\u7684\u540d\u79f0\u4e3a \"DataBucket \"\u7684\u8d44\u6e90\u3002\u4f60\u53ef\u4ee5\u627e\u5230\u8d44\u6e90\u7c7b\u578bAWS::S3::Bucket\uff0cPhysical ID\u5b57\u6bb5\u662fS3\u6876\u7684\u540d\u79f0\u3002</li> <li>\u8fdb\u5165S3\u63a7\u5236\u53f0\uff0c\u627e\u5230S3\u6876\u7684\u540d\u79f0\u3002\u7a7a\u5e76\u5220\u9664\u8be5S3\u6876\u3002</li> </ol> </li> </ol>"},{"location":"upgrade/","title":"\u5347\u7ea7\u89e3\u51b3\u65b9\u6848","text":""},{"location":"upgrade/#_2","title":"\u89c4\u5212\u548c\u51c6\u5907","text":"<ol> <li>\u6570\u636e\u5904\u7406\u95f4\u9694\uff1a\u7ba1\u9053\u5347\u7ea7\u5927\u7ea6\u9700\u898120\u5206\u949f\uff1b \u786e\u4fdd\u5347\u7ea7\u73b0\u6709\u7ba1\u9053\u65f6\u6ca1\u6709\u6570\u636e\u5904\u7406\u4f5c\u4e1a\u6b63\u5728\u8fd0\u884c\u3002 \u60a8\u53ef\u4ee5\u66f4\u65b0\u73b0\u6709\u7ba1\u9053\uff0c\u589e\u52a0\u95f4\u9694\u65f6\u95f4\uff0c\u5e76\u5728\u63a7\u5236\u53f0\u67e5\u770bEMR Serverless\u5e94\u7528\u662f\u5426\u6709\u65e0\u6b63\u5728\u8fd0\u884c\u7684\u4f5c\u4e1a\u3002</li> <li>\u5907\u4efd\u4fee\u6539\u540e\u7684 QuickSight \u5206\u6790\u548c\u4eea\u8868\u677f\uff1a\u89e3\u51b3\u65b9\u6848\u5347\u7ea7\u53ef\u80fd\u4f1a\u66f4\u65b0\u65b9\u6848\u63d0\u4f9b\u7684\u5206\u6790\u548c\u4eea\u8868\u677f\u3002 \u5982\u679c\u60a8\u66f4\u6539\u4e86\u5b83\uff0c\u8bf7\u6309\u7167\u672c\u6587\u6863\u8fdb\u884c\u5907\u4efd\u3002</li> </ol>"},{"location":"upgrade/#_3","title":"\u5347\u7ea7\u8fc7\u7a0b","text":""},{"location":"upgrade/#web","title":"\u5347\u7ea7 Web \u63a7\u5236\u53f0\u5806\u6808","text":"<ol> <li>\u767b\u5f55\u5230 AWS CloudFormation \u63a7\u5236\u53f0\uff0c\u9009\u62e9\u60a8\u73b0\u6709\u7684 Web \u63a7\u5236\u53f0\u5806\u6808\uff0c\u7136\u540e\u9009\u62e9\u66f4\u65b0\u3002</li> <li>\u9009\u62e9\u66ff\u6362\u5f53\u524d\u6a21\u677f\u3002</li> <li> <p>\u5728\u6307\u5b9a\u6a21\u677f\u4e0b\uff1a</p> <ul> <li>\u9009\u62e9 Amazon S3 URL\u3002</li> <li>\u8bf7\u53c2\u9605\u4e0b\u8868\u67e5\u627e\u9002\u5408\u60a8\u7684\u90e8\u7f72\u7c7b\u578b\u7684\u94fe\u63a5\u3002</li> <li>\u5c06\u94fe\u63a5\u7c98\u8d34\u5230 Amazon S3 URL \u6846\u4e2d\u3002</li> <li>\u518d\u6b21\u9009\u62e9\u4e0b\u4e00\u6b65\u3002</li> </ul> \u6a21\u677f \u63cf\u8ff0 \u4f7f\u7528 Cognito \u8fdb\u884c\u8eab\u4efd\u9a8c\u8bc1 \u5728 AWS \u533a\u57df\u4e2d\u90e8\u7f72\u4e3a\u516c\u5f00\u670d\u52a1 \u4f7f\u7528 Cognito \u901a\u8fc7\u81ea\u5b9a\u4e49\u57df\u8fdb\u884c\u8eab\u4efd\u9a8c\u8bc1 \u5728 AWS \u533a\u57df\u4e2d\u90e8\u7f72\u4e3a\u5177\u6709\u81ea\u5b9a\u4e49\u57df\u540d\u7684\u516c\u5f00\u670d\u52a1 \u4f7f\u7528 OIDC \u8fdb\u884c\u8eab\u4efd\u9a8c\u8bc1 \u5728 AWS \u533a\u57df\u4e2d\u90e8\u7f72\u4e3a\u516c\u5f00\u670d\u52a1 \u4f7f\u7528 OIDC \u901a\u8fc7\u81ea\u5b9a\u4e49\u57df\u8fdb\u884c\u8eab\u4efd\u9a8c\u8bc1 \u5728 AWS \u533a\u57df\u4e2d\u90e8\u7f72\u4e3a\u5177\u6709\u81ea\u5b9a\u4e49\u57df\u540d\u7684\u516c\u5f00\u670d\u52a1 \u5728 VPC \u5185\u4f7f\u7528 OIDC \u8fdb\u884c\u8eab\u4efd\u9a8c\u8bc1 \u5728 AWS \u533a\u57df\u7684 VPC \u5185\u90e8\u7f72\u4e3a\u79c1\u6709\u670d\u52a1 \u5728 AWS \u4e2d\u56fd\u4f7f\u7528 OIDC \u5bf9\u81ea\u5b9a\u4e49\u57df\u8fdb\u884c\u8eab\u4efd\u9a8c\u8bc1 \u5728 AWS \u4e2d\u56fd\u533a\u57df\u4e2d\u90e8\u7f72\u4e3a\u5177\u6709\u81ea\u5b9a\u4e49\u57df\u540d\u7684\u516c\u5f00\u670d\u52a1 \u5728 AWS \u4e2d\u56fd\u7684 VPC \u5185\u4f7f\u7528 OIDC \u8fdb\u884c\u8eab\u4efd\u9a8c\u8bc1 \u5728 AWS \u4e2d\u56fd\u533a\u57df\u7684 VPC \u5185\u90e8\u7f72\u4e3a\u79c1\u6709\u670d\u52a1 </li> <li> <p>\u5728\u53c2\u6570\u4e0b\uff0c\u67e5\u770b\u6a21\u677f\u7684\u53c2\u6570\u5e76\u6839\u636e\u9700\u8981\u8fdb\u884c\u4fee\u6539\u3002 \u53c2\u6570\u8be6\u60c5\u8bf7\u53c2\u8003\u90e8\u7f72\u3002</p> </li> <li>\u9009\u62e9\u4e0b\u4e00\u6b65\u3002</li> <li>\u5728 \u914d\u7f6e\u5806\u6808\u9009\u9879 \u9875\u9762\u4e0a\uff0c\u9009\u62e9 \u4e0b\u4e00\u6b65\u3002</li> <li>\u5728\u5ba1\u6838\u9875\u9762\u4e0a\uff0c\u67e5\u770b\u5e76\u786e\u8ba4\u8bbe\u7f6e\u3002 \u8bf7\u52a1\u5fc5\u9009\u4e2d\u8be5\u6846\uff0c\u786e\u8ba4\u6a21\u677f\u53ef\u80fd\u4f1a\u521b\u5efa (IAM) \u8d44\u6e90\u3002</li> <li>\u9009\u62e9 \u67e5\u770b\u66f4\u6539\u96c6 \u5e76\u9a8c\u8bc1\u66f4\u6539\u3002</li> <li>\u9009\u62e9 \u6267\u884c\u66f4\u6539\u96c6 \u4ee5\u90e8\u7f72\u5806\u6808\u3002</li> </ol> <p>\u60a8\u53ef\u4ee5\u5728 AWS CloudFormation \u63a7\u5236\u53f0\u7684 \u72b6\u6001 \u5217\u4e2d\u67e5\u770b\u5806\u6808\u7684\u72b6\u6001\u3002 \u51e0\u5206\u949f\u540e\u60a8\u5e94\u8be5\u4f1a\u6536\u5230\u201cUPDATE_COMPLETE\u201d\u72b6\u6001\u3002</p>"},{"location":"upgrade/#_4","title":"\u5347\u7ea7\u9879\u76ee\u7ba1\u9053","text":"<ol> <li>\u767b\u5f55\u89e3\u51b3\u65b9\u6848\u7684Web\u63a7\u5236\u53f0\u3002</li> <li>\u5728\u9875\u9762\u53f3\u4e0b\u89d2\u9a8c\u8bc1\u4ee5<code>v1.1.0</code>\u5f00\u5934\u7684\u89e3\u51b3\u65b9\u6848\u7248\u672c\u3002 \u5982\u679c\u6ca1\u6709\uff0c\u60a8\u53ef\u4ee5\u5f3a\u5236\u91cd\u65b0\u52a0\u8f7d\u9875\u9762\u6765\u91cd\u65b0\u68c0\u67e5\u3002</li> <li>\u8f6c\u5230\u9879\u76ee\uff0c\u7136\u540e\u9009\u62e9\u8981\u5347\u7ea7\u7684\u9879\u76ee\u3002</li> <li>\u70b9\u51fb<code>\u9879\u76eeid</code>\u6216\u67e5\u770b\u8be6\u60c5\u6309\u94ae\uff0c\u5c06\u8df3\u8f6c\u81f3\u6570\u636e\u7ba1\u9053\u8be6\u7ec6\u4fe1\u606f\u9875\u9762\u3002</li> <li>\u5728\u9879\u76ee\u8be6\u60c5\u9875\u9762\uff0c\u70b9\u51fb\u5347\u7ea7\u6309\u94ae</li> <li>\u7cfb\u7edf\u5c06\u63d0\u793a\u60a8\u786e\u8ba4\u5347\u7ea7\u64cd\u4f5c\u3002</li> <li>\u70b9\u51fb\u786e\u8ba4\uff0c\u7ba1\u9053\u5c06\u5904\u4e8e\u201c\u6b63\u5728\u66f4\u65b0\u201d\u72b6\u6001\u3002</li> </ol> <p>\u60a8\u53ef\u4ee5\u5728\u89e3\u51b3\u65b9\u6848\u63a7\u5236\u53f0\u7684 \u72b6\u6001 \u5217\u4e2d\u67e5\u770b\u7ba1\u9053\u7684\u72b6\u6001\u3002 \u51e0\u5206\u949f\u540e\u60a8\u5e94\u8be5\u4f1a\u6536\u5230<code>\u6d3b\u8dc3</code>\u72b6\u6001\u3002</p>"},{"location":"upgrade/#_5","title":"\u5347\u7ea7\u540e\u64cd\u4f5c","text":""},{"location":"upgrade/#10x","title":"\u4ece1.0.x\u5347\u7ea7\u540e\u8fc1\u79fb\u73b0\u6709\u6570\u636e","text":"<p>\u5f53\u60a8\u4ece v1.0.x \u5347\u7ea7\u7ba1\u9053\u65f6\uff0c\u60a8\u9700\u8981\u6267\u884c\u4ee5\u4e0b\u64cd\u4f5c\u5c06\u6570\u636e\u4ece\u65e7\u8868<code>ods_events</code>\u8fc1\u79fb\u5230 Redshift \u4e2d\u7684\u65b0\u8868<code>event</code>\u3001<code>event_parameter</code>\u3001<code>user</code>\u548c<code>item</code>:</p> <ol> <li> <p>\u6253\u5f00 [Redshift \u67e5\u8be2\u7f16\u8f91\u5668 v2][\u67e5\u8be2\u7f16\u8f91\u5668]\u3002 \u60a8\u53ef\u4ee5\u53c2\u8003 AWS \u6587\u6863 \u4f7f\u7528\u67e5\u8be2\u7f16\u8f91\u5668 v2 \u4f7f\u7528 Redshift \u67e5\u8be2\u7f16\u8f91\u5668 v2 \u767b\u5f55\u5e76\u67e5\u8be2\u6570\u636e\u3002</p> <p>\u6ce8\u610f</p> <p>\u60a8\u5fc5\u987b\u4f7f\u7528<code>admin</code>\u7528\u6237\u6216\u5177\u6709 schema\uff08\u540d\u4e3a<code>\u9879\u76ee ID</code>\uff09\u6240\u6709\u6743\u6743\u9650\u7684\u7528\u6237\u3002</p> </li> <li> <p>\u9009\u62e9\u65e0\u670d\u52a1\u5668\u5de5\u4f5c\u7ec4\u6216\u914d\u7f6e\u7684\u96c6\u7fa4\uff0c<code>&lt;project-id&gt;</code>-&gt;<code>&lt;app-id&gt;</code>-&gt;Tables\uff0c\u5e76\u786e\u4fdd\u5176\u4e2d\u5217\u51fa\u4e86 appId \u7684\u8868\u3002</p> </li> <li> <p>\u65b0\u5efa\u4e00\u4e2aSQL\u7f16\u8f91\u5668\u3002</p> </li> <li> <p>\u5728\u7f16\u8f91\u5668\u4e2d\u6267\u884c\u4ee5\u4e0bSQL\u3002</p> <pre><code>-- \u8bf7\u5c06 `&lt;app-id&gt;` \u66ff\u6362\u4e3a\u60a8\u7684\u5b9e\u9645\u5e94\u7528 ID\nCALL \"&lt;app-id&gt;\".sp_migrate_ods_events_1_0_to_1_1();\n</code></pre> </li> <li> <p>\u7b49\u5f85SQL \u5b8c\u6210\u3002 \u6267\u884c\u65f6\u95f4\u53d6\u51b3\u4e8e\u8868\u201cods_events\u201d\u4e2d\u7684\u6570\u636e\u91cf\u3002</p> </li> <li> <p>\u6267\u884c\u4ee5\u4e0bSQL\u67e5\u770b\u5b58\u50a8\u8fc7\u7a0b\u6267\u884c\u65e5\u5fd7\uff1b \u786e\u4fdd\u90a3\u91cc\u6ca1\u6709\u9519\u8bef\u3002</p> <pre><code>-- \u8bf7\u5c06 `&lt;app-id&gt;` \u66ff\u6362\u4e3a\u60a8\u7684\u5b9e\u9645\u5e94\u7528 IDd\nSELECT * FROM  \"&lt;app-id&gt;\".\"clickstream_log\" where log_name = 'sp_migrate_ods_events' order by log_date desc;\n</code></pre> </li> <li> <p>\u5982\u679c\u60a8\u6ca1\u6709\u5176\u4ed6\u5e94\u7528\u7a0b\u5e8f\u4f7f\u7528\u65e7\u8868\u548c\u89c6\u56fe\uff0c\u60a8\u53ef\u4ee5\u8fd0\u884c\u4e0b\u9762\u7684 SQL \u6765\u6e05\u7406\u65e7\u89c6\u56fe\u548c\u8868\uff0c\u4ee5\u8282\u7701 Redshift \u7684\u5b58\u50a8\u7a7a\u95f4\u3002</p> <pre><code>-- \u8bf7\u5c06 `&lt;app-id&gt;` \u66ff\u6362\u4e3a\u60a8\u7684\u5b9e\u9645\u5e94\u7528 ID\nDROP TABLE \"&lt;app-id&gt;\".dim_users CASCADE;\nDROP TABLE \"&lt;app-id&gt;\".ods_events CASCADE;\n\nDROP PROCEDURE  \"&lt;app-id&gt;\".sp_clear_expired_events(retention_range_days integer);\nDROP PROCEDURE  \"&lt;app-id&gt;\".sp_upsert_users();\nDROP PROCEDURE  \"&lt;app-id&gt;\".sp_migrate_ods_events_1_0_to_1_1();\n</code></pre> </li> </ol>"},{"location":"well-architected-pillars/","title":"AWS\u7b26\u5408\u67b6\u6784\u8981\u6c42\u7684\u652f\u67f1","text":"<p>\u8be5\u89e3\u51b3\u65b9\u6848\u91c7\u7528 AWS \u67b6\u6784\u5b8c\u5584\u7684\u6846\u67b6  \u4e2d\u7684\u6700\u4f73\u5b9e\u8df5\u800c\u8bbe\u8ba1\uff0c\u8be5\u6846\u67b6\u53ef\u5e2e\u52a9\u5ba2\u6237\u5728\u4e91\u7aef\u8bbe\u8ba1\u548c\u8fd0\u884c\u53ef\u9760\u3001\u5b89\u5168\u3001\u9ad8\u6548\u4e14\u7ecf\u6d4e\u5b9e\u60e0\u7684\u5de5\u4f5c\u8d1f\u8f7d\u3002</p> <p>\u672c\u8282\u4ecb\u7ecd\u5728\u6784\u5efa\u6b64\u89e3\u51b3\u65b9\u6848\u65f6\u5982\u4f55\u5e94\u7528 AWS \u67b6\u6784\u5b8c\u5584\u7684\u6846\u67b6 \u7684\u8bbe\u8ba1\u539f\u5219\u548c\u6700\u4f73\u5b9e\u8df5\u3002</p>"},{"location":"well-architected-pillars/#_1","title":"\u5353\u8d8a\u8fd0\u8425","text":"<p>\u672c\u8282\u4ecb\u7ecd\u5728\u8bbe\u8ba1\u6b64\u89e3\u51b3\u65b9\u6848\u65f6\u5982\u4f55\u5e94\u7528 \u5353\u8d8a\u8fd0\u8425\u652f\u67f1  \u7684\u539f\u5219\u548c\u6700\u4f73\u5b9e\u8df5\u3002</p> <p>\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u70b9\u51fb\u6d41\u5206\u6790 \u89e3\u51b3\u65b9\u6848\u5728\u4e0d\u540c\u9636\u6bb5\u5411 Amazon CloudWatch \u63a8\u9001\u6307\u6807\u3001\u65e5\u5fd7\u548c\u8ddf\u8e2a\uff0c\u4e3a\u57fa\u7840\u8bbe\u65bd\u3001\u5f39\u6027\u8d1f\u8f7d\u5747\u8861\u5668\u3001Amazon ECS \u96c6\u7fa4\u3001Lambda \u51fd\u6570\u3001EMR \u65e0\u670d\u52a1\u5668\u5e94\u7528\u7a0b\u5e8f\u3001Step Function \u5de5\u4f5c\u6d41\u7a0b\u548c\u5176\u4ed6\u89e3\u51b3\u65b9\u6848\u7ec4\u4ef6\u63d0\u4f9b\u53ef\u89c2\u5bdf\u6027\u80fd\u529b\u3002\u8be5\u89e3\u51b3\u65b9\u6848\u8fd8\u4e3a\u6bcf\u4e2a \u6570\u636e\u7ba1\u9053 \u521b\u5efa CloudWatch \u63a7\u5236\u9762\u677f\u3002</p>"},{"location":"well-architected-pillars/#_2","title":"\u5b89\u5168","text":"<p>\u672c\u8282\u4ecb\u7ecd\u5728\u8bbe\u8ba1\u6b64\u89e3\u51b3\u65b9\u6848\u65f6\u5982\u4f55\u5e94\u7528 \u5b89\u5168\u652f\u67f1 \u7684\u539f\u5219\u548c\u6700\u4f73\u5b9e\u8df5\u3002</p> <ul> <li>\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u70b9\u51fb\u6d41\u5206\u6790 Web \u63a7\u5236\u53f0\u7528\u6237\u901a\u8fc7Amazon Cognito \u6216 OpenID Connect \u8fdb\u884c\u8eab\u4efd\u9a8c\u8bc1\u548c\u6388\u6743\u3002</li> <li>\u6240\u6709\u670d\u52a1\u95f4\u901a\u4fe1\u90fd\u4f7f\u7528 AWS IAM \u89d2\u8272\u3002</li> <li>\u8be5\u89e3\u51b3\u65b9\u6848\u4f7f\u7528\u7684\u6240\u6709\u89d2\u8272\u90fd\u9075\u5faa\u6700\u5c0f\u6743\u9650\u8bbf\u95ee\u539f\u5219\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u5b83\u4ec5\u5305\u542b\u670d\u52a1\u6b63\u5e38\u8fd0\u884c\u6240\u9700\u7684\u6700\u5c0f\u6743\u9650\u3002</li> </ul>"},{"location":"well-architected-pillars/#_3","title":"\u53ef\u9760\u6027","text":"<p>\u672c\u8282\u4ecb\u7ecd\u5728\u8bbe\u8ba1\u6b64\u89e3\u51b3\u65b9\u6848\u65f6\u5982\u4f55\u5e94\u7528 \u53ef\u9760\u6027\u652f\u67f1 \u7684\u539f\u5219\u548c\u6700\u4f73\u5b9e\u8df5\u3002</p> <ul> <li>\u5c3d\u53ef\u80fd\u4f7f\u7528 AWS \u65e0\u670d\u52a1\u5668\u670d\u52a1\uff08\u4f8b\u5982 EMR Serverless\u3001Redshift Serverless\u3001Lambda\u3001Step Functions\u3001Amazon S3 \u548c Amazon SQS\uff09\u6765\u786e\u4fdd\u9ad8\u53ef\u7528\u6027\u548c\u4ece\u670d\u52a1\u6545\u969c\u4e2d\u6062\u590d\u3002</li> <li>\u6570\u636e\u7ba1\u9053 \u6444\u53d6\u7684\u6570\u636e\u5b58\u50a8\u5728 Amazon S3 \u548c Amazon Redshift \u4e2d\uff0c\u56e0\u6b64\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u5b83\u4f1a\u4fdd\u7559\u5728\u591a\u4e2a\u53ef\u7528\u533a\u4e2d\u3002</li> </ul>"},{"location":"well-architected-pillars/#_4","title":"\u6027\u80fd\u6548\u7387","text":"<p>\u672c\u8282\u4ecb\u7ecd\u5728\u8bbe\u8ba1\u6b64\u89e3\u51b3\u65b9\u6848\u65f6\u5982\u4f55\u5e94\u7528 \u6027\u80fd\u6548\u7387\u652f\u67f1 \u7684\u539f\u5219\u548c\u6700\u4f73\u5b9e\u8df5\u3002</p> <ul> <li>\u80fd\u591f\u5728\u6b64\u89e3\u51b3\u65b9\u6848\u4e2d\u652f\u6301\u7684\u4efb\u4f55\u5730\u533a\u542f\u52a8\u6b64\u89e3\u51b3\u65b9\u6848\uff0c\u4f8b\u5982\uff1aAmazon S3\u3001Amazon ECS\u3001\u5f39\u6027\u8d1f\u8f7d\u5747\u8861\u5668\u3002</li> <li>\u4f7f\u7528\u65e0\u670d\u52a1\u5668\u67b6\u6784\u65e0\u9700\u4e3a\u4f20\u7edf\u8ba1\u7b97\u6d3b\u52a8\u8fd0\u884c\u548c\u7ef4\u62a4\u7269\u7406\u670d\u52a1\u5668\u3002</li> <li>\u6bcf\u5929\u81ea\u52a8\u6d4b\u8bd5\u548c\u90e8\u7f72\u6b64\u89e3\u51b3\u65b9\u6848\u3002\u7531\u89e3\u51b3\u65b9\u6848\u67b6\u6784\u5e08\u548c\u9886\u57df\u4e13\u5bb6\u5ba1\u67e5\u6b64\u89e3\u51b3\u65b9\u6848\uff0c\u627e\u51fa\u9700\u8981\u5c1d\u8bd5\u6539\u8fdb\u7684\u9886\u57df\u3002</li> </ul>"},{"location":"well-architected-pillars/#_5","title":"\u6210\u672c\u4f18\u5316","text":"<p>\u672c\u8282\u4ecb\u7ecd\u5728\u8bbe\u8ba1\u6b64\u89e3\u51b3\u65b9\u6848\u65f6\u5982\u4f55\u5e94\u7528 \u6210\u672c\u4f18\u5316\u652f\u67f1 \u7684\u539f\u5219\u548c\u6700\u4f73\u5b9e\u8df5\u3002</p> <ul> <li>\u4f7f\u7528 Autoscaling Group\uff0c\u4f7f\u8ba1\u7b97\u6210\u672c\u4ec5\u4e0e\u6444\u5165\u548c\u5904\u7406\u7684\u6570\u636e\u91cf\u6709\u5173\u3002</li> <li>\u4f7f\u7528 Amazon S3\u3001Amazon Kinesis Data Streams\u3001Amazon EMR Serverless \u548c Amazon Redshift Serverless \u7b49\u65e0\u670d\u52a1\u5668\u670d\u52a1\uff0c\u8fd9\u6837\u5ba2\u6237\u53ea\u9700\u6309\u4f7f\u7528\u7684\u5185\u5bb9\u4ed8\u8d39\u3002</li> </ul>"},{"location":"well-architected-pillars/#_6","title":"\u53ef\u6301\u7eed\u6027","text":"<p>\u672c\u8282\u4ecb\u7ecd\u5728\u8bbe\u8ba1\u8be5\u89e3\u51b3\u65b9\u6848\u65f6\u5982\u4f55\u5e94\u7528 \u53ef\u6301\u7eed\u53d1\u5c55\u652f\u67f1 \u7684\u539f\u5219\u548c\u6700\u4f73\u5b9e\u8df5\u3002</p> <ul> <li>\u4e0e\u6301\u7eed\u8fd0\u884c\u7684\u672c\u5730\u670d\u52a1\u5668\u76f8\u6bd4\uff0c\u8be5\u89e3\u51b3\u65b9\u6848\u7684\u65e0\u670d\u52a1\u5668\u8bbe\u8ba1\uff08\u4f7f\u7528Amazon Kinesis Data Streams\u3001Amazon EMR Serverless\u3001Amazon Redshift Serverless\u548cAmazon QuickSight\uff09\u548c\u6258\u7ba1\u670d\u52a1\uff08\u4f8b\u5982Amazon ECS\u3001Amazon MSK\uff09\u65e8\u5728\u51cf\u5c11\u78b3\u8db3\u8ff9\u3002</li> </ul>"},{"location":"analytics/","title":"\u5206\u6790\u5de5\u4f5c\u574a","text":"<p>\u5206\u6790\u5de5\u4f5c\u574a\uff08Analytics Studio\uff09\u662f\u4f9b\u4e1a\u52a1\u5206\u6790\u5e08\u6216\u6570\u636e\u5206\u6790\u5e08\u67e5\u770b\u548c\u521b\u5efa\u4eea\u8868\u677f\u3001\u67e5\u8be2\u548c\u63a2\u7d22\u70b9\u51fb\u6d41\u6570\u636e\u4ee5\u53ca\u7ba1\u7406\u5143\u6570\u636e\u7684\u7edf\u4e00\u7f51\u9875\u754c\u9762\u3002</p>"},{"location":"analytics/#_2","title":"\u6a21\u5757","text":"<p>\u5206\u6790\u5de5\u4f5c\u574a\u4e86\u5305\u542b\u4ee5\u4e0b\u6a21\u5757\u3002 - \u4eea\u8868\u677f\u3002\u67e5\u770b\u73b0\u6210\u7684\u4eea\u8868\u677f\u548c\u81ea\u5b9a\u4e49\u4eea\u8868\u677f\u3002 - \u63a2\u7d22\u3002\u7528\u6237\u7528\u4e8e\u53d1\u73b0\u8d85\u8d8a\u73b0\u6210\u4eea\u8868\u677f\u7684\u6d1e\u89c1\u7684\u9ad8\u7ea7\u5206\u6790\u6a21\u578b\u3002 - \u5206\u6790\u3002\u7528\u4e8e\u521b\u5efa\u548c\u4fee\u6539\u4eea\u8868\u677f\uff0c\u4ee5\u53ca\u7ba1\u7406\u6570\u636e\u96c6\u7684\u4f5c\u8005\u754c\u9762\u3002 - \u6570\u636e\u7ba1\u7406\u3002\u67e5\u770b\u548c\u7ba1\u7406\u70b9\u51fb\u6d41\u6570\u636e\u7684\u5143\u6570\u636e\u3002</p>"},{"location":"analytics/#_3","title":"\u672f\u8bed\u8868","text":"<p>\u4ee5\u4e0b\u662f\u5206\u6790\u5de5\u4f5c\u574a\u4e2d\u4f7f\u7528\u7684\u672f\u8bed\u548c\u6982\u5ff5\uff0c\u5f53\u60a8\u4f7f\u7528\u5206\u6790\u5de5\u4f5c\u574a\u65f6\uff0c\u719f\u6089\u8fd9\u4e9b\u672f\u8bed\u5c06\u4f1a\u5f88\u6709\u5e2e\u52a9\u3002</p> <ul> <li>\u4e8b\u4ef6\u3002\u4e8b\u4ef6\u6307\u7684\u662f\u7528\u6237\u5728\u5e94\u7528\u7a0b\u5e8f\u6216\u7f51\u7ad9\u5185\u6267\u884c\u7684\u64cd\u4f5c\u751f\u6210\u7684\u70b9\u51fb\u6d41\u6570\u636e\uff08\u4f8b\u5982\u70b9\u51fb\u3001\u8bbf\u95ee\u9875\u9762\u7b49\uff09\u3002</li> <li>\u9884\u8bbe\u4e8b\u4ef6\u3002\u7531\u70b9\u51fb\u6d41 SDK \u81ea\u52a8\u6536\u96c6\u7684\u4e8b\u4ef6\uff0c\u901a\u5e38\u4ee5\u4e0b\u5212\u7ebf '_' \u5f00\u5934\u7684\u540d\u79f0\u3002</li> <li>\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u3002\u7531\u5e94\u7528\u7a0b\u5e8f\u6240\u6709\u8005\u5b9a\u4e49\u548c\u6536\u96c6\u7684\u4e8b\u4ef6\uff0c\u4e8b\u4ef6\u7684\u6536\u96c6\u65f6\u673a\u548c\u4e1a\u52a1\u76ee\u7684\u56e0\u5e94\u7528\u800c\u5f02\u3002</li> <li>\u4e8b\u4ef6\u53c2\u6570\u3002'\u4e8b\u4ef6\u53c2\u6570' \u7528\u4e8e\u63cf\u8ff0\u4e8b\u4ef6\u53d1\u751f\u65f6\u7684\u5404\u79cd\u4fe1\u606f\u7ef4\u5ea6\u3002\u4e8b\u4ef6\u53c2\u6570\u5206\u4e3a\u4e24\u7c7b\uff1a\u516c\u5171\u53c2\u6570\uff0c\u5373\u6240\u6709\u4e8b\u4ef6\u90fd\u5305\u542b\u7684\u53c2\u6570\uff0c\u4f8b\u5982\u7528\u6237\u4fe1\u606f\uff08user_id\uff09\u3001\u8bbe\u5907\u4fe1\u606f\uff08\u5e94\u7528\u7a0b\u5e8f\u7248\u672c\u3001\u8bbe\u5907\u578b\u53f7\u7b49\uff09\uff1b\u79c1\u6709\u53c2\u6570\uff0c\u5373\u67d0\u4e9b\u4e8b\u4ef6\u7279\u6709\u7684\u53c2\u6570\uff0c\u4f8b\u5982\u7528\u6237\u5b9a\u5236\u7684\u53c2\u6570\u3002</li> <li>\u516c\u5171\u53c2\u6570\u3002\u6240\u6709\u4e8b\u4ef6\u90fd\u5305\u542b\u7684\u53c2\u6570\uff0c\u4f8b\u5982\u7528\u6237\u4fe1\u606f\uff08user_id\uff09\u3001\u8bbe\u5907\u4fe1\u606f\uff08\u5e94\u7528\u7a0b\u5e8f\u7248\u672c\u3001\u8bbe\u5907\u578b\u53f7\u7b49\uff09\u3002</li> <li>\u79c1\u6709\u53c2\u6570\u3002\u67d0\u4e9b\u4e8b\u4ef6\u7279\u6709\u7684\u53c2\u6570\uff0c\u4f8b\u5982\u7528\u6237\u5b9a\u5236\u7684\u53c2\u6570\u3002</li> <li>\u7528\u6237\u5c5e\u6027\u3002\u7528\u6237\u5c5e\u6027\u7528\u4e8e\u8bb0\u5f55\u7528\u6237\u7684\u5c5e\u6027\u3002\u7528\u6237\u5c5e\u6027\u5206\u4e3a\u4e24\u7c7b\uff1a\u9884\u8bbe\u5c5e\u6027\uff0c\u5373\u7531 SDK \u9884\u8bbe\u6536\u96c6\u7684\u5c5e\u6027\uff0c\u4f8b\u5982 '_first_visit_date'\uff1b\u81ea\u5b9a\u4e49\u5c5e\u6027\uff0c\u5373\u7528\u6237\u81ea\u5df1\u62a5\u544a\u7684\u7528\u6237\u5c5e\u6027\uff0c\u4f8b\u5982 'email_address'\u3002</li> </ul>"},{"location":"analytics/analyzes/","title":"\u5206\u6790","text":"<p>\u5206\u6790\u6a21\u5757\u5141\u8bb8\u7528\u6237\u57fa\u4e8e\u70b9\u51fb\u6d41\u6570\u636e\u96c6\u4ee5\u62d6\u653e\u7684\u65b9\u5f0f\u521b\u5efa\u548c\u4fee\u6539\u4eea\u8868\u677f\u3002\u5b83\u4e3a\u7528\u6237\u63d0\u4f9b\u4e86\u66f4\u5927\u7684\u7075\u6d3b\u6027\uff0c\u53ef\u4ee5\u521b\u5efa\u4e1a\u52a1\u7279\u5b9a\u7684\u6307\u6807\u548c\u53ef\u89c6\u5316\u3002\u5728\u4ee5\u4e0b\u60c5\u51b5\u4e0b\u4f7f\u7528\u8be5\u6a21\u5757\uff1a</p> <ul> <li>\u521b\u5efa\u5728\u9884\u8bbe\u4eea\u8868\u677f\u4e2d\u672a\u63d0\u4f9b\u6216\u5728\u63a2\u7d22\u4e2d\u4e0d\u652f\u6301\u7684\u4eea\u8868\u677f\u3002</li> <li>\u5bf9\u4ece\u63a2\u7d22\u5206\u6790\u4fdd\u5b58\u7684\u81ea\u5b9a\u4e49\u4eea\u8868\u677f\u8fdb\u884c\u66f4\u6539\uff0c\u4f8b\u5982\u6dfb\u52a0\u7528\u4e8e\u8ba1\u7b97\u81ea\u5b9a\u4e49\u6307\u6807\u7684\u8ba1\u7b97\u5b57\u6bb5\uff0c\u8c03\u6574\u53ef\u89c6\u7c7b\u578b\u7b49\u3002</li> <li>\u5c06\u70b9\u51fb\u6d41\u6570\u636e\u4e0e\u5916\u90e8\u6570\u636e\u96c6\u8fde\u63a5\uff0c\u4f8b\u5982\u5c06\u9879\u76ee\u4e3b\u6570\u636e\u6dfb\u52a0\u5230\u4e30\u5bcc\u70b9\u51fb\u6d41\u6570\u636e\u96c6\u3002</li> </ul>"},{"location":"analytics/analyzes/#_2","title":"\u8bbf\u95ee\u5206\u6790","text":"<p>\u8981\u8bbf\u95ee\u5206\u6790\uff0c\u8bf7\u6309\u7167\u4ee5\u4e0b\u6b65\u9aa4\u8fdb\u884c\uff1a</p> <ol> <li>\u8f6c\u5230 AWS \u63a7\u5236\u53f0\u4e0a\u7684 Clickstream Analytics\uff0c\u5728 \u5bfc\u822a\u680f \u4e2d\uff0c\u5355\u51fb \"\u5206\u6790\u5de5\u4f5c\u5ba4\"\uff0c\u6d4f\u89c8\u5668\u5c06\u6253\u5f00\u4e00\u4e2a\u65b0\u7684\u9009\u9879\u5361\u3002</li> <li>\u5728\u5206\u6790\u5de5\u4f5c\u5ba4\u9875\u9762\u4e2d\uff0c\u5355\u51fb\u5de6\u4fa7\u5bfc\u822a\u9762\u677f\u4e2d\u7684 \u5206\u6790 \u56fe\u6807\u3002</li> </ol>"},{"location":"analytics/analyzes/#_3","title":"\u5de5\u4f5c\u539f\u7406","text":"<p>\u5206\u6790\u6a21\u5757\u672c\u8d28\u4e0a\u662f QuickSight \u7684\u4f5c\u8005\u754c\u9762\uff0c\u60a8\u53ef\u4ee5\u5728\u5176\u4e2d\u62e5\u6709\u5bf9\u6240\u6709 QuickSight \u529f\u80fd\u7684\u7ba1\u7406\u8bbf\u95ee\u6743\u9650\uff0c\u4f8b\u5982\u521b\u5efa\u5206\u6790\u3001\u6dfb\u52a0\u6216\u7ba1\u7406\u6570\u636e\u96c6\u3001\u53d1\u5e03\u548c\u5171\u4eab\u4eea\u8868\u677f\u3002</p> <p>\u6ce8\u610f</p> <p>\u53ea\u6709\u5177\u6709 <code>\u7ba1\u7406\u5458</code> \u6216 <code>\u5206\u6790\u5e08</code> \u89d2\u8272\u7684\u7528\u6237\u624d\u80fd\u8bbf\u95ee\u6b64\u6a21\u5757\u3002</p> <p>\u8be5\u89e3\u51b3\u65b9\u6848\u81ea\u52a8\u4e3a\u6bcf\u4e2a\u9879\u76ee\u548c\u5e94\u7528\u6dfb\u52a0\u4e86\u4ee5\u4e0b\u6570\u636e\u96c6\uff1a</p> \u6570\u636e\u96c6\u540d\u79f0 \u63cf\u8ff0 Event_View_<code>app_name</code>_<code>project_name</code> \u5305\u542b\u6240\u6709\u516c\u5171\u4e8b\u4ef6\u53c2\u6570\u7684\u4e8b\u4ef6\u6570\u636e Event_Parameter_View_<code>app_name</code>_<code>project_name</code> \u5305\u542b\u6240\u6709\u79c1\u6709\u4e8b\u4ef6\u53c2\u6570\u7684\u4e8b\u4ef6\u6570\u636e User_Dim_View_<code>app_name</code>_<code>project_name</code> \u5305\u542b\u6240\u6709\u516c\u5171\u5c5e\u6027\u7684\u7528\u6237\u6570\u636e User_Attr_View_<code>app_name</code>_<code>project_name</code> \u5305\u542b\u6240\u6709\u79c1\u6709\uff08\u81ea\u5b9a\u4e49\uff09\u5c5e\u6027\u7684\u7528\u6237\u6570\u636e Session_View_<code>app_name</code>_<code>project_name</code> \u5305\u542b\u6709\u5173\u4f1a\u8bdd\u7684\u5ea6\u91cf\u548c\u7ef4\u5ea6\u7684\u6570\u636e Device_View_<code>app_name</code>_<code>project_name</code> \u5305\u542b\u6709\u5173\u7528\u6237\u8bbe\u5907\u7684\u4fe1\u606f\u7684\u6570\u636e Retention_View_<code>app_name</code>_<code>project_name</code> \u63d0\u4f9b\u6bcf\u4e2a\u65e5\u671f\u7684\u603b\u7528\u6237\u548c\u8fd4\u56de\u7528\u6237\u7684\u6307\u6807\u6570\u636e Lifecycle_Weekly_View_<code>app_name</code>_<code>project_name</code> \u6bcf\u5468\u7528\u6237\u751f\u547d\u5468\u671f\u6307\u6807\u6570\u636e Lifecycle_Daily_View_<code>app_name</code>_<code>project_name</code> \u6bcf\u5929\u7528\u6237\u751f\u547d\u5468\u671f\u6307\u6807\u6570\u636e <p>\u8981\u521b\u5efa\u81ea\u5b9a\u4e49\u5206\u6790\uff0c\u53ef\u4ee5\u6309\u7167\u4ee5\u4e0b QuickSight \u6587\u6863\u51c6\u5907\u6570\u636e\u5e76\u521b\u5efa\u53ef\u89c6\u5316\uff1a</p> <ol> <li>\u8fde\u63a5\u5230\u6570\u636e</li> <li>\u51c6\u5907\u6570\u636e</li> <li>\u53ef\u89c6\u5316\u6570\u636e</li> </ol>"},{"location":"analytics/dashboard/","title":"\u4eea\u8868\u677f","text":"<p>\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u70b9\u51fb\u6d41\u5206\u6790 \u89e3\u51b3\u65b9\u6848\u4ece\u60a8\u7684\u7f51\u7ad9\u548c\u5e94\u7528\u7a0b\u5e8f\u6536\u96c6\u6570\u636e\uff0c\u4ee5\u521b\u5efa\u63d0\u53d6\u89c1\u89e3\u7684\u4eea\u8868\u677f\u3002\u60a8\u53ef\u4ee5\u4f7f\u7528\u4eea\u8868\u677f\u76d1\u63a7\u6d41\u91cf\u3001\u8c03\u67e5\u6570\u636e\u5e76\u4e86\u89e3\u7528\u6237\u53ca\u5176\u6d3b\u52a8\u3002</p> <p>\u4e00\u65e6\u6570\u636e\u901a\u8fc7\u6570\u636e\u7ba1\u9053\u5904\u7406\uff0c\u6570\u636e\u5c31\u4f1a\u51fa\u73b0\u5728 QuickSight \u4eea\u8868\u677f\u4e2d\u3002\u6839\u636e\u7ba1\u9053\u914d\u7f6e\u7684\u4e0d\u540c\uff0c\u6570\u636e\u5728\u4eea\u8868\u677f\u4e2d\u53ef\u7528\u7684\u65f6\u95f4\u4f1a\u6709\u6240\u53d8\u5316\u3002\u4f8b\u5982\uff0c\u5982\u679c\u5c06\u6570\u636e\u5904\u7406\u95f4\u9694\u8bbe\u7f6e\u4e3a 1 \u5929\uff0c\u5219\u4eea\u8868\u677f\u5c06\u5728 T+1 \u5929\uff08\u5176\u4e2d T \u662f\u62a5\u544a\u65e5\u671f\uff09\u663e\u793a\u6570\u636e\u3002</p>"},{"location":"analytics/dashboard/#_2","title":"\u67e5\u770b\u4eea\u8868\u677f","text":"<p>\u60a8\u53ef\u4ee5\u6309\u7167\u4ee5\u4e0b\u6b65\u9aa4\u627e\u5230\u6bcf\u4e2a\u5e94\u7528\u7a0b\u5e8f\u7684\u4eea\u8868\u677f\uff1a</p> <ol> <li>\u8f6c\u5230 AWS \u63a7\u5236\u53f0\u4e0a\u7684 Clickstream Analytics\uff0c\u5728 \u5bfc\u822a\u680f \u4e2d\uff0c\u5355\u51fb \"Analytics Studio\"\uff0c\u6d4f\u89c8\u5668\u4e2d\u5c06\u6253\u5f00\u4e00\u4e2a\u65b0\u6807\u7b7e\u9875\u3002</li> <li>\u5728 Analytics Studio \u9875\u9762\u4e2d\uff0c\u5728\u9875\u9762\u9876\u90e8\u7684\u4e0b\u62c9\u5217\u8868\u4e2d\u9009\u62e9\u521a\u521a\u521b\u5efa\u7684\u9879\u76ee\u548c\u5e94\u7528\u7a0b\u5e8f\u3002</li> <li>\u5355\u51fb User life cycle - default \u4eea\u8868\u677f\u3002</li> </ol>"},{"location":"analytics/dashboard/#_3","title":"\u9ed8\u8ba4\u4eea\u8868\u677f","text":"<p>\u8be5\u4eea\u8868\u677f\u5305\u542b\u4e00\u7ec4\u6db5\u76d6\u7528\u6237\u751f\u547d\u5468\u671f\u7684\u62a5\u544a\uff0c\u5e2e\u52a9\u60a8\u4e86\u89e3\u4eba\u4eec\u5982\u4f55\u4f7f\u7528\u60a8\u7684\u7f51\u7ad9\u6216\u5e94\u7528\u7a0b\u5e8f\uff0c\u4ece\u83b7\u53d6\u5230\u4fdd\u7559\u3002</p> \u62a5\u544a\u540d\u79f0 \u5185\u5bb9 \u83b7\u53d6 \u6c47\u603b\u6709\u5173\u65b0\u7528\u6237\u7684\u5173\u952e\u6307\u6807\uff0c\u63d0\u4f9b\u7528\u6237\u6982\u8981\u89c6\u56fe \u53c2\u4e0e \u6c47\u603b\u6709\u5173\u7528\u6237\u53c2\u4e0e\u548c\u4f1a\u8bdd\u7684\u5173\u952e\u6307\u6807 \u6d3b\u52a8 \u6c47\u603b\u6709\u5173\u7528\u6237\u5728\u5e94\u7528\u7a0b\u5e8f\u4e2d\u751f\u6210\u7684\u4e8b\u4ef6\u7684\u5173\u952e\u6307\u6807\uff0c\u63d0\u4f9b\u4e8b\u4ef6\u5c5e\u6027\u7684\u8be6\u7ec6\u89c6\u56fe \u4fdd\u7559 \u6c47\u603b\u6709\u5173\u6d3b\u8dc3\u7528\u6237\u548c\u7528\u6237\u4fdd\u7559\u7684\u5173\u952e\u6307\u6807 \u8bbe\u5907 \u6c47\u603b\u6709\u5173\u7528\u6237\u7528\u4e8e\u8bbf\u95ee\u60a8\u7684\u5e94\u7528\u7a0b\u5e8f\u548c\u7f51\u7ad9\u7684\u8bbe\u5907\u7684\u5173\u952e\u6307\u6807\uff0c\u63d0\u4f9b\u6bcf\u4e2a\u8bbe\u5907\u7684\u8be6\u7ec6\u89c6\u56fe \u7528\u6237 \u6b64\u62a5\u544a\u5141\u8bb8\u60a8\u67e5\u8be2\u548c\u67e5\u770b\u5355\u4e2a\u7528\u6237\u7684\u5c5e\u6027\u548c\u7528\u6237\u6267\u884c\u7684\u4e8b\u4ef6\u3002 \u5d29\u6e83 \u6b64\u62a5\u544a\u63d0\u4f9b\u6709\u5173\u5e94\u7528\u7a0b\u5e8f\u4e2d\u5d29\u6e83\u4e8b\u4ef6\u7684\u5ea6\u91cf\u548c\u4fe1\u606f\u3002"},{"location":"analytics/dashboard/#_4","title":"\u81ea\u5b9a\u4e49\u62a5\u544a","text":"<p>\u5f53\u60a8\u5e0c\u671b\u8fdb\u4e00\u6b65\u8c03\u67e5\u67d0\u4e9b\u6570\u636e\u65f6\uff0c\u60a8\u53ef\u4ee5\u7f16\u5199 SQL \u5728 Redshift \u6216 Athena \u4e2d\u521b\u5efa\u89c6\u56fe\uff0c\u7136\u540e\u5c06\u6570\u636e\u96c6\u6dfb\u52a0\u5230 QuickSight \u4ee5\u521b\u5efa\u53ef\u89c6\u5316\u6548\u679c\u3002\u8fd9\u662f\u4e00\u4e2a\u793a\u4f8b\uff0c\u81ea\u5b9a\u4e49\u62a5\u544a\uff0c\u6f14\u793a\u5982\u4f55\u4f7f\u7528 Redshift \u521b\u5efa\u81ea\u5b9a\u4e49\u62a5\u544a\u3002</p>"},{"location":"analytics/dashboard/#_5","title":"\u521b\u5efa\u4eea\u8868\u677f","text":"<p>\u60a8\u53ef\u4ee5\u521b\u5efa\u4e00\u4e2a\u81ea\u5b9a\u4e49\u4eea\u8868\u677f\u4ee5\u4fdd\u5b58\u52d8\u63a2\u67e5\u8be2\u7684\u7ed3\u679c\u3002\u4ee5\u4e0b\u662f\u6b65\u9aa4\uff1a</p> <ol> <li>\u5355\u51fb\u5de6\u4e0a\u89d2\u7684 \u521b\u5efa\u4eea\u8868\u677f \u6309\u94ae\u3002</li> <li>\u8f93\u5165 \u4eea\u8868\u677f\u540d\u79f0\u3002</li> <li>\u4e3a\u4eea\u8868\u677f\u8f93\u5165\u63cf\u8ff0\u3002</li> <li>\u8f93\u5165\u8868\u540d\u79f0\uff0c\u7136\u540e\u5355\u51fb\u53f3\u4fa7\u7684 <code>+</code> \u6309\u94ae\u3002\u60a8\u53ef\u4ee5\u5728\u4e00\u4e2a\u4eea\u8868\u677f\u4e2d\u6dfb\u52a0\u591a\u4e2a\u8868\u3002</li> <li>\u60a8\u53ef\u4ee5\u901a\u8fc7\u5355\u51fb\u8868\u540d\u65c1\u8fb9\u7684 <code>X</code> \u6309\u94ae\u6765\u5220\u9664\u8868\u3002</li> <li>\u5355\u51fb \u521b\u5efa \u6309\u94ae\u3002</li> <li>\u521b\u5efa\u4eea\u8868\u677f\u540e\uff0c\u60a8\u53ef\u4ee5\u9009\u62e9\u4eea\u8868\u677f\u4ee5\u4fdd\u5b58\u67e5\u8be2\u7ed3\u679c\u3002</li> </ol>"},{"location":"analytics/dashboard/acquisition/","title":"\u83b7\u53d6\u62a5\u544a","text":"<p>\u60a8\u53ef\u4ee5\u4f7f\u7528\u7528\u6237\u83b7\u53d6\u62a5\u544a\u6df1\u5165\u4e86\u89e3\u65b0\u7528\u6237\u5982\u4f55\u9996\u6b21\u627e\u5230\u60a8\u7684\u7f51\u7ad9\u6216\u5e94\u7528\u3002\u6b64\u62a5\u544a\u8fd8\u5141\u8bb8\u60a8\u67e5\u770b\u8be6\u7ec6\u7684\u7528\u6237\u6982\u8981\u3002</p> <p>\u6ce8\u610f\uff1a\u672c\u6587\u63cf\u8ff0\u4e86\u9ed8\u8ba4\u62a5\u544a\u3002\u60a8\u53ef\u4ee5\u901a\u8fc7\u5e94\u7528\u8fc7\u6ee4\u5668\u6216\u6bd4\u8f83\uff0c\u6216\u901a\u8fc7\u5728 QuickSight \u4e2d\u66f4\u6539\u7ef4\u5ea6\u3001\u6307\u6807\u6216\u56fe\u8868\u6765\u81ea\u5b9a\u4e49\u62a5\u544a\u3002\u4e86\u89e3\u66f4\u591a</p>"},{"location":"analytics/dashboard/acquisition/#_2","title":"\u67e5\u770b\u62a5\u544a","text":"<ol> <li>\u8bbf\u95ee\u60a8\u5e94\u7528\u7a0b\u5e8f\u7684\u4eea\u8868\u677f\u3002\u8bf7\u53c2\u9605 \u8bbf\u95ee\u4eea\u8868\u677f</li> <li>\u5728\u4eea\u8868\u677f\u4e2d\uff0c\u5355\u51fb\u540d\u79f0\u4e3a <code>Acquisition</code> \u7684\u8868\u3002</li> </ol>"},{"location":"analytics/dashboard/acquisition/#_3","title":"\u6570\u636e\u6765\u6e90","text":"<p>\u83b7\u53d6\u62a5\u544a\u662f\u57fa\u4e8e <code>User_Dim_View-&lt;app&gt;-&lt;project&gt;</code> \u7684 QuickSight \u6570\u636e\u96c6\u521b\u5efa\u7684\uff0c\u8be5\u6570\u636e\u96c6\u8fde\u63a5\u5230\u5206\u6790\u5f15\u64ce\uff08\u5373 Redshift\uff09\u4e2d\u7684 <code>clickstream_user_dim_view_v1</code> \u89c6\u56fe\u3002\u4ee5\u4e0b\u662f\u751f\u6210\u89c6\u56fe\u7684 SQL \u547d\u4ee4\u3002</p> SQL \u547d\u4ee4 RedshiftAthena clickstream-user-dim-view_v1.sql<pre><code>    user_id,\n    _first_visit_date AS first_visit_date,\n    _first_referer AS first_referer,\n    CASE\n      WHEN NULLIF(_first_traffic_source, '') IS NULL THEN '(Direct)'\n      ELSE _first_traffic_source\n    END AS first_traffic_source_source,\n    _first_traffic_medium AS first_traffic_source_medium,\n    _first_traffic_source_type AS first_traffic_source_name,\n    CASE\n      WHEN user_id IS NOT NULL THEN 'Registered'\n      ELSE 'Non-registered'\n    END AS registration_status\n  FROM\n    {{schema}}.user_m_view\n), first_visit_attr AS (\n  SELECT\n    user_pseudo_id,\n    app_info.install_source::VARCHAR AS first_visit_install_source,\n    device.system_language::VARCHAR AS first_visit_device_language,\n    platform AS first_platform,\n    geo.country::VARCHAR AS first_visit_country,\n    geo.city::VARCHAR AS first_visit_city\n  FROM\n    {{schema}}.event\n  WHERE\n    event_name IN ('_first_open', '_first_visit')\n), device_id AS (\n  SELECT\n    user_pseudo_id,\n    LISTAGG(d_id, ' | ') WITHIN GROUP (ORDER BY user_pseudo_id) AS device_id\n  FROM (\n    SELECT\n      user_pseudo_id,\n      d_id::VARCHAR\n    FROM\n      {{schema}}.user_m_view u, u.device_id_list d_id\n  )\n  GROUP BY\n    user_pseudo_id\n)\nSELECT\n  u.*,\n  f.first_visit_install_source,\n  f.first_visit_device_language,\n  f.first_platform,\n  f.first_visit_country,\n  f.first_visit_city,\n  d.device_id\nFROM\n  user_base u\nLEFT JOIN\n  first_visit_attr f ON u.user_pseudo_id = f.user_pseudo_id\nLEFT JOIN\n  device_id d ON u.user_pseudo_id = d.user_pseudo_id\n;\n</code></pre> clickstream-user-dim-query.sql<pre><code>-- run following command to load latest partition\n-- msck repair table {{database}}.{{eventTable}};\n\nwith base as (\n  select \n    *\n  from {{database}}.{{eventTable}}\n  where partition_app = ? \n    and partition_year &gt;= ?\n    and partition_month &gt;= ?\n    and partition_day &gt;= ?\n),\nclickstream_user_dim_mv_1 as (\n  SELECT\n      user_pseudo_id\n    , event_date as first_visit_date\n    , app_info.install_source as first_visit_install_source\n    , device.system_language as first_visit_device_language\n    , platform as first_platform\n    , geo.country as first_visit_country\n    , geo.city as first_visit_city\n    , (case when nullif(traffic_source.source,'') is null then '(direct)' else traffic_source.source end) as first_traffic_source_source\n    , traffic_source.medium as first_traffic_source_medium\n    , traffic_source.name as first_traffic_source_name\n  from base\n  where event_name in ('_first_open','_first_visit')\n),\n\nclickstream_user_dim_mv_2 AS (\n  select user_pseudo_id,\n    count\n    (\n        distinct user_id\n    ) as user_id_count\n  from base ods\n  where event_name not in \n    (\n        '_first_open',\n        '_first_visit'\n    ) group by 1\n)\n\nSELECT upid.*,\n  (\n    case when uid.user_id_count&gt;0 then 'Registered' else 'Non-registered' end\n  ) as is_registered\nfrom clickstream_user_dim_mv_1 as upid left outer join \nclickstream_user_dim_mv_2 as uid on upid.user_pseudo_id=uid.user_pseudo_id\n</code></pre>"},{"location":"analytics/dashboard/acquisition/#_4","title":"\u7ef4\u5ea6\u548c\u6307\u6807","text":"<p>\u62a5\u544a\u5305\u62ec\u4ee5\u4e0b\u7ef4\u5ea6\u548c\u6307\u6807\u3002\u60a8\u53ef\u4ee5\u901a\u8fc7\u5728 QuickSight \u6570\u636e\u96c6\u4e2d\u521b\u5efa <code>calculated field</code> \u6765\u6dfb\u52a0\u66f4\u591a\u7ef4\u5ea6\u6216\u6307\u6807\u3002\u4e86\u89e3\u66f4\u591a\u3002</p> \u5b57\u6bb5 \u7c7b\u578b \u662f\u4ec0\u4e48 \u5982\u4f55\u586b\u5145 <code>user_pseudo_id</code> \u7ef4\u5ea6 \u7528\u6237\u7684 SDK \u751f\u6210\u7684\u552f\u4e00 ID \u4ece\u5206\u6790\u5f15\u64ce\u67e5\u8be2 <code>user_id</code> \u7ef4\u5ea6 \u901a\u8fc7 SDK \u4e2d\u7684 setUserId API \u8bbe\u7f6e\u7684\u7528\u6237 ID \u4ece\u5206\u6790\u5f15\u64ce\u67e5\u8be2 <code>device_id</code> \u7ef4\u5ea6 \u8bbe\u5907\u7684\u552f\u4e00 ID\uff0c\u8bf7\u53c2\u9605 SDK \u624b\u518c \u4e86\u89e3\u8bbe\u5907 ID \u7684\u83b7\u53d6\u65b9\u5f0f \u4ece\u5206\u6790\u5f15\u64ce\u67e5\u8be2 <code>first_visit_date</code> \u7ef4\u5ea6 \u7528\u6237\u9996\u6b21\u8bbf\u95ee\u60a8\u7684\u7f51\u7ad9\u6216\u9996\u6b21\u6253\u5f00\u5e94\u7528\u7684\u65e5\u671f \u4ece\u5206\u6790\u5f15\u64ce\u67e5\u8be2 <code>first_visit_install_source</code> \u7ef4\u5ea6 \u7528\u6237\u9996\u6b21\u6253\u5f00\u5e94\u7528\u65f6\u7684\u5b89\u88c5\u6765\u6e90\u3002Web \u4e3a\u7a7a \u4ece\u5206\u6790\u5f15\u64ce\u67e5\u8be2 <code>first_traffic_source_source</code> \u7ef4\u5ea6 \u7528\u6237\u9996\u6b21\u8bbf\u95ee\u5e94\u7528\u6216 Web \u65f6\u7684\u6d41\u91cf\u6765\u6e90 \u4ece\u5206\u6790\u5f15\u64ce\u67e5\u8be2 <code>first_traffic_source_medium</code> \u7ef4\u5ea6 \u7528\u6237\u9996\u6b21\u8bbf\u95ee\u5e94\u7528\u6216 Web \u65f6\u7684\u6d41\u91cf\u5a92\u4ecb \u4ece\u5206\u6790\u5f15\u64ce\u67e5\u8be2 <code>first_traffic_source_name</code> \u7ef4\u5ea6 \u7528\u6237\u9996\u6b21\u8bbf\u95ee\u5e94\u7528\u6216 Web \u65f6\u7684\u6d41\u91cf\u5e7f\u544a\u7cfb\u5217\u540d\u79f0 \u4ece\u5206\u6790\u5f15\u64ce\u67e5\u8be2 <code>first_visit_device_language</code> \u7ef4\u5ea6 \u7528\u6237\u9996\u6b21\u6253\u5f00\u5e94\u7528\u6216\u9996\u6b21\u8bbf\u95ee\u7f51\u7ad9\u65f6\u6240\u7528\u8bbe\u5907\u7684\u7cfb\u7edf\u8bed\u8a00 \u4ece\u5206\u6790\u5f15\u64ce\u67e5\u8be2 <code>first_platform</code> \u7ef4\u5ea6 \u7528\u6237\u9996\u6b21\u8bbf\u95ee\u60a8\u7684\u7f51\u7ad9\u6216\u9996\u6b21\u6253\u5f00\u60a8\u7684\u5e94\u7528\u65f6\u7684\u5e73\u53f0 \u4ece\u5206\u6790\u5f15\u64ce\u67e5\u8be2 <code>first_referer</code> \u7ef4\u5ea6 \u7528\u6237\u9996\u6b21\u8bbf\u95ee\u60a8\u7684\u7f51\u7ad9\u65f6\u7684\u5f15\u8350\u6765\u6e90 \u4ece\u5206\u6790\u5f15\u64ce\u67e5\u8be2 <code>first_visit_country</code> \u7ef4\u5ea6 \u7528\u6237\u9996\u6b21\u8bbf\u95ee\u60a8\u7684\u7f51\u7ad9\u6216\u9996\u6b21\u6253\u5f00\u60a8\u7684\u5e94\u7528\u7684\u56fd\u5bb6 \u4ece\u5206\u6790\u5f15\u64ce\u67e5\u8be2 <code>first_visit_city</code> \u7ef4\u5ea6 \u7528\u6237\u9996\u6b21\u8bbf\u95ee\u60a8\u7684\u7f51\u7ad9\u6216\u9996\u6b21\u6253\u5f00\u60a8\u7684\u5e94\u7528\u7684\u57ce\u5e02 \u4ece\u5206\u6790\u5f15\u64ce\u67e5\u8be2 <code>custom_attr_key</code> \u7ef4\u5ea6 \u7528\u6237\u7684\u81ea\u5b9a\u4e49\u5c5e\u6027\u952e\u7684\u540d\u79f0 \u4ece\u5206\u6790\u5f15\u64ce\u67e5\u8be2 <code>custom_attr_value</code> \u7ef4\u5ea6 \u7528\u6237\u7684\u81ea\u5b9a\u4e49\u5c5e\u6027\u952e\u7684\u503c \u4ece\u5206\u6790\u5f15\u64ce\u67e5\u8be2 <code>registration_status</code> \u7ef4\u5ea6 \u7528\u6237\u662f\u5426\u5df2\u6ce8\u518c \u4ece\u5206\u6790\u5f15\u64ce\u67e5\u8be2 <code>Logged-in Rate</code> \u6307\u6807 \u4e0d\u540c\u7528\u6237 ID \u6570\u9664\u4ee5\u4e0d\u540c\u7528\u6237\u4f2a ID \u6570 QuickSight \u4e2d\u7684\u8ba1\u7b97\u5b57\u6bb5"},{"location":"analytics/dashboard/acquisition/#_5","title":"\u793a\u4f8b\u4eea\u8868\u677f","text":"<p>\u4ee5\u4e0b\u56fe\u7247\u662f\u4e00\u4e2a\u793a\u4f8b\u4eea\u8868\u677f\u4f9b\u60a8\u53c2\u8003\u3002</p> <p></p>"},{"location":"analytics/dashboard/activity/","title":"\u6d3b\u52a8\u62a5\u544a","text":"<p>\u60a8\u53ef\u4ee5\u4f7f\u7528\u6d3b\u52a8\u62a5\u544a\u6765\u6df1\u5165\u4e86\u89e3\u7528\u6237\u5728\u4f7f\u7528\u60a8\u7684\u7f51\u7ad9\u548c\u5e94\u7528\u7a0b\u5e8f\u65f6\u6267\u884c\u7684\u6d3b\u52a8\u3002 \u6b64\u62a5\u544a\u901a\u8fc7\u7528\u6237\u89e6\u53d1\u7684\u4e8b\u4ef6\u6765\u8861\u91cf\u7528\u6237\u6d3b\u52a8\uff0c\u5e76\u8ba9\u60a8\u67e5\u770b\u4e8b\u4ef6\u7684\u8be6\u7ec6\u5c5e\u6027\u3002</p> <p>\u6ce8\u610f\uff1a\u672c\u6587\u4ecb\u7ecd\u9ed8\u8ba4\u62a5\u544a\u3002 \u60a8\u53ef\u4ee5\u901a\u8fc7\u5e94\u7528\u7b5b\u9009\u5668\u6216\u6bd4\u8f83\u6216\u66f4\u6539 QuickSight \u4e2d\u7684\u7ef4\u5ea6\u3001\u6307\u6807\u6216\u56fe\u8868\u6765\u81ea\u5b9a\u4e49\u62a5\u544a\u3002 \u4e86\u89e3\u66f4\u591a</p>"},{"location":"analytics/dashboard/activity/#_2","title":"\u67e5\u770b\u62a5\u544a","text":"<ol> <li>\u8bbf\u95ee\u60a8\u7684\u5e94\u7528\u7a0b\u5e8f\u7684\u4eea\u8868\u677f\u3002 \u53c2\u8003\u3010\u8bbf\u95ee\u4eea\u8868\u677f\u3011(index.md)</li> <li>\u5728\u4eea\u8868\u677f\u4e2d\uff0c\u5355\u51fb\u540d\u79f0\u4e3a <code>Activity</code> \u7684\u5de5\u4f5c\u8868\u3002</li> </ol>"},{"location":"analytics/dashboard/activity/#_3","title":"\u6570\u636e\u4ece\u54ea\u91cc\u6765","text":"<p>\u6d3b\u52a8\u62a5\u544a\u662f\u57fa\u4e8e\u4ee5\u4e0b QuickSight \u6570\u636e\u96c6\u521b\u5efa\u7684\uff1a</p> <ul> <li><code>Events_View-&lt;app id&gt;-&lt;project id&gt;</code> \u8fde\u63a5\u5230\u5206\u6790\u5f15\u64ce\uff08\u5373 Redshift\uff09\u4e2d\u7684 <code>clickstream_event_view_v1</code> \u89c6\u56fe</li> <li><code>Events_Parameter_View-&lt;app id&gt;-&lt;project id&gt;</code> \u8fde\u63a5\u5230\u5206\u6790\u5f15\u64ce\u4e2d\u7684 <code>clickstream_events_parameter_view_v1</code> \u89c6\u56fe</li> </ul> <p>\u4e0b\u9762\u662f\u751f\u6210\u76f8\u5173\u89c6\u56fe\u7684 SQL \u547d\u4ee4\u3002</p> SQL \u547d\u4ee4 RedshiftAthena clickstream_event_view_v1.sql<pre><code>select \nevent_date\n, event_name\n, event_id\n, event_bundle_sequence_id::bigint as event_bundle_sequence_id\n, event_previous_timestamp::bigint as event_previous_timestamp\n, event_timestamp\n, event_value_in_usd\n, app_info.app_id::varchar as app_info_app_id\n, app_info.id::varchar as app_info_package_id\n, app_info.install_source::varchar as app_info_install_source\n, app_info.version::varchar as app_info_version\n, app_info.sdk_name::varchar as app_info_sdk_name\n, app_info.sdk_version::varchar as app_info_sdk_version\n, device.vendor_id::varchar as device_id\n, device.mobile_brand_name::varchar as device_mobile_brand_name\n, device.mobile_model_name::varchar as device_mobile_model_name\n, device.manufacturer::varchar as device_manufacturer\n, device.screen_width::bigint as device_screen_width\n, device.screen_height::bigint as device_screen_height\n, device.carrier::varchar as device_carrier\n, device.network_type::varchar as device_network_type\n, device.operating_system::varchar as device_operating_system\n, device.operating_system_version::varchar as device_operating_system_version\n, device.host_name::varchar\n, device.ua_browser::varchar \n, device.ua_browser_version::varchar\n, device.ua_os::varchar\n, device.ua_os_version::varchar\n, device.ua_device::varchar\n, device.ua_device_category::varchar\n, device.system_language::varchar as device_system_language\n, device.time_zone_offset_seconds::bigint as device_time_zone_offset_seconds\n, geo.continent::varchar as geo_continent\n, geo.country::varchar as geo_country\n, geo.city::varchar as geo_city\n, geo.metro::varchar as geo_metro\n, geo.region::varchar as geo_region\n, geo.sub_continent::varchar as geo_sub_continent\n, geo.locale::varchar as geo_locale\n, platform\n, project_id\n, traffic_source.name::varchar as traffic_source_name\n, traffic_source.medium::varchar as traffic_source_medium\n, traffic_source.source::varchar as traffic_source_source\n, event.user_id\n, event.user_pseudo_id\n, u.user_first_touch_timestamp\nfrom {{schema}}.event\nleft join (\n    select\n      *\n    from (\n    select  \n      user_pseudo_id,\n          user_first_touch_timestamp\n        ,ROW_NUMBER() over (partition by user_pseudo_id ORDER BY event_timestamp desc) AS et_rank\n      from {{schema}}.user\n  )\n    where et_rank = 1\n) as u on event.user_pseudo_id = u.user_pseudo_id\n;\n</code></pre> clickstream-ods-events-query.sql<pre><code>-- run following command to load latest partition\n-- msck repair table {{database}}.{{eventTable}};\n-- msck repair table {{database}}.{{userTable}};\n\nselect \n   event_date\n  ,event_name\n  ,event_id\n  ,event_bundle_sequence_id as event_bundle_sequence_id\n  ,event_previous_timestamp as event_previous_timestamp\n  ,event_timestamp\n  ,event_value_in_usd\n  ,app_info.app_id as app_info_app_id\n  ,app_info.id as app_info_package_id\n  ,app_info.install_source as app_info_install_source\n  ,app_info.version as app_info_version\n  ,device.vendor_id as device_id\n  ,device.mobile_brand_name as device_mobile_brand_name\n  ,device.mobile_model_name as device_mobile_model_name\n  ,device.manufacturer as device_manufacturer\n  ,device.screen_width as device_screen_width\n  ,device.screen_height as device_screen_height\n  ,device.carrier as device_carrier\n  ,device.network_type as device_network_type\n  ,device.operating_system as device_operating_system\n  ,device.operating_system_version as device_operating_system_version\n  ,device.ua_browser \n  ,device.ua_browser_version\n  ,device.ua_os\n  ,device.ua_os_version\n  ,device.ua_device\n  ,device.ua_device_category\n  ,device.system_language as device_system_language\n  ,device.time_zone_offset_seconds as device_time_zone_offset_seconds\n  ,geo.continent as geo_continent\n  ,geo.country as geo_country\n  ,geo.city as geo_city\n  ,geo.metro as geo_metro\n  ,geo.region as geo_region\n  ,geo.sub_continent as geo_sub_continent\n  ,geo.locale as geo_locale\n  ,platform\n  ,project_id\n  ,traffic_source.name as traffic_source_name\n  ,traffic_source.medium as traffic_source_medium\n  ,traffic_source.source as traffic_source_source\n  ,event.user_id\n  ,event.user_pseudo_id\n  ,u.user_first_touch_timestamp\nfrom {{database}}.{{eventTable}} as event\nleft join (\n    select\n      *\n    from (\n    select  \n      user_pseudo_id,\n          user_first_touch_timestamp\n        ,ROW_NUMBER() over (partition by user_pseudo_id ORDER BY event_timestamp desc) AS et_rank\n      from {{database}}.{{userTable}}\n  )\n    where et_rank = 1\n) as u on event.user_pseudo_id = u.user_pseudo_id\nwhere event.partition_app = ? \n  and event.partition_year &gt;= ?\n  and event.partition_month &gt;= ?\n  and event.partition_day &gt;= ?\n</code></pre>"},{"location":"analytics/dashboard/activity/#_4","title":"\u7ef4\u5ea6\u548c\u6307\u6807","text":"<p>\u8be5\u62a5\u544a\u5305\u62ec\u4ee5\u4e0b\u7ef4\u5ea6\u548c\u6307\u6807\u3002 \u60a8\u53ef\u4ee5\u901a\u8fc7\u5728 QuickSight \u6570\u636e\u96c6\u4e2d\u521b\u5efa\u201c\u8ba1\u7b97\u5b57\u6bb5\u201d\u6765\u6dfb\u52a0\u66f4\u591a\u7ef4\u5ea6\u6216\u6307\u6807\u3002 \u4e86\u89e3\u66f4\u591a\u3002</p> \u5b57\u6bb5 \u7c7b\u578b \u8fd9\u662f\u4ec0\u4e48 \u5982\u4f55\u586b\u5145 <code>event_id</code> \u7ef4\u5ea6 SDK \u4e3a\u7528\u6237\u5728\u4f7f\u7528\u60a8\u7684\u7f51\u7ad9\u548c\u5e94\u7528\u7a0b\u5e8f\u65f6\u89e6\u53d1\u7684\u4e8b\u4ef6\u751f\u6210\u552f\u4e00 ID \u6765\u81ea\u5206\u6790\u5f15\u64ce\u7684\u67e5\u8be2 <code>\u4e8b\u4ef6\u540d\u79f0</code> \u7ef4\u5ea6 \u4e8b\u4ef6\u540d\u79f0 \u6765\u81ea\u5206\u6790\u5f15\u64ce\u7684\u67e5\u8be2 <code>\u5e73\u53f0</code> \u7ef4\u5ea6 \u4f1a\u8bdd\u671f\u95f4\u7528\u6237\u4f7f\u7528\u7684\u5e73\u53f0 \u6765\u81ea\u5206\u6790\u5f15\u64ce\u7684\u67e5\u8be2 <code>\u4e8b\u4ef6\u7528\u6237\u7c7b\u578b</code> \u7ef4\u5ea6 \u6267\u884c\u4e8b\u4ef6\u7684\u7528\u6237\u7c7b\u578b\uff0c\u5373\u65b0\u7528\u6237\u6216\u73b0\u6709\u7528\u6237 QuickSight \u4e2d\u7684\u8ba1\u7b97\u5b57\u6bb5 <code>\u4e8b\u4ef6\u65e5\u671f</code> \u6307\u6807 \u8bb0\u5f55\u4e8b\u4ef6\u7684\u65e5\u671f\uff08UTC \u683c\u5f0f\u7684 YYYYMMDD\uff09\u3002 \u6765\u81ea\u5206\u6790\u5f15\u64ce\u7684\u67e5\u8be2 <code>\u4e8b\u4ef6\u65f6\u95f4\u6233</code> \u7ef4\u5ea6 \u5ba2\u6237\u7aef\u8bb0\u5f55\u4e8b\u4ef6\u7684\u65f6\u95f4\uff08\u4ee5\u5fae\u79d2\u4e3a\u5355\u4f4d\uff0cUTC\uff09\u3002 \u6765\u81ea\u5206\u6790\u5f15\u64ce\u7684\u67e5\u8be2 <code>app_info_version</code> \u7ef4\u5ea6 \u8bb0\u5f55\u4e8b\u4ef6\u65f6\u5e94\u7528\u7a0b\u5e8f\u6216\u7f51\u7ad9\u7684\u7248\u672c \u6765\u81ea\u5206\u6790\u5f15\u64ce\u7684\u67e5\u8be2 <code>event_parameter_key</code> \u7ef4\u5ea6 \u4e8b\u4ef6\u53c2\u6570key \u6765\u81ea\u5206\u6790\u5f15\u64ce\u7684\u67e5\u8be2 <code>event_parameter_key</code> \u7ef4\u5ea6 \u4e8b\u4ef6\u53c2\u6570\u7684\u503c \u6765\u81ea\u5206\u6790\u5f15\u64ce\u7684\u67e5\u8be2 <code>\u6700\u8fd17\u5929\u7684\u7528\u6237\u6d3b\u8dc3\u6570</code> \u6307\u6807 \u8fc7\u53bb 7 \u5929\u8bb0\u5f55\u7684\u4e8b\u4ef6\u6570 QuickSight \u4e2d\u7684\u8ba1\u7b97\u5b57\u6bb5 <code>\u6700\u8fd130\u5929\u5185\u7684\u7528\u6237\u6d3b\u52a8\u6570</code> \u6307\u6807 \u8fc7\u53bb 30 \u5929\u8bb0\u5f55\u7684\u4e8b\u4ef6\u6570 QuickSight \u4e2d\u7684\u8ba1\u7b97\u5b57\u6bb5 <code>\u89c6\u56fe</code> \u6307\u6807 <code>_screen_view</code> \u6216 <code>_page_view</code> \u4e8b\u4ef6\u7684\u6570\u91cf QuickSight \u4e2d\u7684\u8ba1\u7b97\u5b57\u6bb5 <code>\u5c4f\u5e55\u65f6\u95f4</code> \u6307\u6807 \u5c4f\u5e55\u6216\u7f51\u9875\u4e0a\u7684\u53c2\u4e0e\u65f6\u95f4\uff08\u4ee5\u5206\u949f\u4e3a\u5355\u4f4d\uff09 QuickSight \u4e2d\u7684\u8ba1\u7b97\u5b57\u6bb5"},{"location":"analytics/dashboard/activity/#_5","title":"\u793a\u4f8b\u4eea\u8868\u677f","text":"<p>\u4e0b\u56fe\u662f\u4e00\u4e2a\u793a\u4f8b\u4eea\u8868\u677f\u4f9b\u60a8\u53c2\u8003\u3002</p> <p></p>"},{"location":"analytics/dashboard/crash/","title":"\u5d29\u6e83\u62a5\u544a","text":"<p>\u5d29\u6e83\u62a5\u544a\u63d0\u4f9b\u6709\u5173\u5e94\u7528\u7a0b\u5e8f\u4e2d\u5d29\u6e83\u4e8b\u4ef6\u7684\u5ea6\u91cf\u548c\u4fe1\u606f\u3002</p> <p>\u6ce8\u610f\uff1a \u672c\u6587\u63cf\u8ff0\u9ed8\u8ba4\u62a5\u544a\u3002\u60a8\u53ef\u4ee5\u901a\u8fc7\u5728QuickSight\u4e2d\u5e94\u7528\u8fc7\u6ee4\u5668\u6216\u6bd4\u8f83\uff0c\u6216\u66f4\u6539\u7ef4\u5ea6\u3001\u5ea6\u91cf\u6216\u56fe\u8868\u6765\u81ea\u5b9a\u4e49\u62a5\u544a\u3002\u4e86\u89e3\u66f4\u591a</p>"},{"location":"analytics/dashboard/crash/#_2","title":"\u67e5\u770b\u62a5\u544a","text":"<ol> <li>\u8bbf\u95ee\u5e94\u7528\u7a0b\u5e8f\u7684\u4eea\u8868\u677f\u3002\u8bf7\u53c2\u9605\u8bbf\u95ee\u4eea\u8868\u677f\u3002</li> <li>\u5728\u4eea\u8868\u677f\u4e2d\uff0c\u5355\u51fb\u540d\u79f0\u4e3a<code>Crash</code>\u7684\u5de5\u4f5c\u8868\u3002</li> </ol>"},{"location":"analytics/dashboard/crash/#_3","title":"\u6570\u636e\u6765\u6e90","text":"<p>\u5d29\u6e83\u62a5\u544a\u662f\u57fa\u4e8e\u4ee5\u4e0bQuickSight\u6570\u636e\u96c6\u521b\u5efa\u7684\uff1a</p> <ul> <li><code>clickstream_user_dim_view_v1</code> - \u8fde\u63a5\u5230\u5206\u6790\u5f15\u64ce\u4e2d\u7684<code>clickstream_event_view_v1</code>\u89c6\u56fe\uff08\u4f8b\u5982\uff0cRedshift\uff09\u3002</li> <li><code>Events_Parameter_View-&lt;app id&gt;-&lt;project id&gt;</code> - \u8fde\u63a5\u5230\u5206\u6790\u5f15\u64ce\u4e2d\u7684<code>clickstream_events_parameter_view_v1</code>\u89c6\u56fe\u3002</li> </ul> SQL Commands RedshiftAthena clickstream_event_view_v1.sql<pre><code>SORTKEY(event_date)\nAUTO REFRESH YES\nAS\nselect \nevent_date\n, event_name\n, event_id\n, event_bundle_sequence_id::bigint as event_bundle_sequence_id\n, event_previous_timestamp::bigint as event_previous_timestamp\n, event_timestamp\n, event_value_in_usd\n, app_info.app_id::varchar as app_info_app_id\n, app_info.id::varchar as app_info_package_id\n, app_info.install_source::varchar as app_info_install_source\n, app_info.version::varchar as app_info_version\n, app_info.sdk_name::varchar as app_info_sdk_name\n, app_info.sdk_version::varchar as app_info_sdk_version\n, device.vendor_id::varchar as device_id\n, device.mobile_brand_name::varchar as device_mobile_brand_name\n, device.mobile_model_name::varchar as device_mobile_model_name\n, device.manufacturer::varchar as device_manufacturer\n, device.screen_width::bigint as device_screen_width\n, device.screen_height::bigint as device_screen_height\n, device.carrier::varchar as device_carrier\n, device.network_type::varchar as device_network_type\n, device.operating_system::varchar as device_operating_system\n, device.operating_system_version::varchar as device_operating_system_version\n, device.host_name::varchar\n, device.ua_browser::varchar \n, device.ua_browser_version::varchar\n, device.ua_os::varchar\n, device.ua_os_version::varchar\n, device.ua_device::varchar\n, device.ua_device_category::varchar\n, device.system_language::varchar as device_system_language\n, device.time_zone_offset_seconds::bigint as device_time_zone_offset_seconds\n, geo.continent::varchar as geo_continent\n, geo.country::varchar as geo_country\n, geo.city::varchar as geo_city\n, geo.metro::varchar as geo_metro\n, geo.region::varchar as geo_region\n, geo.sub_continent::varchar as geo_sub_continent\n, geo.locale::varchar as geo_locale\n, platform\n, project_id\n, traffic_source.name::varchar as traffic_source_name\n, traffic_source.medium::varchar as traffic_source_medium\n, traffic_source.source::varchar as traffic_source_source\n, event.user_id\n, event.user_pseudo_id\n, u.user_first_touch_timestamp\nfrom {{schema}}.event\nleft join (\n    select\n      *\n    from (\n    select  \n      user_pseudo_id,\n          user_first_touch_timestamp\n        ,ROW_NUMBER() over (partition by user_pseudo_id ORDER BY event_timestamp desc) AS et_rank\n      from {{schema}}.user\n  )\n    where et_rank = 1\n) as u on event.user_pseudo_id = u.user_pseudo_id\n;\n</code></pre> clickstream-ods-events-query.sql<pre><code>-- run following command to load latest partition\n-- msck repair table {{database}}.{{eventTable}};\n-- msck repair table {{database}}.{{userTable}};\n\nselect \n   event_date\n  ,event_name\n  ,event_id\n  ,event_bundle_sequence_id as event_bundle_sequence_id\n  ,event_previous_timestamp as event_previous_timestamp\n  ,event_timestamp\n  ,event_value_in_usd\n  ,app_info.app_id as app_info_app_id\n  ,app_info.id as app_info_package_id\n  ,app_info.install_source as app_info_install_source\n  ,app_info.version as app_info_version\n  ,device.vendor_id as device_id\n  ,device.mobile_brand_name as device_mobile_brand_name\n  ,device.mobile_model_name as device_mobile_model_name\n  ,device.manufacturer as device_manufacturer\n  ,device.screen_width as device_screen_width\n  ,device.screen_height as device_screen_height\n  ,device.carrier as device_carrier\n  ,device.network_type as device_network_type\n  ,device.operating_system as device_operating_system\n  ,device.operating_system_version as device_operating_system_version\n  ,device.ua_browser \n  ,device.ua_browser_version\n  ,device.ua_os\n  ,device.ua_os_version\n  ,device.ua_device\n  ,device.ua_device_category\n  ,device.system_language as device_system_language\n  ,device.time_zone_offset_seconds as device_time_zone_offset_seconds\n  ,geo.continent as geo_continent\n  ,geo.country as geo_country\n  ,geo.city as geo_city\n  ,geo.metro as geo_metro\n  ,geo.region as geo_region\n  ,geo.sub_continent as geo_sub_continent\n  ,geo.locale as geo_locale\n  ,platform\n  ,project_id\n  ,traffic_source.name as traffic_source_name\n  ,traffic_source.medium as traffic_source_medium\n  ,traffic_source.source as traffic_source_source\n  ,event.user_id\n  ,event.user_pseudo_id\n  ,u.user_first_touch_timestamp\nfrom {{database}}.{{eventTable}} as event\nleft join (\n    select\n      *\n    from (\n    select  \n      user_pseudo_id,\n          user_first_touch_timestamp\n        ,ROW_NUMBER() over (partition by user_pseudo_id ORDER BY event_timestamp desc) AS et_rank\n      from {{database}}.{{userTable}}\n  )\n    where et_rank = 1\n) as u on event.user_pseudo_id = u.user_pseudo_id\nwhere event.partition_app = ? \n  and event.partition_year &gt;= ?\n  and event.partition_month &gt;= ?\n  and event.partition_day &gt;= ?\n</code></pre>"},{"location":"analytics/dashboard/crash/#sample-dashboard","title":"Sample dashboard","text":"<p>Below image is a sample dashboard for your reference.</p> <p></p>"},{"location":"analytics/dashboard/custom-analysis/","title":"\u81ea\u5b9a\u4e49\u62a5\u544a","text":"<p>\u8fd9\u4e2a\u89e3\u51b3\u65b9\u6848\u7684\u4e00\u4e2a\u5173\u952e\u4f18\u52bf\u662f\u60a8\u5bf9\u4ece\u60a8\u7684\u5e94\u7528\u7a0b\u5e8f\u548c\u7f51\u7ad9\u6536\u96c6\u7684\u70b9\u51fb\u6d41\u6570\u636e\u5177\u6709100%\u7684\u63a7\u5236\u6743\u3002\u60a8\u5b8c\u5168\u53ef\u4ee5\u7075\u6d3b\u5730\u5206\u6790\u6570\u636e\uff0c\u4ee5\u6ee1\u8db3\u7279\u5b9a\u7684\u4e1a\u52a1\u9700\u6c42\u3002\u672c\u6587\u4ee5\u4f7f\u7528Redshift Serverless\u4f5c\u4e3a\u5206\u6790\u5f15\u64ce\u548cQuickSight\u4f5c\u4e3a\u62a5\u544a\u5de5\u5177\u521b\u5efa\u6f0f\u6597\u5206\u6790\u7684\u793a\u4f8b\u6765\u8bf4\u660e\u521b\u5efa\u81ea\u5b9a\u4e49\u62a5\u544a\u7684\u6b65\u9aa4\u3002</p>"},{"location":"analytics/dashboard/custom-analysis/#_2","title":"\u6b65\u9aa4","text":"<p>\u521b\u5efa\u81ea\u5b9a\u4e49\u62a5\u544a\u4e3b\u8981\u5305\u62ec\u4e24\u4e2a\u90e8\u5206\uff0c\u7b2c\u4e00\u90e8\u5206\u662f\u5728\u60a8\u7684\u5206\u6790\u5f15\u64ce\u4e2d\u51c6\u5907\u6570\u636e\u96c6\uff0c\u7b2c\u4e8c\u90e8\u5206\u662f\u5728QuickSight\u4e2d\u521b\u5efa\u53ef\u89c6\u5316\u3002</p>"},{"location":"analytics/dashboard/custom-analysis/#-","title":"\u7b2c\u4e00\u90e8\u5206 - \u6570\u636e\u96c6\u51c6\u5907","text":"<ol> <li>\u6253\u5f00Redshift Serverless dashboard</li> <li>\u70b9\u51fb\u4ee5<code>clickstream-&lt;project-id&gt;</code>\u5f00\u5934\u7684\u5de5\u4f5c\u7ec4\uff0c\u8be5\u5de5\u4f5c\u7ec4\u7531\u89e3\u51b3\u65b9\u6848\u521b\u5efa\u3002</li> <li>\u70b9\u51fb<code>Query data</code>\u6309\u94ae\uff0c\u60a8\u5c06\u88ab\u5f15\u5bfc\u5230Redshift Query Editor\u3002</li> <li> <p>\u5728Redshift Query Editor\u7684\u7f16\u8f91\u5668\u89c6\u56fe\u4e2d\uff0c\u53f3\u952e\u5355\u51fb\u540d\u4e3a<code>clickstream-&lt;project-id&gt;</code>\u7684\u5de5\u4f5c\u7ec4\u3002\u5728\u5f39\u51fa\u7684\u4e0b\u62c9\u83dc\u5355\u4e2d\uff0c\u9009\u62e9<code>Edit connection</code>\uff0c\u60a8\u5c06\u88ab\u8981\u6c42\u63d0\u4f9b\u8fde\u63a5\u53c2\u6570\u3002\u8bf7\u6309\u7167\u8fd9\u4e2aguide\u4f7f\u7528\u9002\u5f53\u7684\u65b9\u6cd5\u8fde\u63a5\u3002</p> <p>\u91cd\u8981</p> <p>\u60a8\u5c06\u9700\u8981\u5bf9\u6570\u636e\u5e93\uff08\u540d\u79f0\u4e3a<code>&lt;project-id&gt;</code>\uff09\u5177\u6709\u8bfb\u5199\u6743\u9650\uff0c\u4ee5\u521b\u5efa\u81ea\u5b9a\u4e49\u89c6\u56fe\u6216\u8868\u3002\u4f8b\u5982\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528Admin\u7528\u6237\u8fde\u63a5\u5230\u96c6\u7fa4\u6216\u5de5\u4f5c\u7ec4\u3002\u5982\u679c\u60a8\u4e0d\u77e5\u9053Admin\u7528\u6237\u7684\u5bc6\u7801\uff0c\u60a8\u53ef\u4ee5\u5728Redshift\u63a7\u5236\u53f0\u4e2d\u91cd\u7f6eAdmin\u7528\u6237\u7684\u5bc6\u7801\uff08\u4e86\u89e3\u66f4\u591a\uff09\u3002</p> </li> <li> <p>\u5982\u679c\u8fd9\u662f\u60a8\u7b2c\u4e00\u6b21\u8bbf\u95ee\u67e5\u8be2\u7f16\u8f91\u5668\uff0c\u7cfb\u7edf\u5c06\u63d0\u793a\u60a8\u914d\u7f6e\u5e10\u6237\uff0c\u8bf7\u5355\u51fbConfig account\u6309\u94ae\u4ee5\u6253\u5f00\u67e5\u8be2\u7f16\u8f91\u5668\u3002</p> </li> <li>\u6dfb\u52a0\u4e00\u4e2a\u65b0\u7684SQL\u7f16\u8f91\u5668\uff0c\u5e76\u786e\u4fdd\u9009\u62e9\u4e86\u6b63\u786e\u7684\u5de5\u4f5c\u7ec4\u548c\u6a21\u5f0f\u3002</li> <li> <p>\u4e3a\u6f0f\u6597\u5206\u6790\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u89c6\u56fe\u3002\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c\u6211\u4eec\u4f7f\u7528\u4e86\u4e0b\u9762\u7684SQL\u3002</p> SQL Commands <pre><code>CREATE OR REPLACE VIEW notepad.clickstream_funnel_view as\nSELECT\nplatform,\nCOUNT(DISTINCT step1_id) AS login_users,\nCOUNT(DISTINCT step2_id) AS add_button_click_users,\nCOUNT(DISTINCT step3_id) AS note_create_users\nFROM (\nSELECT\n    platform,\n    user_pseudo_id AS step1_id,\n    event_timestamp AS step1_timestamp, \n    step2_id,\n    step2_timestamp,\n    step3_id,\n    step3_timestamp\nFROM\n    notepad.ods_events\nLEFT JOIN (\nSELECT\n    user_pseudo_id AS step2_id,\n    event_timestamp AS step2_timestamp\nFROM\n    notepad.ods_events\nWHERE\n    event_name = 'add_button_click' )\nON\n    user_pseudo_id = step2_id\n    AND event_timestamp &lt; step2_timestamp\nLEFT JOIN (\nSELECT\n    user_pseudo_id AS step3_id,\n    event_timestamp AS step3_timestamp\nFROM\n    notepad.ods_events\nWHERE\n    event_name= 'note_create' )\nON\n    step3_id  = step2_id\n    AND step2_timestamp &lt; step3_timestamp\nWHERE\nevent_name = 'user_login' )\ngroup by\nplatform\n</code></pre> </li> <li> <p>\u8f6c\u5230QuickSight\u63a7\u5236\u53f0\uff0c\u70b9\u51fb'Dataset'\uff0c\u7136\u540e\u70b9\u51fb'New dataset'\u3002</p> </li> <li> <p>\u5728New Dataset\u9875\u9762\uff0c\u70b9\u51fbRedshift Manual connect\u4ee5\u6dfb\u52a0\u6570\u636e\u96c6\uff0c\u4f7f\u7528\u4ee5\u4e0b\u53c2\u6570\u586b\u5199\u5f39\u51fa\u7684\u8868\u5355\u3002</p> <ul> <li>\u6570\u636e\u6e90\u540d\u79f0\uff1a<code>clickstream-funnel-view-&lt;project-id&gt;</code></li> <li>\u8fde\u63a5\u7c7b\u578b\uff1a\u9009\u62e9<code>VPC\u8fde\u63a5</code> / <code>VPC Connection for Clickstream pipeline &lt;project-id&gt;</code></li> <li>\u6570\u636e\u5e93\u670d\u52a1\u5668\uff1a\u8f93\u5165\u670d\u52a1\u5668less\u5de5\u4f5c\u7ec4\u7684\u7aef\u70b9URL\uff0c\u60a8\u53ef\u4ee5\u5728\u5de5\u4f5c\u7ec4\u63a7\u5236\u53f0\u4e0a\u627e\u5230\u5b83\u3002</li> <li>\u7aef\u53e3\uff1a<code>5439</code></li> <li>\u6570\u636e\u5e93\u540d\u79f0\uff1a<code>&lt;project-id&gt;</code></li> <li>\u7528\u6237\u540d\uff1a\u60a8\u7528\u4e8e\u5728\u524d\u9762\u7684\u6b65\u9aa4\u4e2d\u521b\u5efa\u81ea\u5b9a\u4e49\u89c6\u56fe\u7684\u7528\u6237\u7684\u540d\u79f0</li> <li>\u5bc6\u7801\uff1a\u60a8\u7528\u4e8e\u5728\u524d\u9762\u7684\u6b65\u9aa4\u4e2d\u521b\u5efa\u81ea\u5b9a\u4e49\u89c6\u56fe\u7684\u7528\u6237\u7684\u5bc6\u7801</li> </ul> </li> <li>\u9a8c\u8bc1\u8fde\u63a5\uff0c\u5982\u679c\u6b63\u5e38\uff0c\u8bf7\u70b9\u51fbCreate data source\u6309\u94ae\u3002</li> <li> <p>\u9009\u62e9Redshift\u4e2d\u7684\u89c6\u56fe\u4f5c\u4e3a\u6570\u636e\u6e90 - \"clickstream_funnel_view\"\uff0c\u7136\u540e</p> <ul> <li>\u6a21\u5f0f\uff1a\u9009\u62e9<code>notepad</code> </li> <li>\u8868\uff1a<code>clickstream_funnel_view</code></li> </ul> <p>\u63d0\u793a</p> <p>\u60a8\u5c06\u88ab\u63d0\u793a\u9009\u62e9<code>\u5bfc\u5165\u5230SPICE</code>\u6216<code>\u76f4\u63a5\u67e5\u8be2\u6570\u636e</code>\uff0c\u8bf7\u9009\u62e9<code>\u76f4\u63a5\u67e5\u8be2\u60a8\u7684\u6570\u636e</code>\u3002</p> <ul> <li>\u70b9\u51fbEdit/Preview data\u4ee5\u9884\u89c8\u6570\u636e\uff0c\u4e00\u65e6\u719f\u6089\u4e86\u6570\u636e\uff0c\u70b9\u51fb\u53f3\u4e0a\u89d2\u7684PUBLISH &amp; VISUALIZE\u3002</li> </ul> </li> </ol>"},{"location":"analytics/dashboard/custom-analysis/#-quicksight","title":"\u7b2c\u4e8c\u90e8\u5206 - \u5728QuickSight\u4e2d\u521b\u5efa\u53ef\u89c6\u5316","text":"<ol> <li>\u60a8\u5c06\u88ab\u63d0\u793a\u4e3a\u53ef\u89c6\u5316\u9009\u62e9\u5e03\u5c40\uff0c\u8bf7\u6839\u636e\u9700\u8981\u9009\u62e9\u4e00\u4e2a\u3002</li> <li>\u70b9\u51fb\u5c4f\u5e55\u5de6\u4e0a\u89d2\u7684\u201c+Add\u201d\uff0c\u7136\u540e\u70b9\u51fb\u201cAdd visual\u201d\u6309\u94ae\u3002</li> <li>\u5728\u5c4f\u5e55\u5de6\u4e0b\u89d2\u9009\u62e9\u4e00\u4e2a\u89c6\u89c9\u7c7b\u578b\uff0c\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\u9009\u62e9\u5782\u76f4\u6761\u5f62\u56fe\u3002</li> <li>\u5728\u5b57\u6bb5\u4e95\u4e2d\uff0c\u9009\u62e9<code>platform</code>\u4f5c\u4e3aX\u8f74\uff0c<code>login_user</code>\uff0c<code>add_button_click_users</code>\u548c<code>note_create_users</code>\u4f5c\u4e3a\u503c\u3002</li> <li>\u73b0\u5728\u60a8\u53ef\u4ee5\u5c06\u6b64\u5206\u6790\u53d1\u5e03\u4e3a\u4eea\u8868\u677f\uff0c\u6216\u7ee7\u7eed\u683c\u5f0f\u5316\u5b83\u3002\u5728\u8fd9\u4e2a\u94fe\u63a5\u4e2d\u4e86\u89e3\u6709\u5173QuickSight\u53ef\u89c6\u5316\u7684\u66f4\u591a\u4fe1\u606f\u3002</li> </ol>"},{"location":"analytics/dashboard/device/","title":"\u8bbe\u5907\u62a5\u544a","text":"<p>\u60a8\u53ef\u4ee5\u4f7f\u7528\u8bbe\u5907\u62a5\u544a\u6df1\u5165\u4e86\u89e3\u7528\u6237\u5728\u4f7f\u7528\u60a8\u7684\u5e94\u7528\u6216\u7f51\u7ad9\u65f6\u6240\u4f7f\u7528\u7684\u8bbe\u5907\u3002\u8be5\u62a5\u544a\u4e3a\u60a8\u7684\u7528\u6237\u6863\u6848\u63d0\u4f9b\u4e86\u66f4\u591a\u4fe1\u606f\u3002</p> <p>\u6ce8\u610f\uff1a\u672c\u6587\u63cf\u8ff0\u4e86\u9ed8\u8ba4\u62a5\u544a\u3002\u60a8\u53ef\u4ee5\u901a\u8fc7\u5e94\u7528\u8fc7\u6ee4\u5668\u6216\u6bd4\u8f83\uff0c\u6216\u901a\u8fc7\u5728 QuickSight \u4e2d\u66f4\u6539\u7ef4\u5ea6\u3001\u6307\u6807\u6216\u56fe\u8868\u6765\u81ea\u5b9a\u4e49\u62a5\u544a\u3002\u4e86\u89e3\u66f4\u591a</p>"},{"location":"analytics/dashboard/device/#_2","title":"\u67e5\u770b\u62a5\u544a","text":"<ol> <li>\u8bbf\u95ee\u60a8\u5e94\u7528\u7a0b\u5e8f\u7684\u4eea\u8868\u677f\u3002\u8bf7\u53c2\u9605 \u8bbf\u95ee\u4eea\u8868\u677f\u3002</li> <li>\u5728\u4eea\u8868\u677f\u4e2d\uff0c\u5355\u51fb\u540d\u79f0\u4e3a <code>Device</code> \u7684\u8868\u3002</li> </ol>"},{"location":"analytics/dashboard/device/#_3","title":"\u6570\u636e\u6765\u6e90","text":"<p>\u8bbe\u5907\u62a5\u544a\u662f\u57fa\u4e8e\u4ee5\u4e0b QuickSight \u6570\u636e\u96c6\u521b\u5efa\u7684\uff1a</p> <ul> <li><code>Device_View-&lt;app id&gt;-&lt;project id&gt;</code>\uff0c\u8be5\u6570\u636e\u96c6\u8fde\u63a5\u5230\u5206\u6790\u5f15\u64ce\uff08\u5373 Redshift \u6216 Athena\uff09\u4e2d\u7684 <code>clickstream_device_view_v1</code> \u89c6\u56fe\u3002</li> </ul> <p>\u4ee5\u4e0b\u662f\u751f\u6210\u89c6\u56fe\u7684 SQL \u547d\u4ee4\u3002</p> SQL \u547d\u4ee4 RedshiftAthena clickstream_device_view_v1.sql<pre><code>select\ndevice.vendor_id::varchar as device_id\n, event_date \n, device.mobile_brand_name::varchar\n, device.mobile_model_name::varchar\n, device.manufacturer::varchar\n, device.screen_width::int\n, device.screen_height::int\n, device.carrier::varchar\n, device.network_type::varchar\n, device.operating_system::varchar\n, device.operating_system_version::varchar\n, device.ua_browser::varchar\n, device.ua_browser_version::varchar\n, device.ua_os::varchar\n, device.ua_os_version::varchar\n, device.ua_device::varchar\n, device.ua_device_category::varchar\n, device.system_language::varchar\n, device.time_zone_offset_seconds::int\n, device.advertising_id::varchar\n, device.host_name::varchar\n, user_pseudo_id\n, user_id\n, count(event_id) as usage_num\n--please update the following schema name with your schema name\nfrom {{schema}}.event \ngroup by\ndevice_id\n, event_date\n, device.mobile_brand_name\n, device.mobile_model_name\n, device.manufacturer\n, device.screen_width\n, device.screen_height\n, device.carrier\n, device.network_type\n, device.operating_system\n, device.operating_system_version\n, device.ua_browser\n, device.ua_browser_version\n, device.ua_os \n, device.ua_os_version\n, device.ua_device\n, device.ua_device_category\n, device.system_language\n, device.time_zone_offset_seconds\n, device.advertising_id\n, device.host_name\n, user_pseudo_id\n, user_id;\n</code></pre> clickstream-device-query.sql<pre><code>-- run following command to load latest partition\n-- msck repair table {{database}}.{{eventTable}};\n\nselect\n   device.vendor_id as device_id\n  ,event_date \n  ,device.mobile_brand_name\n  ,device.mobile_model_name\n  ,device.manufacturer\n  ,device.screen_width\n  ,device.screen_height\n  ,device.carrier\n  ,device.network_type\n  ,device.operating_system\n  ,device.operating_system_version\n  ,device.ua_browser\n  ,device.ua_browser_version\n  ,device.ua_os\n  ,device.ua_os_version\n  ,device.ua_device\n  ,device.ua_device_category\n  ,device.system_language\n  ,device.time_zone_offset_seconds\n  ,device.advertising_id\n  ,device.host_name\n  ,user_pseudo_id\n  ,user_id\n  ,count(event_id) as usage_num\nfrom {{database}}.{{eventTable}} \nwhere partition_app = ? \n  and partition_year &gt;= ?\n  and partition_month &gt;= ?\n  and partition_day &gt;= ?\ngroup by\n  device.vendor_id\n  ,event_date\n  ,device.mobile_brand_name\n  ,device.mobile_model_name\n  ,device.manufacturer\n  ,device.screen_width\n  ,device.screen_height\n  ,device.carrier\n  ,device.network_type\n  ,device.operating_system\n  ,device.operating_system_version\n  ,device.ua_browser\n  ,device.ua_browser_version\n  ,device.ua_os \n  ,device.ua_os_version\n  ,device.ua_device\n  ,device.ua_device_category\n  ,device.system_language\n  ,device.time_zone_offset_seconds\n  ,device.advertising_id\n  ,device.host_name\n  ,user_pseudo_id\n  ,user_id\n</code></pre>"},{"location":"analytics/dashboard/device/#_4","title":"\u7ef4\u5ea6\u548c\u6307\u6807","text":"<p>\u62a5\u544a\u5305\u62ec\u4ee5\u4e0b\u7ef4\u5ea6\u548c\u6307\u6807\u3002\u60a8\u53ef\u4ee5\u901a\u8fc7\u5728 QuickSight \u6570\u636e\u96c6\u4e2d\u521b\u5efa <code>calculated field</code> \u6765\u6dfb\u52a0\u66f4\u591a\u7ef4\u5ea6\u6216\u6307\u6807\u3002\u4e86\u89e3\u66f4\u591a\u3002</p> \u5b57\u6bb5 \u7c7b\u578b \u662f\u4ec0\u4e48 \u5982\u4f55\u586b\u5145 <code>device_id</code> \u7ef4\u5ea6 \u8bbe\u5907\u7684\u552f\u4e00 ID\uff0c\u8bf7\u53c2\u9605 SDK \u624b\u518c \u4e86\u89e3\u8bbe\u5907 ID \u7684\u83b7\u53d6\u65b9\u5f0f \u4ece\u5206\u6790\u5f15\u64ce\u67e5\u8be2 <code>user_pseudo_id</code> \u7ef4\u5ea6 \u7528\u6237\u7684 SDK \u751f\u6210\u7684\u552f\u4e00 ID \u4ece\u5206\u6790\u5f15\u64ce\u67e5\u8be2 <code>user_id</code> \u7ef4\u5ea6 \u901a\u8fc7 SDK \u4e2d\u7684 setUserId API \u8bbe\u7f6e\u7684\u7528\u6237 ID \u4ece\u5206\u6790\u5f15\u64ce\u67e5\u8be2 <code>event_date</code> \u7ef4\u5ea6 \u8bb0\u5f55\u8bbe\u5907\u4fe1\u606f\u7684\u4e8b\u4ef6\u65e5\u671f \u4ece\u5206\u6790\u5f15\u64ce\u67e5\u8be2 <code>mobile_brand_name</code> \u7ef4\u5ea6 \u8bbe\u5907\u7684\u54c1\u724c\u540d\u79f0 \u4ece\u5206\u6790\u5f15\u64ce\u67e5\u8be2 <code>mobile_model_name</code> \u7ef4\u5ea6 \u8bbe\u5907\u7684\u578b\u53f7\u540d\u79f0 \u4ece\u5206\u6790\u5f15\u64ce\u67e5\u8be2 <code>manufacturer</code> \u7ef4\u5ea6 \u8bbe\u5907\u7684\u5236\u9020\u5546 \u4ece\u5206\u6790\u5f15\u64ce\u67e5\u8be2 <code>network_type</code> \u7ef4\u5ea6 \u7528\u6237\u8bb0\u5f55\u4e8b\u4ef6\u65f6\u7684\u7f51\u7edc\u7c7b\u578b \u4ece\u5206\u6790\u5f15\u64ce\u67e5\u8be2 <code>operating_system</code> \u7ef4\u5ea6 \u8bbe\u5907\u7684\u64cd\u4f5c\u7cfb\u7edf \u4ece\u5206\u6790\u5f15\u64ce\u67e5\u8be2 <code>operating_system_version</code> \u7ef4\u5ea6 \u8bbe\u5907\u7684\u64cd\u4f5c\u7cfb\u7edf\u7248\u672c \u4ece\u5206\u6790\u5f15\u64ce\u67e5\u8be2 <code>screen_height</code> \u7ef4\u5ea6 \u8bbe\u5907\u7684\u5c4f\u5e55\u9ad8\u5ea6 \u4ece\u5206\u6790\u5f15\u64ce\u67e5\u8be2 <code>screen_width</code> \u7ef4\u5ea6 \u8bbe\u5907\u7684\u5c4f\u5e55\u5bbd\u5ea6 \u4ece\u5206\u6790\u5f15\u64ce\u67e5\u8be2 <code>Screen Resolution</code> \u7ef4\u5ea6 \u8bbe\u5907\u7684\u5c4f\u5e55\u5206\u8fa8\u7387\uff08\u5373\u5c4f\u5e55\u9ad8\u5ea6 x \u5c4f\u5e55\u5bbd\u5ea6\uff09 QuickSight \u4e2d\u7684\u8ba1\u7b97\u5b57\u6bb5 <code>system_language</code> \u7ef4\u5ea6 \u89e3\u51b3\u65b9\u6848\u7684\u7cfb\u7edf\u8bed\u8a00 \u4ece\u5206\u6790\u5f15\u64ce\u67e5\u8be2 <code>us_browser</code> \u7ef4\u5ea6 \u4ece\u7528\u6237\u4ee3\u7406\u6d3e\u751f\u7684\u6d4f\u89c8\u5668 \u4ece\u5206\u6790\u5f15\u64ce\u67e5\u8be2 <code>us_browser_version</code> \u7ef4\u5ea6 \u4ece\u7528\u6237\u4ee3\u7406\u6d3e\u751f\u7684\u6d4f\u89c8\u5668\u7248\u672c \u4ece\u5206\u6790\u5f15\u64ce\u67e5\u8be2 <code>us_os</code> \u7ef4\u5ea6 \u4ece\u7528\u6237\u4ee3\u7406\u6d3e\u751f\u7684\u64cd\u4f5c\u7cfb\u7edf \u4ece\u5206\u6790\u5f15\u64ce\u67e5\u8be2 <code>us_device</code> \u7ef4\u5ea6 \u4ece\u7528\u6237\u4ee3\u7406\u6d3e\u751f\u7684\u8bbe\u5907 \u4ece\u5206\u6790\u5f15\u64ce\u67e5\u8be2 <code>us_device_category</code> \u7ef4\u5ea6 \u4ece\u7528\u6237\u4ee3\u7406\u6d3e\u751f\u7684\u8bbe\u5907\u7c7b\u522b \u4ece\u5206\u6790\u5f15\u64ce\u67e5\u8be2 <code>usage_num</code> \u6307\u6807 \u8bb0\u5f55\u8bbe\u5907 ID \u7684\u4e8b\u4ef6\u6570\u91cf \u4ece\u5206\u6790\u5f15\u64ce\u67e5\u8be2"},{"location":"analytics/dashboard/device/#_5","title":"\u793a\u4f8b\u4eea\u8868\u677f","text":"<p>\u4ee5\u4e0b\u56fe\u7247\u662f\u4e00\u4e2a\u793a\u4f8b\u4eea\u8868\u677f\u4f9b\u60a8\u53c2\u8003\u3002</p> <p></p>"},{"location":"analytics/dashboard/engagement/","title":"\u53c2\u4e0e\u5ea6\u62a5\u544a","text":"<p>\u60a8\u53ef\u4ee5\u4f7f\u7528\u53c2\u4e0e\u5ea6\u62a5\u544a\u6df1\u5165\u4e86\u89e3\u7528\u6237\u5728\u4f7f\u7528\u60a8\u7684\u7f51\u7ad9\u548c\u5e94\u7528\u65f6\u7684\u53c2\u4e0e\u5ea6\u6c34\u5e73\u3002\u8be5\u62a5\u544a\u901a\u8fc7\u7528\u6237\u89e6\u53d1\u7684\u4f1a\u8bdd\u4ee5\u53ca\u7528\u6237\u8bbf\u95ee\u7684\u7f51\u9875\u548c\u5e94\u7528\u5c4f\u5e55\u6765\u8861\u91cf\u7528\u6237\u53c2\u4e0e\u5ea6\u3002</p> <p>\u6ce8\u610f\uff1a\u672c\u6587\u63cf\u8ff0\u4e86\u9ed8\u8ba4\u62a5\u544a\u3002\u60a8\u53ef\u4ee5\u901a\u8fc7\u5e94\u7528\u8fc7\u6ee4\u5668\u6216\u6bd4\u8f83\uff0c\u6216\u901a\u8fc7\u5728 QuickSight \u4e2d\u66f4\u6539\u7ef4\u5ea6\u3001\u6307\u6807\u6216\u56fe\u8868\u6765\u81ea\u5b9a\u4e49\u62a5\u544a\u3002\u4e86\u89e3\u66f4\u591a</p>"},{"location":"analytics/dashboard/engagement/#_2","title":"\u67e5\u770b\u62a5\u544a","text":"<ol> <li>\u8bbf\u95ee\u60a8\u5e94\u7528\u7a0b\u5e8f\u7684\u4eea\u8868\u677f\u3002\u8bf7\u53c2\u9605 \u8bbf\u95ee\u4eea\u8868\u677f\u3002</li> <li>\u5728\u4eea\u8868\u677f\u4e2d\uff0c\u5355\u51fb\u540d\u79f0\u4e3a <code>Engagement</code> \u7684\u8868\u3002</li> </ol>"},{"location":"analytics/dashboard/engagement/#_3","title":"\u6570\u636e\u6765\u6e90","text":"<p>\u53c2\u4e0e\u5ea6\u62a5\u544a\u662f\u57fa\u4e8e <code>Session_View-&lt;app id&gt;-&lt;project id&gt;</code> \u7684 QuickSight \u6570\u636e\u96c6\u521b\u5efa\u7684\uff0c\u8be5\u6570\u636e\u96c6\u8fde\u63a5\u5230\u5206\u6790\u5f15\u64ce\uff08\u5373 Redshift \u6216 Athena\uff09\u4e2d\u7684 <code>clickstream_session_view_v1</code> \u89c6\u56fe\u3002\u4ee5\u4e0b\u662f\u751f\u6210\u89c6\u56fe\u7684 SQL \u547d\u4ee4\u3002</p> SQL \u547d\u4ee4 RedshiftAthena clickstream-session-view.sql<pre><code>  SELECT \n    event.event_id,\n    event.event_name,\n    event.event_date,\n    event.platform,\n    event.user_id,\n    event.user_pseudo_id,\n    event.event_timestamp,\n    event_parameter.event_param_key,\n    event_parameter.event_param_double_value,\n    event_parameter.event_param_float_value,\n    event_parameter.event_param_int_value,\n    event_parameter.event_param_string_value\n  FROM {{schema}}.event\n  JOIN {{schema}}.event_parameter ON event.event_timestamp = event_parameter.event_timestamp AND event.event_id = event_parameter.event_id\n),\n\nsession_part_1 AS (\n  SELECT \n    es.session_id::VARCHAR,\n    user_pseudo_id,\n    platform,\n    MAX(session_duration) AS session_duration,\n    (CASE WHEN (MAX(session_duration) &gt;= 10000 OR SUM(view) &gt;= 1) THEN 1 ELSE 0 END) AS engaged_session,\n    (CASE WHEN (MAX(session_duration) &gt;= 10000 OR SUM(view) &gt;= 1) THEN 0 ELSE 1 END) AS bounced_session,\n    MIN(session_st) AS session_start_timestamp,\n    SUM(view) AS session_views,\n    SUM(engagement_time) AS session_engagement_time\n  FROM\n  (\n    SELECT \n      user_pseudo_id,\n      event_id,\n      platform,\n      MAX(CASE WHEN event_param_key = '_session_id' THEN event_param_string_value ELSE NULL END) AS session_id,\n      MAX(CASE WHEN event_param_key = '_session_duration' THEN event_param_int_value ELSE NULL END) AS session_duration,\n      MAX(CASE WHEN event_param_key = '_session_start_timestamp' THEN event_param_int_value ELSE NULL END) AS session_st,\n      MAX(CASE WHEN (event_param_key = '_engagement_time_msec' AND event_name = '_user_engagement') THEN event_param_int_value ELSE NULL END) AS engagement_time,\n      (CASE WHEN MAX(event_name) IN ('_screen_view', '_page_view') THEN 1 ELSE 0 END) AS view\n    FROM base_data\n    GROUP BY 1,2,3\n  ) AS es\n  GROUP BY 1,2,3\n),\n\nsession_part_2 AS (\n  SELECT session_id, first_sv_event_id, last_sv_event_id, COUNT(event_id) FROM (\n    SELECT \n      session_id::VARCHAR,\n      event_id,\n      FIRST_VALUE(event_id) OVER(PARTITION BY session_id ORDER BY event_timestamp ASC ROWS BETWEEN UNBOUNDED PRECEDING AND UNBOUNDED FOLLOWING) AS first_sv_event_id,\n      LAST_VALUE(event_id) OVER(PARTITION BY session_id ORDER BY event_timestamp ASC ROWS BETWEEN UNBOUNDED PRECEDING AND UNBOUNDED FOLLOWING) AS last_sv_event_id\n    FROM (\n      SELECT \n        event_name,\n        event_id,\n        event_timestamp,\n        MAX(CASE WHEN event_param_key = '_session_id' THEN event_param_string_value ELSE NULL END) AS session_id\n      FROM base_data WHERE event_name IN ('_screen_view','_page_view')\n      GROUP BY 1,2,3\n    ) \n  )\n  GROUP BY 1,2,3\n),\n\ntmp_data AS (\n  SELECT event_id, MAX(\n    CASE \n      WHEN (event_param_key = '_screen_name' OR event_param_key = '_page_title') THEN event_param_string_value \n      ELSE NULL \n    END) AS view\n  FROM base_data\n  GROUP BY 1\n),\n\nsession_f_sv_view AS (\n  SELECT session_f_l_sv.*, t.view AS first_sv_view\n  FROM session_part_2 AS session_f_l_sv \n  LEFT OUTER JOIN tmp_data t ON session_f_l_sv.first_sv_event_id = t.event_id\n), \n\nsession_f_l_sv_view AS (\n  SELECT session_f_sv_view.*, t.view AS last_sv_view\n  FROM session_f_sv_view \n  LEFT OUTER JOIN tmp_data t ON session_f_sv_view.last_sv_event_id = t.event_id\n)\n\nSELECT \n  CASE\n    WHEN session.session_id IS NULL THEN CAST('#' AS VARCHAR)\n    WHEN session.session_id = '' THEN CAST('#' AS VARCHAR)\n    ELSE session.session_id \n  END AS session_id,\n  user_pseudo_id,\n  platform,\n  session_duration::BIGINT,\n  session_views::BIGINT,\n  engaged_session::BIGINT,\n  bounced_session,\n  session_start_timestamp,\n  CASE\n    WHEN session.session_engagement_time IS NULL THEN CAST(0 AS BIGINT)\n    ELSE session.session_engagement_time \n  END::BIGINT AS session_engagement_time,\n  DATE_TRUNC('day', TIMESTAMP 'epoch' + session_start_timestamp/1000 * INTERVAL '1 second') AS session_date,\n  DATE_TRUNC('hour', TIMESTAMP 'epoch' + session_start_timestamp/1000 * INTERVAL '1 second') AS session_date_hour,\n  first_sv_view::VARCHAR AS entry_view,\n  last_sv_view::VARCHAR AS exit_view\nFROM session_part_1 AS session \nLEFT OUTER JOIN session_f_l_sv_view ON session.session_id = session_f_l_sv_view.session_id\n;\n</code></pre> clickstream-session-query.sql<pre><code>-- run following command to load latest partition\n-- msck repair table {{database}}.{{eventTable}};\n-- msck repair table {{database}}.{{eventParamTable}};\n\nwith temp_1 as (\n  select \n    event.event_id,\n    event.event_name,\n    event.event_date,\n    event.platform,\n    event.user_id,\n    event.user_pseudo_id,\n    event.event_timestamp,\n    event_parameter.event_param_key,\n    event_parameter.event_param_double_value,\n    event_parameter.event_param_float_value,\n    event_parameter.event_param_int_value,\n    event_parameter.event_param_string_value\n  from {{database}}.{{eventTable}} as event\n  join {{database}}.{{eventParamTable}} as event_parameter \n  on event.event_timestamp = event_parameter.event_timestamp and event.event_id = event_parameter.event_id\n  where event.partition_app = ? \n  and event.partition_year &gt;= ?\n  and event.partition_month &gt;= ?\n  and event.partition_day &gt;= ?\n),\ntemp_2 as \n(\n  SELECT \n     user_pseudo_id\n    ,event_id\n    ,platform\n    ,max(case when event_param_key = '_session_id' then event_param_string_value else null end) as session_id\n    ,max(case when event_param_key = '_session_duration' then event_param_int_value else null end) as session_duration\n    ,max(case when event_param_key = '_session_start_timestamp' then event_param_int_value else null end) as session_st\n    ,max(case when event_param_key = '_engagement_time_msec' then event_param_int_value else null end) as engagement_time\n    ,(case when max(event_name) in ('_screen_view', '_page_view') then 1 else 0 end) as view\n  FROM temp_1\n  group by 1,2,3\n),\ntemp_3 as (\n  select \n     event_name\n    ,event_id\n    ,event_timestamp\n    ,max(case when event_param_key = '_session_id' then event_param_string_value else null end) as session_id\n    ,(case when max(event_name) in ('_screen_view', '_page_view') then 1 else 0 end) as view\n    from temp_1 where event_name in ('_screen_view','_page_view')\n    group by 1,2,3\n),\nsession_part_1 as (\n  SELECT\n     session_id \n    ,user_pseudo_id\n    ,platform\n    ,max(session_duration) as session_duration\n    ,(case when (max(session_duration)&gt;10000 or sum(view) &gt;1) then 1 else 0 end) as engaged_session\n    ,(case when (max(session_duration)&gt;10000 or sum(view) &gt;1) then 0 else 1 end) as bounced_session\n    ,min(session_st) as session_start_timestamp\n    ,sum(view) as session_views\n    ,sum(engagement_time) as session_engagement_time\n  FROM temp_2\n  GROUP BY 1,2,3\n),\nsession_part_2 as (\n  select session_id, first_sv_event_id, last_sv_event_id, count(event_id) from (\n    select \n      session_id\n      ,event_id\n      ,first_value(event_id) over(partition by session_id order by event_timestamp asc rows between unbounded preceding and unbounded following) as first_sv_event_id,\n      last_value(event_id) over(partition by session_id order by event_timestamp asc rows between unbounded preceding and unbounded following) as last_sv_event_id\n    from temp_3 \n  ) group by 1,2,3\n  ),\n  session_f_sv_view as (\n    select \n      session_f_l_sv.*,\n      t.view as first_sv_view\n    from session_part_2 as session_f_l_sv left outer join\n    temp_3 as t on session_f_l_sv.first_sv_event_id=t.event_id\n), \nsession_f_l_sv_view as (\n    select \n      session_f_sv_view.*,\n      t.view as last_sv_view\n    from session_f_sv_view left outer join\n    temp_3 as t on session_f_sv_view.last_sv_event_id=t.event_id\n)\nselect \n    CASE\n      WHEN session.session_id IS NULL THEN CAST('#' AS VARCHAR)\n      WHEN session.session_id = '' THEN CAST('#' AS VARCHAR)\n      ELSE session.session_id \n    END AS session_id\n    ,user_pseudo_id\n    ,platform\n    ,cast(session_duration as bigint) as session_duration\n    ,cast(session_views as bigint) as session_duration\n    ,engaged_session\n    ,bounced_session\n    ,session_start_timestamp\n    ,session_engagement_time\n    ,CASE\n       WHEN session.session_engagement_time IS NULL THEN CAST(0 AS BIGINT)\n       ELSE session.session_engagement_time \n     END AS session_engagement_time\n    ,DATE_TRUNC('day', from_unixtime(session_start_timestamp/1000)) as session_date\n    ,DATE_TRUNC('hour', from_unixtime(session_start_timestamp/1000)) as session_date_hour\n    ,first_sv_view as entry_view\n    ,last_sv_view as exit_view\nfrom session_part_1 as session left outer join \nsession_f_l_sv_view on session.session_id = session_f_l_sv_view.session_id\n</code></pre>"},{"location":"analytics/dashboard/engagement/#_4","title":"\u7ef4\u5ea6\u548c\u6307\u6807","text":"<p>\u62a5\u544a\u5305\u62ec\u4ee5\u4e0b\u7ef4\u5ea6\u548c\u6307\u6807\u3002\u60a8\u53ef\u4ee5\u901a\u8fc7\u5728 QuickSight \u6570\u636e\u96c6\u4e2d\u521b\u5efa <code>calculated field</code> \u6765\u6dfb\u52a0\u66f4\u591a\u7ef4\u5ea6\u6216\u6307\u6807\u3002\u4e86\u89e3\u66f4\u591a\u3002</p> \u5b57\u6bb5 \u7c7b\u578b \u662f\u4ec0\u4e48 \u5982\u4f55\u586b\u5145 <code>session_id</code> \u7ef4\u5ea6 \u7528\u6237\u5728\u4f7f\u7528\u60a8\u7684\u7f51\u7ad9\u548c\u5e94\u7528\u65f6\u89e6\u53d1\u7684\u4f1a\u8bdd\u7684 SDK \u751f\u6210\u7684\u552f\u4e00 ID \u4ece\u5206\u6790\u5f15\u64ce\u67e5\u8be2 <code>user_pseudo_id</code> \u7ef4\u5ea6 \u7528\u6237\u7684 SDK \u751f\u6210\u7684\u552f\u4e00 ID \u4ece\u5206\u6790\u5f15\u64ce\u67e5\u8be2 <code>platform</code> \u7ef4\u5ea6 \u7528\u6237\u5728\u4f1a\u8bdd\u671f\u95f4\u4f7f\u7528\u7684\u5e73\u53f0 \u4ece\u5206\u6790\u5f15\u64ce\u67e5\u8be2 <code>session_duration</code> \u7ef4\u5ea6 \u4f1a\u8bdd\u7684\u6301\u7eed\u65f6\u95f4\uff08\u6beb\u79d2\uff09 \u4ece\u5206\u6790\u5f15\u64ce\u67e5\u8be2 <code>session_views</code> \u6307\u6807 \u4f1a\u8bdd\u5185\u7684\u5c4f\u5e55\u89c6\u56fe\u6216\u9875\u9762\u89c6\u56fe\u6570\u91cf \u4ece\u5206\u6790\u5f15\u64ce\u67e5\u8be2 <code>engaged_session</code> \u7ef4\u5ea6 \u4f1a\u8bdd\u662f\u5426\u53c2\u4e0e\u3002<code>\u53c2\u4e0e\u7684\u4f1a\u8bdd\u5b9a\u4e49\u4e3a\u4f1a\u8bdd\u6301\u7eed\u65f6\u95f4\u8d85\u8fc7 10 \u79d2\u6216\u6709\u4e24\u4e2a\u6216\u4e24\u4e2a\u4ee5\u4e0a\u7684\u5c4f\u5e55\u89c6\u56fe\u9875\u9762\u89c6\u56fe</code> \u4ece\u5206\u6790\u5f15\u64ce\u67e5\u8be2 <code>session_start_timestamp</code> \u7ef4\u5ea6 \u4f1a\u8bdd\u7684\u5f00\u59cb\u65f6\u95f4\u6233 \u4ece\u5206\u6790\u5f15\u64ce\u67e5\u8be2 <code>session_engagement_time</code> \u7ef4\u5ea6 \u4f1a\u8bdd\u7684\u603b\u53c2\u4e0e\u65f6\u95f4\uff08\u6beb\u79d2\uff09 \u4ece\u5206\u6790\u5f15\u64ce\u67e5\u8be2 <code>entry_view</code> \u7ef4\u5ea6 \u7528\u6237\u5728\u4f1a\u8bdd\u4e2d\u67e5\u770b\u7684\u7b2c\u4e00\u4e2a\u5c4f\u5e55\u6216\u9875\u9762\u7684\u5c4f\u5e55\u540d\u79f0\u6216\u9875\u9762\u6807\u9898 \u4ece\u5206\u6790\u5f15\u64ce\u67e5\u8be2 <code>exit_view</code> \u7ef4\u5ea6 \u7528\u6237\u5728\u4f1a\u8bdd\u4e2d\u67e5\u770b\u7684\u6700\u540e\u4e00\u4e2a\u5c4f\u5e55\u6216\u9875\u9762\u7684\u5c4f\u5e55\u540d\u79f0\u6216\u9875\u9762\u6807\u9898 \u4ece\u5206\u6790\u5f15\u64ce\u67e5\u8be2 <code>Average engaged session per user</code> \u6307\u6807 \u6240\u9009\u65f6\u95f4\u6bb5\u5185\u6bcf\u4e2a\u7528\u6237\u7684\u5e73\u5747\u4f1a\u8bdd\u6570 QuickSight \u4e2d\u7684\u8ba1\u7b97\u5b57\u6bb5 <code>Average engagement time per session</code> \u6307\u6807 \u6bcf\u4e2a\u4f1a\u8bdd\u7684\u5e73\u5747\u53c2\u4e0e\u65f6\u95f4\uff08\u6beb\u79d2\uff09 QuickSight \u4e2d\u7684\u8ba1\u7b97\u5b57\u6bb5 <code>Average engagement time per user</code> \u6307\u6807 \u6bcf\u4e2a\u7528\u6237\u7684\u5e73\u5747\u53c2\u4e0e\u65f6\u95f4\uff08\u6beb\u79d2\uff09 QuickSight \u4e2d\u7684\u8ba1\u7b97\u5b57\u6bb5 <code>Average screen view per user</code> \u6307\u6807 \u6bcf\u4e2a\u7528\u6237\u7684\u5e73\u5747\u5c4f\u5e55\u89c6\u56fe\u6570 QuickSight \u4e2d\u7684\u8ba1\u7b97\u5b57\u6bb5"},{"location":"analytics/dashboard/engagement/#_5","title":"\u793a\u4f8b\u4eea\u8868\u677f","text":"<p>\u4ee5\u4e0b\u56fe\u7247\u662f\u4e00\u4e2a\u793a\u4f8b\u4eea\u8868\u677f\u4f9b\u60a8\u53c2\u8003\u3002</p> <p></p>"},{"location":"analytics/dashboard/retention/","title":"\u7559\u5b58\u62a5\u544a","text":"<p>\u60a8\u53ef\u4ee5\u4f7f\u7528\u7559\u5b58\u62a5\u544a\u6765\u6df1\u5165\u4e86\u89e3\u7528\u6237\u5728\u9996\u6b21\u8bbf\u95ee\u60a8\u7684\u7f51\u7ad9\u6216\u79fb\u52a8\u5e94\u7528\u7a0b\u5e8f\u540e\u4e0e\u60a8\u7684\u7f51\u7ad9\u6216\u79fb\u52a8\u5e94\u7528\u7a0b\u5e8f\u4e92\u52a8\u7684\u9891\u7387\u548c\u65f6\u957f\u3002 \u8be5\u62a5\u544a\u53ef\u5e2e\u52a9\u60a8\u4e86\u89e3\u60a8\u7684\u5e94\u7528\u5728\u5438\u5f15\u7528\u6237\u9996\u6b21\u8bbf\u95ee\u540e\u518d\u6b21\u8bbf\u95ee\u65b9\u9762\u7684\u8868\u73b0\u5982\u4f55\u3002</p> <p>\u6ce8\u610f\uff1a\u672c\u6587\u4ecb\u7ecd\u9ed8\u8ba4\u62a5\u544a\u3002 \u60a8\u53ef\u4ee5\u901a\u8fc7\u5e94\u7528\u7b5b\u9009\u5668\u6216\u6bd4\u8f83\u6216\u66f4\u6539 QuickSight \u4e2d\u7684\u7ef4\u5ea6\u3001\u6307\u6807\u6216\u56fe\u8868\u6765\u81ea\u5b9a\u4e49\u62a5\u544a\u3002 \u4e86\u89e3\u66f4\u591a</p>"},{"location":"analytics/dashboard/retention/#_2","title":"\u67e5\u770b\u62a5\u544a","text":"<ol> <li>\u8bbf\u95ee\u60a8\u7684\u5e94\u7528\u7a0b\u5e8f\u7684\u4eea\u8868\u677f\u3002 \u53c2\u8003\u3010\u8bbf\u95ee\u4eea\u8868\u677f\u3011(index.md)</li> <li>\u5728\u4eea\u8868\u677f\u4e2d\uff0c\u5355\u51fb\u540d\u79f0\u4e3a <code>Retention</code> \u7684\u5de5\u4f5c\u8868\u3002</li> </ol>"},{"location":"analytics/dashboard/retention/#_3","title":"\u6570\u636e\u4ece\u54ea\u91cc\u6765","text":"<p>\u7559\u5b58\u62a5\u544a\u662f\u57fa\u4e8e\u4ee5\u4e0b QuickSight \u6570\u636e\u96c6\u521b\u5efa\u7684\uff1a</p> <ul> <li><code>lifecycle_weekly_view-&lt;app id&gt;-&lt;project id&gt;</code>\uff0c\u8fde\u63a5\u5230\u5206\u6790\u5f15\u64ce\uff08\u5373 Redshift \u6216 Athena\uff09\u4e2d\u7684 <code>clickstream_lifecycle_weekly_view_v1</code> \u89c6\u56fe\u3002</li> <li><code>lifecycle_daily_view-&lt;app id&gt;-&lt;project id&gt;</code>\uff0c\u8fde\u63a5\u5230\u5206\u6790\u5f15\u64ce\uff08\u5373 Redshift \u6216 Athena\uff09\u4e2d\u7684 <code>clickstream_lifecycle_daily_view_v1</code> \u89c6\u56fe\u3002</li> <li>\u8fde\u63a5\u5230\u5206\u6790\u5f15\u64ce\u4e2d\u7684\u201cclickstream_retention_view_v1\u201d\u89c6\u56fe\u7684\u201cretention_view--\u201d <p>\u4e0b\u9762\u662f\u751f\u6210\u89c6\u56fe\u7684 SQL \u547d\u4ee4\u3002 ??? \u793a\u4f8b\u201cSQL \u547d\u4ee4\u201d      ===\u201c\u7ea2\u79fb\u201d          ```sql title=\"clickstream_lifecycle_weekly_view_v1.sql\"            select               user_pseudo_id,               DATE_TRUNC('week', dateadd(ms,event_timestamp, '1970-01-01')) as time_period            from {{schema}}.event            where event_name = '_session_start' group by 1,2 order by 1,2),          -- detect if lag and lead exists          lag_lead as (            select user_pseudo_id, time_period,              lag(time_period,1) over (partition by user_pseudo_id order by user_pseudo_id, time_period),              lead(time_period,1) over (partition by user_pseudo_id order by user_pseudo_id, time_period)            from weekly_usage),          -- calculate lag and lead size          lag_lead_with_diffs as (            select user_pseudo_id, time_period, lag, lead,               datediff(week,lag,time_period) lag_size,              datediff(week,time_period,lead) lead_size            from lag_lead),          -- case to lifecycle stage          calculated as (select time_period,            case when lag is null then '1-NEW'               when lag_size = 1 then '2-ACTIVE'               when lag_size &gt; 1 then '3-RETURN'            end as this_week_value,</p> <pre><code>       case when (lead_size &gt; 1 OR lead_size IS NULL) then '0-CHURN'\n          else NULL\n       end as next_week_churn,\n       count(distinct user_pseudo_id)\n        from lag_lead_with_diffs\n       group by 1,2,3)\n     select time_period, this_week_value, sum(count) \n       from calculated group by 1,2\n     union\n     select time_period+7, '0-CHURN', -1*sum(count) \n       from calculated where next_week_churn is not null group by 1,2;\n     ````\n     ```sql title=\"clickstream_lifecycle_daily_view_v1.sql\"\n       select \n         user_pseudo_id, \n         DATE_TRUNC('day', dateadd(ms,event_timestamp, '1970-01-01')) as time_period\n       from {{schema}}.event\n       where event_name = '_session_start' group by 1,2 order by 1,2),\n     -- detect if lag and lead exists\n     lag_lead as (\n       select user_pseudo_id, time_period,\n         lag(time_period,1) over (partition by user_pseudo_id order by user_pseudo_id, time_period),\n         lead(time_period,1) over (partition by user_pseudo_id order by user_pseudo_id, time_period)\n       from daily_usage),\n     -- calculate lag and lead size\n     lag_lead_with_diffs as (\n       select user_pseudo_id, time_period, lag, lead, \n         datediff(day,lag,time_period) lag_size,\n         datediff(day,time_period,lead) lead_size\n       from lag_lead),\n     -- case to lifecycle stage\n     calculated as (select time_period,\n       case when lag is null then '1-NEW'\n          when lag_size = 1 then '2-ACTIVE'\n          when lag_size &gt; 1 then '3-RETURN'\n       end as this_day_value,\n\n       case when (lead_size &gt; 1 OR lead_size IS NULL) then '0-CHURN'\n          else NULL\n       end as next_day_churn,\n       count(distinct user_pseudo_id)\n        from lag_lead_with_diffs\n       group by 1,2,3)\n     select time_period, this_day_value, sum(count) \n       from calculated group by 1,2\n     union\n     select time_period+1, '0-CHURN', -1*sum(count) \n       from calculated where next_day_churn is not null group by 1,2;\n     ````\n     ```sql title=\"clickstream_retention_view_v1.sql\"\n     WITH user_first_date AS (\n       SELECT\n         user_pseudo_id,\n         min(event_date) as first_date\n       FROM {{schema}}.event\n       GROUP BY user_pseudo_id\n     ),\n\n     retention_data AS (\n     SELECT\n         user_pseudo_id,\n         first_date,\n         DATE_DIFF('day', first_date, event_date) AS day_diff\n       FROM {{schema}}.event\n       JOIN user_first_date USING (user_pseudo_id)\n     ),\n\n     retention_counts AS (\n       SELECT\n         first_date,\n         day_diff,\n         COUNT(DISTINCT user_pseudo_id) AS returned_user_count\n       FROM retention_data\n       WHERE day_diff &lt;= 42 -- Calculate retention rate for the last 42 days\n       GROUP BY first_date, day_diff\n     ),\n\n     total_users AS (\n       SELECT\n         first_date,\n         COUNT(DISTINCT user_pseudo_id) AS total_users\n       FROM user_first_date\n       group by 1\n     ),\n\n     retention_rate AS (\n       SELECT\n         first_date,\n         day_diff,\n         returned_user_count,\n         total_users\n       FROM retention_counts join total_users using(first_date)\n     )\n\n     SELECT\n     *\n     FROM retention_rate;\n     ````\n ===\u201c\u96c5\u5178\u5a1c\u201d\n     ```sql title=\"clickstream-lifecycle-weekly-query.sql\"\n     -- run following command to load latest partition\n     -- msck repair table {{database}}.{{eventTable}};\n\n     with weekly_usage as (\n       select \n         user_pseudo_id, \n         DATE_TRUNC('week', event_date) as time_period\n       from {{database}}.{{eventTable}}\n       where partition_app = ? \n         and partition_year &gt;= ?\n         and partition_month &gt;= ?\n         and partition_day &gt;= ?\n         and event_name = '_session_start' group by 1,2 order by 1,2\n     ),\n     lag_lead as (\n       select user_pseudo_id, time_period,\n         lag(time_period,1) over (partition by user_pseudo_id order by user_pseudo_id, time_period) as lag,\n         lead(time_period,1) over (partition by user_pseudo_id order by user_pseudo_id, time_period) as lead\n       from weekly_usage\n     ),\n     lag_lead_with_diffs as (\n       select user_pseudo_id, time_period, lag, lead, \n         date_diff('week',lag,time_period) lag_size,\n         date_diff('week',time_period,lead) lead_size\n       from lag_lead\n     ),\n     calculated as (\n       select time_period,\n         case when lag is null then '1-NEW'\n           when lag_size = 1 then '2-ACTIVE'\n           when lag_size &gt; 1 then '3-RETURN'\n         end as this_week_value,\n         case when (lead_size &gt; 1 OR lead_size IS NULL) then '0-CHURN'\n           else NULL\n         end as next_week_churn,\n         count(distinct user_pseudo_id) as cnt\n       from lag_lead_with_diffs\n       group by 1,2,3\n     )\n     select time_period, this_week_value, sum(cnt) as cnt from calculated group by 1,2\n     union\n     select date_add('day', 7, time_period), '0-CHURN', -1*sum(cnt) as cnt\n       from calculated \n     where next_week_churn is not null \n     group by 1,2\n     ````\n     ```sql title=\"clickstream-lifecycle-daily-query.sql\"\n     -- run following command to load latest partition\n     -- msck repair table {{database}}.{{eventTable}};\n\n     with daily_usage as (\n       select \n         user_pseudo_id, \n         DATE_TRUNC('day', event_date) as time_period\n       from {{database}}.{{eventTable}} \n       where partition_app = ? \n         and partition_year &gt;= ?\n         and partition_month &gt;= ?\n         and partition_day &gt;= ?\n         and event_name = '_session_start' group by 1,2 order by 1,2\n     ),\n     lag_lead as (\n       select user_pseudo_id, time_period,\n         lag(time_period,1) over (partition by user_pseudo_id order by user_pseudo_id, time_period) as lag,\n         lead(time_period,1) over (partition by user_pseudo_id order by user_pseudo_id, time_period) as lead\n       from daily_usage\n     ),\n     lag_lead_with_diffs as (\n       select user_pseudo_id, time_period, lag, lead, \n         date_diff('day',lag,time_period) lag_size,\n         date_diff('day',time_period,lead) lead_size\n       from lag_lead\n     ),\n     calculated as (\n       select time_period,\n         case when lag is null then '1-NEW'\n           when lag_size = 1 then '2-ACTIVE'\n           when lag_size &gt; 1 then '3-RETURN'\n         end as this_day_value,\n\n         case when (lead_size &gt; 1 OR lead_size IS NULL) then '0-CHURN'\n           else NULL\n         end as next_day_churn,\n         count(distinct user_pseudo_id) as cnt\n       from lag_lead_with_diffs\n       group by 1,2,3\n     )\n     select time_period, this_day_value, sum(cnt) as cnt\n       from calculated group by 1,2\n     union\n     select date_add('day', 1, time_period) as time_period, '0-CHURN', -1*sum(cnt) as cnt \n       from calculated \n       where next_day_churn is not null \n       group by 1,2;\n     ````\n     ```sql title=\"clickstream-lifecycle-daily-query.sql\"\n     -- run following command to load latest partition\n     -- msck repair table {{database}}.{{eventTable}};\n\n     with base as (\n       select \n         *\n       from {{database}}.{{eventTable}}\n       where partition_app = ? \n         and partition_year &gt;= ?\n         and partition_month &gt;= ?\n         and partition_day &gt;= ?\n     ),\n     user_first_date AS (\n       SELECT\n         user_pseudo_id,\n         min(event_date) as first_date\n       FROM base\n       GROUP BY user_pseudo_id\n     ),\n\n     retention_data AS (\n     SELECT\n         user_pseudo_id,\n         first_date,\n         DATE_DIFF('day', first_date, event_date) AS day_diff\n       FROM base\n       JOIN user_first_date USING (user_pseudo_id)\n     ),\n\n     retention_counts AS (\n       SELECT\n         first_date,\n         day_diff,\n         COUNT(DISTINCT user_pseudo_id) AS returned_user_count\n       FROM retention_data\n       WHERE day_diff &lt;= 42 -- Calculate retention rate for the last 42 days\n       GROUP BY first_date, day_diff\n     ),\n\n     total_users AS (\n       SELECT\n         first_date,\n         COUNT(DISTINCT user_pseudo_id) AS total_users\n       FROM user_first_date\n       group by 1\n     ),\n\n     retention_rate AS (\n       SELECT\n         first_date,\n         day_diff,\n         returned_user_count,\n         total_users\n       FROM retention_counts join total_users using(first_date)\n     )\n\n     SELECT\n     *\n     FROM retention_rate\n     ````\n</code></pre>"},{"location":"analytics/dashboard/retention/#_4","title":"\u7ef4\u5ea6\u548c\u6307\u6807","text":"<p>\u8be5\u62a5\u544a\u5305\u62ec\u4ee5\u4e0b\u7ef4\u5ea6\u548c\u6307\u6807\u3002 \u60a8\u53ef\u4ee5\u901a\u8fc7\u5728 QuickSight \u6570\u636e\u96c6\u4e2d\u521b\u5efa\u201c\u8ba1\u7b97\u5b57\u6bb5\u201d\u6765\u6dfb\u52a0\u66f4\u591a\u7ef4\u5ea6\u6216\u6307\u6807\u3002 \u4e86\u89e3\u66f4\u591a\u3002</p> \u5b57\u6bb5 \u7c7b\u578b \u8fd9\u662f\u4ec0\u4e48 \u5982\u4f55\u586b\u5145 <code>\u6bcf\u65e5\u6d3b\u8dc3\u7528\u6237 (DAU)</code> \u6307\u6807 \u6bcf\u4e2a\u65e5\u671f\u7684\u6d3b\u8dc3\u7528\u6237\u6570 QuickSight\u805a\u5408 <code>\u6bcf\u5468\u6d3b\u8dc3\u7528\u6237 (WAU)</code> \u6307\u6807 \u8fd17\u5929\u6d3b\u8dc3\u7528\u6237\u6570 QuickSight \u4e2d\u7684\u8ba1\u7b97\u5b57\u6bb5 <code>\u6bcf\u6708\u6d3b\u8dc3\u7528\u6237 (MAU)</code> \u6307\u6807 \u8fc7\u53bb 30 \u5929\u5185\u7684\u6d3b\u8dc3\u7528\u6237\u6570 QuickSight \u4e2d\u7684\u8ba1\u7b97\u5b57\u6bb5 <code>user_pseudo_id</code> \u7ef4\u5ea6 SDK \u4e3a\u7528\u6237\u751f\u6210\u7684\u552f\u4e00 ID \u6765\u81ea\u5206\u6790\u5f15\u64ce\u7684\u67e5\u8be2 <code>\u7528\u6237id</code> \u7ef4\u5ea6 \u901a\u8fc7SDK\u4e2d\u7684setUserId API\u8bbe\u7f6e\u7684\u7528\u6237ID \u6765\u81ea\u5206\u6790\u5f15\u64ce\u7684\u67e5\u8be2 <code>\u65e5\u6d3b\u8dc3\u7528\u6237/\u6708\u6d3b\u8dc3\u7528\u6237</code> \u6307\u6807 \u7528\u6237\u7c98\u6027\u7684 DAU/WAU % QuickSight \u4e2d\u7684\u8ba1\u7b97\u5b57\u6bb5 <code>\u6708\u6d3b\u8dc3\u7528\u6237/\u6708\u6d3b\u8dc3\u7528\u6237</code> \u6307\u6807 \u7528\u6237\u7c98\u6027\u7684 WAU/MAU % QuickSight \u4e2d\u7684\u8ba1\u7b97\u5b57\u6bb5 <code>\u65e5\u6d3b\u8dc3\u7528\u6237/\u6708\u6d3b\u8dc3\u7528\u6237</code> \u6307\u6807 \u7528\u6237\u7c98\u6027\u7684 DAU/MAU % QuickSight \u4e2d\u7684\u8ba1\u7b97\u5b57\u6bb5 <code>\u4e8b\u4ef6\u7528\u6237\u7c7b\u578b</code> \u7ef4\u5ea6 \u6267\u884c\u4e8b\u4ef6\u7684\u7528\u6237\u7c7b\u578b\uff0c\u5373\u65b0\u7528\u6237\u6216\u73b0\u6709\u7528\u6237 QuickSight \u4e2d\u7684\u8ba1\u7b97\u5b57\u6bb5 <code>\u7528\u6237\u9996\u6b21\u89e6\u6478\u65e5\u671f</code> \u6307\u6807 \u7528\u6237\u9996\u6b21\u4f7f\u7528\u60a8\u7684\u7f51\u7ad9\u6216\u5e94\u7528\u7a0b\u5e8f\u7684\u65e5\u671f QuickSight \u4e2d\u7684\u8ba1\u7b97\u5b57\u6bb5 <code>\u7559\u5b58\u7387</code> \u6307\u6807 \u4e0d\u540c\u7684\u6d3b\u8dc3\u7528\u6237\u6570\u91cf / \u6309\u7528\u6237\u9996\u6b21\u63a5\u89e6\u65e5\u671f\u5212\u5206\u7684\u4e0d\u540c\u7684\u6d3b\u8dc3\u7528\u6237\u6570\u91cf QuickSight \u4e2d\u7684\u8ba1\u7b97\u5b57\u6bb5 <code>\u65f6\u95f4\u5468\u671f</code> \u7ef4\u5ea6 \u7528\u6237\u751f\u547d\u5468\u671f\u7684\u5468\u6216\u5929 \u6765\u81ea\u5206\u6790\u5f15\u64ce\u7684\u67e5\u8be2 <code>\u672c\u5468\u503c</code> \u7ef4\u5ea6 \u7528\u6237\u751f\u547d\u5468\u671f\u9636\u6bb5\uff0c\u5373\u65b0\u7528\u6237\u3001\u6d3b\u8dc3\u7528\u6237\u3001\u8fd4\u56de\u7528\u6237\u548c\u6d41\u5931\u7528\u6237 \u6765\u81ea\u5206\u6790\u5f15\u64ce\u7684\u67e5\u8be2 <code>this_day_value</code> \u7ef4\u5ea6 \u7528\u6237\u751f\u547d\u5468\u671f\u9636\u6bb5\uff0c\u5373\u65b0\u7528\u6237\u3001\u6d3b\u8dc3\u7528\u6237\u3001\u8fd4\u56de\u7528\u6237\u548c\u6d41\u5931\u7528\u6237 \u6765\u81ea\u5206\u6790\u5f15\u64ce\u7684\u67e5\u8be2"},{"location":"analytics/dashboard/retention/#_5","title":"\u793a\u4f8b\u4eea\u8868\u677f","text":"<p>\u4e0b\u56fe\u662f\u4e00\u4e2a\u793a\u4f8b\u4eea\u8868\u677f\u4f9b\u60a8\u53c2\u8003\u3002</p> <p></p>"},{"location":"analytics/dashboard/user/","title":"\u7528\u6237\u62a5\u544a","text":"<p>\u60a8\u53ef\u4ee5\u4f7f\u7528\u7528\u6237\u62a5\u544a\u67e5\u8be2\u548c\u67e5\u770b\u4e2a\u4f53\u7528\u6237\u7684\u5c5e\u6027\u4ee5\u53ca\u7528\u6237\u6267\u884c\u7684\u4e8b\u4ef6\u3002</p> <p>\u6ce8\u610f\uff1a\u672c\u6587\u63cf\u8ff0\u4e86\u9ed8\u8ba4\u62a5\u544a\u3002\u60a8\u53ef\u4ee5\u901a\u8fc7\u5e94\u7528\u8fc7\u6ee4\u5668\u6216\u6bd4\u8f83\uff0c\u6216\u901a\u8fc7\u5728 QuickSight \u4e2d\u66f4\u6539\u7ef4\u5ea6\u3001\u6307\u6807\u6216\u56fe\u8868\u6765\u81ea\u5b9a\u4e49\u62a5\u544a\u3002\u4e86\u89e3\u66f4\u591a</p>"},{"location":"analytics/dashboard/user/#_2","title":"\u67e5\u770b\u62a5\u544a","text":"<ol> <li>\u8bbf\u95ee\u60a8\u5e94\u7528\u7a0b\u5e8f\u7684\u4eea\u8868\u677f\u3002\u8bf7\u53c2\u9605 \u8bbf\u95ee\u4eea\u8868\u677f\u3002</li> <li>\u5728\u4eea\u8868\u677f\u4e2d\uff0c\u5355\u51fb\u540d\u79f0\u4e3a <code>User</code> \u7684\u8868\u3002</li> </ol>"},{"location":"analytics/dashboard/user/#_3","title":"\u6570\u636e\u6765\u6e90","text":"<p>\u7528\u6237\u62a5\u544a\u662f\u57fa\u4e8e\u4ee5\u4e0b QuickSight \u6570\u636e\u96c6\u521b\u5efa\u7684\uff1a</p> <ul> <li><code>User_Dim_View-&lt;app&gt;-&lt;project&gt;</code>\uff0c\u8be5\u6570\u636e\u96c6\u8fde\u63a5\u5230\u5206\u6790\u5f15\u64ce\uff08\u5373 Redshift\uff09\u4e2d\u7684 <code>clickstream_user_dim_view_v1</code> \u89c6\u56fe\u3002</li> <li><code>User_Attr_View-&lt;app&gt;-&lt;project&gt;</code>\uff0c\u8be5\u6570\u636e\u96c6\u8fde\u63a5\u5230 <code>clickstream_user_attr_view_v1</code>\u3002\u4ee5\u4e0b\u662f\u751f\u6210\u89c6\u56fe\u7684 SQL \u547d\u4ee4\u3002</li> </ul> SQL \u547d\u4ee4 RedshiftAthena clickstream_user_dim_view_v1.sql<pre><code>    user_id,\n    _first_visit_date AS first_visit_date,\n    _first_referer AS first_referer,\n    CASE\n      WHEN NULLIF(_first_traffic_source, '') IS NULL THEN '(Direct)'\n      ELSE _first_traffic_source\n    END AS first_traffic_source_source,\n    _first_traffic_medium AS first_traffic_source_medium,\n    _first_traffic_source_type AS first_traffic_source_name,\n    CASE\n      WHEN user_id IS NOT NULL THEN 'Registered'\n      ELSE 'Non-registered'\n    END AS registration_status\n  FROM\n    {{schema}}.user_m_view\n), first_visit_attr AS (\n  SELECT\n    user_pseudo_id,\n    app_info.install_source::VARCHAR AS first_visit_install_source,\n    device.system_language::VARCHAR AS first_visit_device_language,\n    platform AS first_platform,\n    geo.country::VARCHAR AS first_visit_country,\n    geo.city::VARCHAR AS first_visit_city\n  FROM\n    {{schema}}.event\n  WHERE\n    event_name IN ('_first_open', '_first_visit')\n), device_id AS (\n  SELECT\n    user_pseudo_id,\n    LISTAGG(d_id, ' | ') WITHIN GROUP (ORDER BY user_pseudo_id) AS device_id\n  FROM (\n    SELECT\n      user_pseudo_id,\n      d_id::VARCHAR\n    FROM\n      {{schema}}.user_m_view u, u.device_id_list d_id\n  )\n  GROUP BY\n    user_pseudo_id\n)\nSELECT\n  u.*,\n  f.first_visit_install_source,\n  f.first_visit_device_language,\n  f.first_platform,\n  f.first_visit_country,\n  f.first_visit_city,\n  d.device_id\nFROM\n  user_base u\nLEFT JOIN\n  first_visit_attr f ON u.user_pseudo_id = f.user_pseudo_id\nLEFT JOIN\n  device_id d ON u.user_pseudo_id = d.user_pseudo_id\n;\n</code></pre> clickstream-user-dim-query.sql<pre><code>-- run following command to load latest partition\n-- msck repair table {{database}}.{{eventTable}};\n\nwith base as (\n  select \n    *\n  from {{database}}.{{eventTable}}\n  where partition_app = ? \n    and partition_year &gt;= ?\n    and partition_month &gt;= ?\n    and partition_day &gt;= ?\n),\nclickstream_user_dim_mv_1 as (\n  SELECT\n      user_pseudo_id\n    , event_date as first_visit_date\n    , app_info.install_source as first_visit_install_source\n    , device.system_language as first_visit_device_language\n    , platform as first_platform\n    , geo.country as first_visit_country\n    , geo.city as first_visit_city\n    , (case when nullif(traffic_source.source,'') is null then '(direct)' else traffic_source.source end) as first_traffic_source_source\n    , traffic_source.medium as first_traffic_source_medium\n    , traffic_source.name as first_traffic_source_name\n  from base\n  where event_name in ('_first_open','_first_visit')\n),\n\nclickstream_user_dim_mv_2 AS (\n  select user_pseudo_id,\n    count\n    (\n        distinct user_id\n    ) as user_id_count\n  from base ods\n  where event_name not in \n    (\n        '_first_open',\n        '_first_visit'\n    ) group by 1\n)\n\nSELECT upid.*,\n  (\n    case when uid.user_id_count&gt;0 then 'Registered' else 'Non-registered' end\n  ) as is_registered\nfrom clickstream_user_dim_mv_1 as upid left outer join \nclickstream_user_dim_mv_2 as uid on upid.user_pseudo_id=uid.user_pseudo_id\n</code></pre>"},{"location":"analytics/dashboard/user/#_4","title":"\u7ef4\u5ea6\u548c\u6307\u6807","text":"<p>\u62a5\u544a\u5305\u62ec\u4ee5\u4e0b\u7ef4\u5ea6\u548c\u6307\u6807\u3002\u60a8\u53ef\u4ee5\u901a\u8fc7\u5728 QuickSight \u6570\u636e\u96c6\u4e2d\u521b\u5efa <code>calculated field</code> \u6765\u6dfb\u52a0\u66f4\u591a\u7ef4\u5ea6\u6216\u6307\u6807\u3002\u4e86\u89e3\u66f4\u591a\u3002</p> \u5b57\u6bb5 \u7c7b\u578b \u662f\u4ec0\u4e48 \u5982\u4f55\u586b\u5145 <code>user_pseudo_id</code> \u7ef4\u5ea6 \u7528\u6237\u7684 SDK \u751f\u6210\u7684\u552f\u4e00 ID \u4ece\u5206\u6790\u5f15\u64ce\u67e5\u8be2 <code>user_id</code> \u7ef4\u5ea6 \u901a\u8fc7 SDK \u4e2d\u7684 setUserId API \u8bbe\u7f6e\u7684\u7528\u6237 ID \u4ece\u5206\u6790\u5f15\u64ce\u67e5\u8be2 <code>device_id</code> \u7ef4\u5ea6 \u8bbe\u5907\u7684\u552f\u4e00 ID\uff0c\u8bf7\u53c2\u9605 SDK \u624b\u518c \u4e86\u89e3\u8bbe\u5907 ID \u7684\u83b7\u53d6\u65b9\u5f0f \u4ece\u5206\u6790\u5f15\u64ce\u67e5\u8be2 <code>first_visit_date</code> \u7ef4\u5ea6 \u7528\u6237\u9996\u6b21\u8bbf\u95ee\u60a8\u7684\u7f51\u7ad9\u6216\u9996\u6b21\u6253\u5f00\u5e94\u7528\u7684\u65e5\u671f \u4ece\u5206\u6790\u5f15\u64ce\u67e5\u8be2 <code>first_visit_install_source</code> \u7ef4\u5ea6 \u7528\u6237\u9996\u6b21\u6253\u5f00\u60a8\u7684\u5e94\u7528\u65f6\u7684\u5b89\u88c5\u6765\u6e90\u3002Web \u4e3a\u7a7a \u4ece\u5206\u6790\u5f15\u64ce\u67e5\u8be2 <code>first_traffic_source_source</code> \u7ef4\u5ea6 \u7528\u6237\u9996\u6b21\u8bbf\u95ee\u5e94\u7528\u6216 Web \u65f6\u7684\u6d41\u91cf\u6765\u6e90 \u4ece\u5206\u6790\u5f15\u64ce\u67e5\u8be2 <code>first_traffic_source_medium</code> \u7ef4\u5ea6 \u7528\u6237\u9996\u6b21\u8bbf\u95ee\u5e94\u7528\u6216 Web \u65f6\u7684\u6d41\u91cf\u5a92\u4ecb \u4ece\u5206\u6790\u5f15\u64ce\u67e5\u8be2 <code>first_traffic_source_name</code> \u7ef4\u5ea6 \u7528\u6237\u9996\u6b21\u8bbf\u95ee\u5e94\u7528\u6216 Web \u65f6\u7684\u6d41\u91cf\u6d3b\u52a8\u540d\u79f0 \u4ece\u5206\u6790\u5f15\u64ce\u67e5\u8be2 <code>first_visit_device_language</code> \u7ef4\u5ea6 \u7528\u6237\u9996\u6b21\u6253\u5f00\u60a8\u7684\u5e94\u7528\u6216\u9996\u6b21\u8bbf\u95ee\u60a8\u7684\u7f51\u7ad9\u65f6\u6240\u4f7f\u7528\u8bbe\u5907\u7684\u7cfb\u7edf\u8bed\u8a00 \u4ece\u5206\u6790\u5f15\u64ce\u67e5\u8be2 <code>first_visit_device_language</code> \u7ef4\u5ea6 \u7528\u6237\u9996\u6b21\u6253\u5f00\u60a8\u7684\u5e94\u7528\u6216\u9996\u6b21\u8bbf\u95ee\u60a8\u7684\u7f51\u7ad9\u65f6\u6240\u4f7f\u7528\u8bbe\u5907\u7684\u7cfb\u7edf\u8bed\u8a00 \u4ece\u5206\u6790\u5f15\u64ce\u67e5\u8be2 <code>first_platform</code> \u7ef4\u5ea6 \u7528\u6237\u9996\u6b21\u8bbf\u95ee\u60a8\u7684\u7f51\u7ad9\u6216\u9996\u6b21\u6253\u5f00\u60a8\u7684\u5e94\u7528\u65f6\u7684\u5e73\u53f0 \u4ece\u5206\u6790\u5f15\u64ce\u67e5\u8be2 <code>first_referer</code> \u7ef4\u5ea6 \u7528\u6237\u9996\u6b21\u8bbf\u95ee\u60a8\u7684\u7f51\u7ad9\u65f6\u7684\u5f15\u8350\u6765\u6e90 \u4ece\u5206\u6790\u5f15\u64ce\u67e5\u8be2 <code>first_visit_country</code> \u7ef4\u5ea6 \u7528\u6237\u9996\u6b21\u8bbf\u95ee\u60a8\u7684\u7f51\u7ad9\u6216\u9996\u6b21\u6253\u5f00\u60a8\u7684\u5e94\u7528\u65f6\u6240\u5728\u7684\u56fd\u5bb6 \u4ece\u5206\u6790\u5f15\u64ce\u67e5\u8be2 <code>first_visit_city</code> \u7ef4\u5ea6 \u7528\u6237\u9996\u6b21\u8bbf\u95ee\u60a8\u7684\u7f51\u7ad9\u6216\u9996\u6b21\u6253\u5f00\u60a8\u7684\u5e94\u7528\u65f6\u6240\u5728\u7684\u57ce\u5e02 \u4ece\u5206\u6790\u5f15\u64ce\u67e5\u8be2 <code>custom_attr_key</code> \u7ef4\u5ea6 \u7528\u6237\u7684\u81ea\u5b9a\u4e49\u5c5e\u6027\u952e\u7684\u540d\u79f0 \u4ece\u5206\u6790\u5f15\u64ce\u67e5\u8be2 <code>custom_attr_value</code> \u7ef4\u5ea6 \u7528\u6237\u7684\u81ea\u5b9a\u4e49\u5c5e\u6027\u952e\u7684\u503c \u4ece\u5206\u6790\u5f15\u64ce\u67e5\u8be2 <code>registration_status</code> \u7ef4\u5ea6 \u7528\u6237\u662f\u5426\u5df2\u6ce8\u518c \u4ece\u5206\u6790\u5f15\u64ce\u67e5\u8be2 <code>Event Time (HH:MM:SS)</code> \u7ef4\u5ea6 \u4e8b\u4ef6\u5728\u5ba2\u6237\u7aef\u8bb0\u5f55\u7684 MMDDYYYY HH:MM:SS \u683c\u5f0f\u7684\u65f6\u95f4 QuickSight \u4e2d\u7684\u8ba1\u7b97\u5b57\u6bb5 <code>event_id</code> \u7ef4\u5ea6 \u7528\u6237\u5728\u4f7f\u7528\u60a8\u7684\u7f51\u7ad9\u548c\u5e94\u7528\u65f6\u89e6\u53d1\u7684\u4e8b\u4ef6\u7684 SDK \u751f\u6210\u7684\u552f\u4e00 ID \u4ece\u5206\u6790\u5f15\u64ce\u67e5\u8be2 <code>event_name</code> \u7ef4\u5ea6 \u4e8b\u4ef6\u7684\u540d\u79f0 \u4ece\u5206\u6790\u5f15\u64ce\u67e5\u8be2 <code>platform</code> \u7ef4\u5ea6 \u7528\u6237\u5728\u4f1a\u8bdd\u671f\u95f4\u4f7f\u7528\u7684\u5e73\u53f0 \u4ece\u5206\u6790\u5f15\u64ce\u67e5\u8be2 <code>event_value_in_usd</code> \u6307\u6807 \u4e0e\u4e8b\u4ef6\u76f8\u5173\u7684 USD \u503c \u4ece\u5206\u6790\u5f15\u64ce\u67e5\u8be2 <code>app_info_version</code> \u7ef4\u5ea6 \u4e0e\u4e8b\u4ef6\u76f8\u5173\u8054\u7684\u5e94\u7528\u7248\u672c \u4ece\u5206\u6790\u5f15\u64ce\u67e5\u8be2 <code>geo_locale</code> \u7ef4\u5ea6 \u4e0e\u4e8b\u4ef6\u76f8\u5173\u7684\u5730\u7406\u4f4d\u7f6e\u548c\u8bed\u8a00\u73af\u5883\u4fe1\u606f \u4ece\u5206\u6790\u5f15\u64ce\u67e5\u8be2 <code>event_parameter_key</code> \u7ef4\u5ea6 \u4e8b\u4ef6\u53c2\u6570\u7684\u952e \u4ece\u5206\u6790\u5f15\u64ce\u67e5\u8be2 <code>event_parameter_key</code> \u7ef4\u5ea6 \u4e8b\u4ef6\u53c2\u6570\u7684\u503c \u4ece\u5206\u6790\u5f15\u64ce\u67e5\u8be2 <code>event_date</code> \u6307\u6807 \u8bb0\u5f55\u4e8b\u4ef6\u7684\u65e5\u671f\uff08UTC \u4e2d\u7684 YYYYMMDD \u683c\u5f0f\uff09 \u4ece\u5206\u6790\u5f15\u64ce\u67e5\u8be2 <code>event_timestamp</code> \u7ef4\u5ea6 \u4e8b\u4ef6\u5728\u5ba2\u6237\u7aef\u8bb0\u5f55\u65f6\u7684\u65f6\u95f4\uff08\u5fae\u79d2\uff0cUTC\uff09 \u4ece\u5206\u6790\u5f15\u64ce\u67e5\u8be2 <code>app_info_version</code> \u7ef4\u5ea6 \u8bb0\u5f55\u4e8b\u4ef6\u65f6\u7684\u5e94\u7528\u6216\u7f51\u7ad9\u7248\u672c \u4ece\u5206\u6790\u5f15\u64ce\u67e5\u8be2"},{"location":"analytics/dashboard/user/#_5","title":"\u793a\u4f8b\u4eea\u8868\u677f","text":"<p>\u4ee5\u4e0b\u56fe\u7247\u662f\u4e00\u4e2a\u793a\u4f8b\u4eea\u8868\u677f\u4f9b\u60a8\u53c2\u8003\u3002</p> <p></p>"},{"location":"analytics/data-mgmt/","title":"\u6570\u636e\u7ba1\u7406","text":"<p>\u6570\u636e\u7ba1\u7406\u6a21\u5757\u4f1a\u81ea\u52a8\u626b\u63cf\u70b9\u51fb\u6d41\u4e2d\u7684\u6570\u636e\uff0c\u751f\u6210\u5143\u6570\u636e\uff0c\u4f7f\u60a8\u80fd\u591f\u65b9\u4fbf\u5730\u67e5\u770b\u548c\u7ba1\u7406\u6240\u6709\u4e8b\u4ef6\u3001\u4e8b\u4ef6\u5c5e\u6027\u548c\u7528\u6237\u5c5e\u6027\u3002\u60a8\u8fd8\u53ef\u4ee5\u4fee\u6539\u4e8b\u4ef6\u548c\u5c5e\u6027\u7684\u663e\u793a\u540d\u79f0\u3001\u63cf\u8ff0\u548c\u6570\u636e\u5b57\u5178\uff0c\u4ee5\u4fbf\u5728\u63a2\u7d22\u5206\u6790\u6a21\u5757\u4e2d\u66f4\u8f7b\u677e\u5730\u4f7f\u7528\u5b83\u4eec\u3002</p>"},{"location":"analytics/data-mgmt/#_2","title":"\u8bbf\u95ee\u6570\u636e\u7ba1\u7406","text":"<p>\u8981\u8bbf\u95ee\u6570\u636e\u7ba1\u7406\uff0c\u8bf7\u6309\u7167\u4ee5\u4e0b\u6b65\u9aa4\u8fdb\u884c\uff1a</p> <ol> <li>\u8f6c\u5230 AWS \u63a7\u5236\u53f0\u4e0a\u7684 Clickstream Analytics\uff0c\u5728 \u5bfc\u822a\u680f \u4e2d\uff0c\u5355\u51fb \"\u5206\u6790\u5de5\u4f5c\u5ba4\"\uff0c\u6d4f\u89c8\u5668\u5c06\u6253\u5f00\u4e00\u4e2a\u65b0\u7684\u9009\u9879\u5361\u3002</li> <li>\u5728\u5206\u6790\u5de5\u4f5c\u5ba4\u9875\u9762\u4e2d\uff0c\u5355\u51fb\u5de6\u4fa7\u5bfc\u822a\u9762\u677f\u4e2d\u7684 \u6570\u636e\u7ba1\u7406 \u56fe\u6807\u3002</li> </ol> <p>\u6ce8\u610f</p> <p>\u53ea\u6709\u5177\u6709 <code>\u7ba1\u7406\u5458</code> \u6216 <code>\u5206\u6790\u5e08</code> \u89d2\u8272\u7684\u7528\u6237\u624d\u80fd\u4fee\u6539\u5143\u6570\u636e\uff0c\u4f8b\u5982\u663e\u793a\u540d\u79f0\u3001\u63cf\u8ff0\u3002</p>"},{"location":"analytics/data-mgmt/#_3","title":"\u5de5\u4f5c\u539f\u7406","text":"<p>\u8be5\u89e3\u51b3\u65b9\u6848\u4f1a\u81ea\u52a8\u626b\u63cf\u70b9\u51fb\u6d41\u6570\u636e\u4ee5\u751f\u6210\u5143\u6570\u636e\uff0c\u7136\u540e\u6bcf\u5929\u5c06\u5176\u5b58\u50a8\u5728 Redshift \u4e2d\u3002\u6709\u4e09\u79cd\u7c7b\u578b\u7684\u5143\u6570\u636e\uff1a</p> <ol> <li>\u4e8b\u4ef6\uff1a\u63cf\u8ff0\u70b9\u51fb\u6d41\u4e8b\u4ef6\u7684\u5143\u6570\u636e\uff0c\u5b58\u50a8\u5728 Redshift \u7684 <code>event_metadata</code> \u8868\u4e2d\u3002</li> <li>\u4e8b\u4ef6\u53c2\u6570\uff1a\u63cf\u8ff0\u70b9\u51fb\u6d41\u4e8b\u4ef6\u53c2\u6570\u7684\u5143\u6570\u636e\uff0c\u5b58\u50a8\u5728 Redshift \u7684 <code>event_parameter_metadata</code> \u8868\u4e2d\u3002</li> <li>\u7528\u6237\u5c5e\u6027\uff1a\u63cf\u8ff0\u7528\u6237\u5c5e\u6027\u7684\u5143\u6570\u636e\uff0c\u5b58\u50a8\u5728 Redshift \u7684 <code>user_attribute_metadata</code> \u8868\u4e2d\u3002</li> </ol>"},{"location":"analytics/data-mgmt/#_4","title":"\u5143\u6570\u636e\u7ef4\u5ea6","text":"<p>\u4e0b\u8868\u5217\u51fa\u4e86\u6bcf\u79cd\u7c7b\u578b\u5143\u6570\u636e\u4e2d\u5305\u542b\u7684\u6240\u6709\u7ef4\u5ea6\u3002</p>"},{"location":"analytics/data-mgmt/#_5","title":"\u4e8b\u4ef6","text":"\u7ef4\u5ea6\u540d\u79f0 \u63cf\u8ff0 \u4e8b\u4ef6\u540d\u79f0 \u4ece SDK \u62a5\u544a\u7684\u4e8b\u4ef6\u540d\u79f0 \u663e\u793a\u540d\u79f0 \u4e8b\u4ef6\u7684\u663e\u793a\u540d\u79f0\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u5b83\u4e0e\u4e8b\u4ef6\u540d\u79f0\u76f8\u540c\uff0c\u7528\u6237\u53ef\u4ee5\u81ea\u5b9a\u4e49\u663e\u793a\u540d\u79f0\u3002 \u63cf\u8ff0 \u4ece SDK \u62a5\u544a\u7684\u4e8b\u4ef6\u7684\u63cf\u8ff0\u540d\u79f0\u3002\u7528\u6237\u53ef\u4ee5\u81ea\u5b9a\u4e49\u663e\u793a\u540d\u79f0\u3002\u5bf9\u4e8e\u70b9\u51fb\u6d41 SDK \u81ea\u52a8\u6536\u96c6\u7684\u4e8b\u4ef6\uff0c\u89e3\u51b3\u65b9\u6848\u5df2\u7ecf\u9884\u586b\u5145\u4e86\u63cf\u8ff0\u3002 \u6765\u6e90 \u63cf\u8ff0\u4e8b\u4ef6\u662f\u5982\u4f55\u6536\u96c6\u7684\uff0c<code>Preset</code> \u8868\u793a\u4e8b\u4ef6\u662f\u7531 SDK \u81ea\u52a8\u6536\u96c6\u7684\uff0c<code>Custom</code> \u8868\u793a\u4e8b\u4ef6\u662f\u7531\u5e94\u7528\u7a0b\u5e8f\u6240\u6709\u8005\u5b9a\u4e49\u548c\u6536\u96c6\u7684 \u5e73\u53f0 \u63cf\u8ff0\u4e8b\u4ef6\u4ece\u54ea\u4e2a\u5e73\u53f0\u6536\u96c6\u7684\uff0c\u5373\u6765\u81ea Android\u3001Web \u8fd8\u662f iOS \u4e0a\u4e00\u5929\u7684\u6570\u636e\u91cf \u63cf\u8ff0\u4e0a\u4e00\u5929\uff08\u5728 UTC \u65f6\u533a\u4e2d\uff09\u6536\u96c6\u4e86\u591a\u5c11\u6570\u636e SDK \u7248\u672c \u63cf\u8ff0\u6536\u96c6\u4e8b\u4ef6\u7684 SDK \u7684\u7248\u672c \u5173\u8054\u9884\u8bbe\u53c2\u6570 \u4e0e\u4e8b\u4ef6\u5173\u8054\u7684\u9884\u8bbe\u4e8b\u4ef6\u53c2\u6570 \u5173\u8054\u81ea\u5b9a\u4e49\u53c2\u6570 \u4e0e\u4e8b\u4ef6\u5173\u8054\u7684\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u53c2\u6570"},{"location":"analytics/data-mgmt/#_6","title":"\u4e8b\u4ef6\u53c2\u6570","text":"\u7ef4\u5ea6\u540d\u79f0 \u63cf\u8ff0 \u53c2\u6570\u540d\u79f0 \u4ece SDK \u62a5\u544a\u7684\u4e8b\u4ef6\u4e8b\u4ef6\u53c2\u6570\u7684\u540d\u79f0 \u663e\u793a\u540d\u79f0 \u4e8b\u4ef6\u53c2\u6570\u7684\u663e\u793a\u540d\u79f0\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u5b83\u4e0e\u53c2\u6570\u540d\u79f0\u76f8\u540c\uff0c\u7528\u6237\u53ef\u4ee5\u81ea\u5b9a\u4e49\u663e\u793a\u540d\u79f0\u3002 \u63cf\u8ff0 \u4ece SDK \u62a5\u544a\u7684\u4e8b\u4ef6\u53c2\u6570\u7684\u63cf\u8ff0\u540d\u79f0\u3002\u7528\u6237\u53ef\u4ee5\u81ea\u5b9a\u4e49\u663e\u793a\u540d\u79f0\u3002\u5bf9\u4e8e\u70b9\u51fb\u6d41 SDK \u81ea\u52a8\u6536\u96c6\u7684\u4e8b\u4ef6\u53c2\u6570\uff0c\u89e3\u51b3\u65b9\u6848\u5df2\u7ecf\u9884\u586b\u5145\u4e86\u63cf\u8ff0\u3002 \u6765\u6e90 \u63cf\u8ff0\u4e8b\u4ef6\u53c2\u6570\u662f\u5982\u4f55\u6536\u96c6\u7684\uff0c<code>Preset</code> \u8868\u793a\u4e8b\u4ef6\u53c2\u6570\u662f\u7531 SDK \u81ea\u52a8\u6536\u96c6\u7684\uff0c<code>Custom</code> \u8868\u793a\u4e8b\u4ef6\u53c2\u6570\u662f\u7531\u5e94\u7528\u7a0b\u5e8f\u6240\u6709\u8005\u5b9a\u4e49\u548c\u6536\u96c6\u7684 \u6570\u636e\u7c7b\u578b \u63cf\u8ff0\u4e8b\u4ef6\u53c2\u6570\u503c\u7684\u6570\u636e\u7c7b\u578b\uff0c\u4f8b\u5982 int\u3001string \u7b49 \u5173\u8054\u4e8b\u4ef6 \u4e0e\u4e8b\u4ef6\u53c2\u6570\u5173\u8054\u7684\u4e8b\u4ef6\u3002 \u6570\u636e\u5b57\u5178 \u4e8b\u4ef6\u53c2\u6570\u7684\u503c\uff0c\u7528\u6237\u53ef\u4ee5\u81ea\u5b9a\u4e49\u663e\u793a\u503c\u3002"},{"location":"analytics/data-mgmt/#_7","title":"\u7528\u6237\u5c5e\u6027","text":"\u7ef4\u5ea6\u540d\u79f0 \u63cf\u8ff0 \u5c5e\u6027\u540d\u79f0 \u4ece SDK \u62a5\u544a\u7684\u7528\u6237\u5c5e\u6027\u7684\u540d\u79f0 \u663e\u793a\u540d\u79f0 \u7528\u6237\u5c5e\u6027\u7684\u663e\u793a\u540d\u79f0\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u5b83\u4e0e\u5c5e\u6027\u540d\u79f0\u76f8\u540c\uff0c\u7528\u6237\u53ef\u4ee5\u81ea\u5b9a\u4e49\u663e\u793a\u540d\u79f0\u3002 \u63cf\u8ff0 \u4ece SDK \u62a5\u544a\u7684\u7528\u6237\u5c5e\u6027\u7684\u63cf\u8ff0\u540d\u79f0\u3002\u7528\u6237\u53ef\u4ee5\u81ea\u5b9a\u4e49\u663e\u793a\u540d\u79f0\u3002\u5bf9\u4e8e\u70b9\u51fb\u6d41 SDK \u81ea\u52a8\u6536\u96c6\u7684\u7528\u6237\u5c5e\u6027\uff0c\u89e3\u51b3\u65b9\u6848\u5df2\u7ecf\u9884\u586b\u5145\u4e86\u63cf\u8ff0\u3002 \u6765\u6e90 \u63cf\u8ff0\u7528\u6237\u5c5e\u6027\u662f\u5982\u4f55\u6536\u96c6\u7684\uff0c<code>Preset</code> \u8868\u793a\u7528\u6237\u5c5e\u6027\u662f\u7531 SDK \u81ea\u52a8\u6536\u96c6\u7684\uff0c<code>Custom</code> \u8868\u793a\u7528\u6237\u5c5e\u6027\u662f\u7531\u5e94\u7528\u7a0b\u5e8f\u6240\u6709\u8005\u5b9a\u4e49\u548c\u6536\u96c6\u7684 \u6570\u636e\u7c7b\u578b \u63cf\u8ff0\u7528\u6237\u5c5e\u6027\u503c\u7684\u6570\u636e\u7c7b\u578b\uff0c\u4f8b\u5982 int\u3001string \u7b49"},{"location":"analytics/data-mgmt/#_8","title":"\u66f4\u65b0\u4e8b\u4ef6\u663e\u793a\u540d\u79f0\u548c\u63cf\u8ff0","text":"<ol> <li>\u5355\u51fb \u4e8b\u4ef6 \u9875\u9762\uff0c\u9009\u62e9\u4efb\u4f55\u4e8b\u4ef6\uff0c\u4f8b\u5982 <code>view_item</code>\u3002</li> <li>\u5355\u51fb\u6807\u6709 \u663e\u793a\u540d\u79f0 \u7684\u5217\uff0c\u8f93\u5165\u540d\u79f0\uff0c\u4f8b\u5982 <code>\u67e5\u770b\u4ea7\u54c1\u8be6\u60c5</code>\uff0c\u7136\u540e\u5355\u51fb\u786e\u8ba4\u3002</li> <li>\u8fd4\u56de\u5230\u63a2\u7d22\uff0c\u5e76\u5728\u7b5b\u9009\u5668\u4e0b\u62c9\u83dc\u5355\u4e2d\uff0c\u60a8\u53ef\u4ee5\u770b\u5230 <code>view_item</code> \u73b0\u5728\u663e\u793a\u4e3a <code>\u67e5\u770b\u4ea7\u54c1\u8be6\u60c5</code>\u3002</li> </ol> <p>\u6309\u7167\u76f8\u540c\u7684\u6b65\u9aa4\u66f4\u65b0\u4e8b\u4ef6\u53c2\u6570\u548c\u7528\u6237\u5c5e\u6027\u7684\u663e\u793a\u540d\u79f0\u548c\u63cf\u8ff0\u3002</p>"},{"location":"analytics/data-mgmt/#_9","title":"\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u53c2\u6570\u503c\u7684\u6570\u636e\u5b57\u5178","text":"<ol> <li>\u5355\u51fb \u4e8b\u4ef6\u5c5e\u6027 \u9875\u9762\uff0c\u5e76\u5728\u641c\u7d22\u6846\u4e2d\u9009\u62e9\u4e8b\u4ef6\u53c2\u6570\uff0c\u4f8b\u5982 <code>_entrances</code>\u3002</li> <li>\u5c5e\u6027\u7684\u8be6\u7ec6\u4fe1\u606f\u5e94\u8be5\u4f1a\u81ea\u52a8\u6253\u5f00\uff0c\u9009\u62e9 \u5b57\u5178 \u9875\u9762\u3002</li> <li>\u5355\u51fb\u6807\u6709 \u663e\u793a\u503c \u7684\u5217\uff0c\u8f93\u5165\u65b0\u503c\uff0c\u4f8b\u5982 <code>0</code> \u7684 <code>\u975e\u9996\u6b21\u5165\u53e3</code>\uff0c\u8f93\u5165 <code>1</code> \u7684 <code>\u9996\u6b21\u5165\u53e3</code>\uff0c\u7136\u540e\u5355\u51fb\u786e\u8ba4\u3002</li> <li>\u8fd4\u56de\u5230\u63a2\u7d22\uff0c\u5e76\u5728\u7b5b\u9009\u5668\u4e0b\u62c9\u83dc\u5355\u4e2d\uff0c\u60a8\u53ef\u4ee5\u770b\u5230 <code>_entrances</code> \u663e\u793a\u4e3a <code>\u975e\u9996\u6b21\u5165\u53e3</code> \u548c <code>\u9996\u6b21\u5165\u53e3</code>\u3002</li> </ol> <p>\u6309\u7167\u76f8\u540c\u7684\u6b65\u9aa4\u4e3a\u7528\u6237\u5c5e\u6027\u503c\u81ea\u5b9a\u4e49\u6570\u636e\u5b57\u5178\u3002</p>"},{"location":"analytics/explore/","title":"\u63a2\u7d22","text":"<p>\u63a2\u7d22\u662f\u4e00\u7ec4\u9ad8\u7ea7\u5206\u6790\u6a21\u578b\uff0c\u63d0\u4f9b\u7075\u6d3b\u4e14\u6613\u4e8e\u4f7f\u7528\u7684\u67e5\u8be2\u65b9\u6cd5\uff0c\u7528\u4e8e\u5206\u6790\u70b9\u51fb\u6d41\u6570\u636e\uff0c\u5e2e\u52a9\u60a8\u4ece\u70b9\u51fb\u6d41\u6570\u636e\u4e2d\u6316\u6398\u66f4\u6df1\u5c42\u6b21\u7684\u89c1\u89e3\u3002</p> <p>\u5f53\u60a8\u60f3\u8981\u66f4\u8be6\u7ec6\u5730\u63a2\u7d22\u70b9\u51fb\u6d41\u6570\u636e\u65f6\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528\u63a2\u7d22\u6765\uff1a</p> <ul> <li>\u6267\u884c\u4e34\u65f6\u67e5\u8be2</li> <li>\u901a\u8fc7\u5728\u4e8b\u4ef6\u53c2\u6570\u548c\u7528\u6237\u5c5e\u6027\u4e0a\u4f7f\u7528\u8fc7\u6ee4\u5668\uff0c\u4e13\u6ce8\u4e8e\u6700\u76f8\u5173\u7684\u6570\u636e</li> <li>\u6309\u7ef4\u5ea6\u5bf9\u6307\u6807\u8fdb\u884c\u5206\u7ec4\uff0c\u4ee5\u4fbf\u8fdb\u884c\u6bd4\u8f83</li> <li>\u8f7b\u677e\u5207\u6362\u53ef\u89c6\u5316\u7c7b\u578b\u5e76\u6df1\u5165\u6216\u4e0a\u5377\u6570\u636e</li> <li>\u67e5\u770b\u5e76\u5bfc\u51fa\u6458\u8981\u6570\u636e\u5230Excel\u6216CSV</li> <li>\u5c06\u63a2\u7d22\u5206\u6790\u7ed3\u679c\u4fdd\u5b58\u5230\u4eea\u8868\u677f\u4ee5\u4f9b\u5171\u4eab\u6216\u5b9a\u671f\u4f7f\u7528</li> </ul>"},{"location":"analytics/explore/#_2","title":"\u8bbf\u95ee\u63a2\u7d22","text":"<p>\u8981\u8bbf\u95ee\u63a2\u7d22\uff0c\u8bf7\u6309\u7167\u4ee5\u4e0b\u6b65\u9aa4\u64cd\u4f5c\uff1a</p> <ol> <li>\u8f6c\u5230 AWS\u63a7\u5236\u53f0\u4e0a\u7684Clickstream Analytics\uff0c\u5728 \u5bfc\u822a\u680f \u4e2d\uff0c\u70b9\u51fb \"Analytics Studio\"\uff0c\u6d4f\u89c8\u5668\u4e2d\u5c06\u6253\u5f00\u4e00\u4e2a\u65b0\u6807\u7b7e\u9875\u3002</li> <li>\u5728Analytics Studio\u9875\u9762\u4e2d\uff0c\u70b9\u51fb\u5de6\u4fa7\u5bfc\u822a\u9762\u677f\u4e2d\u7684 \u63a2\u7d22 \u56fe\u6807\u3002</li> </ol>"},{"location":"analytics/explore/#_3","title":"\u63a2\u7d22\u7684\u5de5\u4f5c\u539f\u7406","text":"<p>\u63a2\u7d22\u76ee\u524d\u63d0\u4f9b\u4e864\u4e2a\u5206\u6790\u6a21\u578b\uff1a</p> \u62a5\u544a\u540d\u79f0 \u662f\u4ec0\u4e48 \u4e8b\u4ef6\u5206\u6790 \u4e8b\u4ef6\u5206\u6790\u7528\u4e8e\u7814\u7a76\u7279\u5b9a\u884c\u4e3a\u4e8b\u4ef6\u7684\u9891\u7387\u3002\u60a8\u53ef\u4ee5\u901a\u8fc7\u81ea\u5b9a\u4e49\u6307\u6807\u3001\u5206\u7ec4\u3001\u8fc7\u6ee4\u5668\u548c\u5404\u79cd\u53ef\u89c6\u56fe\u8868\u5bf9\u7528\u6237\u884c\u4e3a\u8fdb\u884c\u591a\u7ef4\u5206\u6790\u3002 \u6f0f\u6597\u5206\u6790 \u6f0f\u6597\u5206\u6790\uff0c\u6216\u79f0\u4e3a\u8f6c\u5316\u5206\u6790\uff0c\u4e3b\u8981\u7528\u4e8e\u5206\u6790\u7528\u6237\u5728\u6307\u5b9a\u6d41\u7a0b\u4e2d\u7684\u8f6c\u5316\u72b6\u6001\u3002\u8be5\u6a21\u578b\u9996\u5148\u5c06\u6574\u4e2a\u6d41\u7a0b\u5206\u89e3\u4e3a\u6b65\u9aa4\uff0c\u7136\u540e\u8ba1\u7b97\u4ece\u6bcf\u4e2a\u6b65\u9aa4\u5230\u4e0b\u4e00\u4e2a\u6b65\u9aa4\u7684\u8f6c\u5316\u7387\u3002\u5b83\u53ef\u7528\u4e8e\u8861\u91cf\u6bcf\u4e2a\u6b65\u9aa4\u7684\u6027\u80fd\u3002\u5e38\u89c1\u7684\u4f7f\u7528\u573a\u666f\u5305\u62ec\u5206\u6790\u6ce8\u518c\u8f6c\u5316\u7387\u3001\u8d2d\u4e70\u8f6c\u5316\u7387\u7b49\u3002 \u8def\u5f84\u5206\u6790 \u6f0f\u6597\u5206\u6790\uff0c\u6216\u79f0\u4e3a\u8f6c\u5316\u5206\u6790\uff0c\u4e3b\u8981\u7528\u4e8e\u5206\u6790\u7528\u6237\u5728\u6307\u5b9a\u6d41\u7a0b\u4e2d\u7684\u8f6c\u5316\u72b6\u6001\u3002\u8be5\u6a21\u578b\u9996\u5148\u5c06\u6574\u4e2a\u6d41\u7a0b\u5206\u89e3\u4e3a\u6b65\u9aa4\uff0c\u7136\u540e\u8ba1\u7b97\u4ece\u6bcf\u4e2a\u6b65\u9aa4\u5230\u4e0b\u4e00\u4e2a\u6b65\u9aa4\u7684\u8f6c\u5316\u7387\u3002\u5b83\u53ef\u7528\u4e8e\u8861\u91cf\u6bcf\u4e2a\u6b65\u9aa4\u7684\u6027\u80fd\u3002\u5e38\u89c1\u7684\u4f7f\u7528\u573a\u666f\u5305\u62ec\u5206\u6790\u6ce8\u518c\u8f6c\u5316\u7387\u3001\u8d2d\u4e70\u8f6c\u5316\u7387\u7b49\u3002 \u7559\u5b58\u5206\u6790 \u7559\u5b58\u5206\u6790\u652f\u6301\u914d\u7f6e\u521d\u59cb\u4e8b\u4ef6\u548c\u8fd4\u56de\u4e8b\u4ef6\u4ee5\u8ba1\u7b97\u76ee\u6807\u7528\u6237\u7fa4\u4f53\u7684\u7559\u5b58\u7387\u6216\u6d41\u5931\u7387\u3002\u5b83\u8fd8\u652f\u6301\u4e3a\u521d\u59cb\u4e8b\u4ef6\u548c\u8fd4\u56de\u4e8b\u4ef6\u8bbe\u7f6e\u5173\u8054\u5c5e\u6027\u3002"},{"location":"analytics/explore/#_4","title":"\u5982\u4f55\u4f7f\u7528\u63a2\u7d22","text":"<p>\u63a2\u7d22\u754c\u9762\u5305\u62ec\u4ee5\u4e0b\u7ec4\u4ef6\uff1a</p> <p></p> <ol> <li>\u5206\u6790\u6a21\u578b\u3002\u4e0b\u62c9\u5217\u8868\uff0c\u7528\u4e8e\u9009\u62e9\u6216\u5207\u6362\u5206\u6790\u6a21\u578b\u3002</li> <li>\u6a21\u578b\u914d\u7f6e\u3002\u6307\u5b9a\u5206\u6790\u6a21\u578b\u7684\u914d\u7f6e\uff0c\u4f8b\u5982\u9009\u62e9\u4e8b\u4ef6\u3001\u6dfb\u52a0\u8fc7\u6ee4\u5668\u3002\u6bcf\u4e2a\u6a21\u578b\u53ef\u80fd\u6709\u4e0d\u540c\u7684\u914d\u7f6e\u3002</li> <li>\u5168\u5c40\u8fc7\u6ee4\u5668\u3002\u9002\u7528\u4e8e\u5728\u6a21\u578b\u914d\u7f6e\u4e2d\u5b9a\u4e49\u7684\u6240\u6709\u6307\u6807\u7684\u8fc7\u6ee4\u5668\u3002\u60a8\u53ef\u4ee5\u6dfb\u52a0\u591a\u4e2a\u8fc7\u6ee4\u5668\u5e76\u8c03\u6574\u8fc7\u6ee4\u5668\u5173\u7cfb\uff08\u5373\u201c\u4e0e\u201d\u6216\u201c\u6216\u201d\uff09\u3002</li> <li>\u5206\u7ec4\u3002\u901a\u8fc7\u6307\u5b9a\u53c2\u6570\u503c\u5bf9\u5206\u6790\u7ed3\u679c\u8fdb\u884c\u5206\u7ec4\uff0c\u4f7f\u60a8\u53ef\u4ee5\u5728\u7ef4\u5ea6\u4e0a\u6bd4\u8f83\u6307\u6807\u3002</li> <li>\u5206\u6790\u65f6\u95f4\u8303\u56f4\u3002\u6307\u5b9a\u5206\u6790\u7684\u65f6\u95f4\u8303\u56f4\u3002</li> <li>\u805a\u5408\u7c92\u5ea6\u3002\u6307\u5b9a\u663e\u793a\u6307\u6807\u7684\u7c92\u5ea6\u7ea7\u522b\uff0c\u4f8b\u5982\u6309\u5929\u3001\u5468\u6216\u6708\u3002</li> <li>\u53ef\u89c6\u5316\u7c7b\u578b\u3002\u6307\u5b9a\u53ef\u89c6\u5316\u7684\u56fe\u8868\u7c7b\u578b\u3002</li> <li>\u4fdd\u5b58\u5230\u4eea\u8868\u677f\u3002\u4fdd\u5b58\u63a2\u7d22\u5206\u6790\u3002</li> <li>\u7ed3\u679c\u663e\u793a\u533a\u57df\u3002\u663e\u793a\u53ef\u89c6\u5316\u548c\u8be6\u7ec6\u6570\u636e\u3002</li> <li>\u5e2e\u52a9\u9762\u677f\u3002\u70b9\u51fb\u201c\u4fe1\u606f</li> </ol>"},{"location":"analytics/explore/event/","title":"\u4e8b\u4ef6\u5206\u6790","text":"<p>\u4e8b\u4ef6\u5206\u6790\u7528\u4e8e\u7814\u7a76\u67d0\u4e9b\u884c\u4e3a\u4e8b\u4ef6\u7684\u9891\u7387\u3002\u60a8\u53ef\u4ee5\u901a\u8fc7\u81ea\u5b9a\u4e49\u6307\u6807\u3001\u5206\u7ec4\u3001\u8fc7\u6ee4\u5668\u548c\u5404\u79cd\u53ef\u89c6\u56fe\u8868\u5bf9\u7528\u6237\u884c\u4e3a\u8fdb\u884c\u591a\u7ef4\u5206\u6790\u3002</p>"},{"location":"analytics/explore/event/#_2","title":"\u7528\u4f8b","text":"<p>\u4e8b\u4ef6\u5206\u6790\u901a\u5e38\u7528\u4e8e\u5206\u6790\u7528\u6237\u884c\u4e3a\uff0c\u4f8b\u5982\uff1a</p> <ul> <li>\u67e5\u8be2\u7528\u6237\u4f7f\u7528\u67d0\u4e2a\u4ea7\u54c1\u529f\u80fd\u7684\u60c5\u51b5\uff08\u4f8b\u5982\u6dfb\u52a0\u6536\u85cf\u5939\u3001\u89c6\u9891\u64ad\u653e\u3001\u67e5\u770b\u76f4\u64ad\u7b49\uff09\uff1b</li> <li>\u6bd4\u8f83\u4e0d\u540c\u7ec4\u7528\u6237\u7684\u884c\u4e3a\uff0c\u4f8b\u5982\u4e0d\u540c\u56fd\u5bb6\u6bcf\u4e2a\u7528\u6237\u7684\u767b\u5f55\u6b21\u6570\uff1b</li> <li>\u6bd4\u8f83\u4e0d\u540c\u6e20\u9053\u7684\u6548\u679c\uff0c\u4f8b\u5982\u6bcf\u4e2a\u6d41\u91cf\u6765\u6e90\u7684\u6ce8\u518c\u7387\u3002</li> </ul>"},{"location":"analytics/explore/event/#_3","title":"\u5173\u952e\u6982\u5ff5\uff1a","text":"<ul> <li>\u6307\u6807\uff1a\u5bf9\u9009\u62e9\u7684\u4e8b\u4ef6\u6267\u884c\u805a\u5408\uff0c\u4f8b\u5982\u4e8b\u4ef6\u6570\u91cf\u6216\u6267\u884c\u4e8b\u4ef6\u7684\u4e0d\u540c\u7528\u6237\u6570\u91cf\u3002</li> </ul>"},{"location":"analytics/explore/event/#_4","title":"\u5982\u4f55\u4f7f\u7528","text":"<ol> <li>\u9009\u62e9\u4e00\u4e2a\u4e8b\u4ef6\uff0c\u5e76\u9009\u62e9\u6307\u6807\u7684\u805a\u5408\u65b9\u6cd5\u3002</li> <li>\u901a\u8fc7\u70b9\u51fb\u6307\u6807\u65c1\u8fb9\u7684  \u56fe\u6807\uff0c\u4e3a\u4e8b\u4ef6\u6dfb\u52a0\u8fc7\u6ee4\u5668\u3002</li> <li>\u9009\u62e9\u4e8b\u4ef6\u53c2\u6570\u6216\u7528\u6237\u5c5e\u6027\u4f5c\u4e3a\u8fc7\u6ee4\u5668\u3002\u60a8\u53ef\u4ee5\u901a\u8fc7\u70b9\u51fb  \u56fe\u6807\u6dfb\u52a0\u591a\u4e2a\u8fc7\u6ee4\u5668\u3002\u60a8\u8fd8\u53ef\u4ee5\u901a\u8fc7\u70b9\u51fb <code>AND</code> \u6216 <code>OR</code> \u6765\u914d\u7f6e\u8fc7\u6ee4\u5668\u5173\u7cfb\u3002</li> <li>\u5982\u6709\u9700\u8981\uff0c\u901a\u8fc7\u91cd\u590d\u4e0a\u8ff0\u6b65\u9aa4\u6dfb\u52a0\u66f4\u591a\u6307\u6807\u3002</li> <li>\u5982\u6709\u9700\u8981\uff0c\u901a\u8fc7\u9009\u62e9\u4e8b\u4ef6\u53c2\u6570\u6216\u7528\u6237\u5c5e\u6027\u914d\u7f6e\u5168\u5c40\u8fc7\u6ee4\u5668\u3002\u4e0e\u4e8b\u4ef6\u8fc7\u6ee4\u5668\u7c7b\u4f3c\uff0c\u60a8\u53ef\u4ee5\u6dfb\u52a0\u591a\u4e2a\u5168\u5c40\u8fc7\u6ee4\u5668\u5e76\u914d\u7f6e\u8fc7\u6ee4\u5668\u5173\u7cfb\u3002</li> <li>\u5982\u6709\u9700\u8981\uff0c\u901a\u8fc7\u9009\u62e9\u4e8b\u4ef6\u53c2\u6570\u6216\u7528\u6237\u5c5e\u6027\u914d\u7f6e\u5206\u7ec4\u3002</li> <li>\u70b9\u51fb\u67e5\u8be2\u6309\u94ae\u5f00\u59cb\u5206\u6790\u3002</li> <li>\u5982\u6709\u9700\u8981\uff0c\u8c03\u6574\u6570\u636e\u7c92\u5ea6\uff0c\u4f8b\u5982\u6bcf\u5929\u3001\u6bcf\u5468\u6216\u6bcf\u6708\u3002</li> <li>\u5982\u6709\u9700\u8981\uff0c\u8c03\u6574\u67e5\u8be2\u65f6\u95f4\u8303\u56f4\u3002</li> <li>\u70b9\u51fb\u4fdd\u5b58\u5230\u4eea\u8868\u677f\u5c06\u5206\u6790\u4fdd\u5b58\u5230\u4eea\u8868\u677f\uff0c\u8f93\u5165\u540d\u79f0\u3001\u63cf\u8ff0\uff0c\u5e76\u9009\u62e9\u4eea\u8868\u677f\u548c\u5de5\u4f5c\u8868\u3002</li> </ol>"},{"location":"analytics/explore/event/#_5","title":"\u793a\u4f8b\uff1a","text":"<p>\u8ba1\u7b97\u8fc7\u53bb\u4e00\u4e2a\u6708\u5185\u6765\u81ea\u4e0d\u540c\u56fd\u5bb6\u7684 Web \u9875\u9762\u7684\u6bcf\u65e5\u9875\u9762\u6d4f\u89c8\u91cf\uff08PV - \u9875\u9762\u6d4f\u89c8\uff09\u548c\u6d3b\u8dc3\u7528\u6237\u8ba1\u6570\uff08UV - \u72ec\u7acb\u8bbf\u5ba2\uff09\uff0c\u8981\u6c42\u6d3b\u8dc3\u7528\u6237\u7684\u4f1a\u8bdd\u6301\u7eed\u65f6\u95f4\u81f3\u5c11\u4e3a 30000 \u6beb\u79d2\u3002</p>"},{"location":"analytics/explore/event/#_6","title":"\u6b65\u9aa4","text":"<ol> <li>\u9009\u62e9 \u4e8b\u4ef6\u5206\u6790 \u6a21\u578b\u3002</li> <li>\u5728\u5de6\u4fa7\u7684 \u5b9a\u4e49\u6307\u6807 \u533a\u57df\uff0c\u9009\u62e9 <code>_page_view</code> \u4f5c\u4e3a\u8ba1\u7b97\u4e8b\u4ef6\u7684\u6307\u6807\uff0c\u5e76\u9009\u62e9 <code>\u4e8b\u4ef6\u6570</code> \u4f5c\u4e3a\u6307\u6807\u7c7b\u578b\u3002</li> <li>\u70b9\u51fb + \u6dfb\u52a0\u4e8b\u4ef6 \u6309\u94ae\uff0c\u6dfb\u52a0\u53e6\u4e00\u4e2a\u6307\u6807\u3002\u9009\u62e9 <code>_app_end</code> \u4f5c\u4e3a\u8ba1\u7b97\u4e8b\u4ef6\u7684\u6307\u6807\uff0c\u5e76\u9009\u62e9 <code>\u7528\u6237\u6570</code> \u4f5c\u4e3a\u6307\u6807\u7c7b\u578b\u3002</li> <li>\u70b9\u51fb <code>_app_end</code> \u53f3\u4fa7\u7684\u8fc7\u6ee4\u5668\u56fe\u6807\uff0c\u6dfb\u52a0\u4e8b\u4ef6\u8fc7\u6ee4\u5668\u6761\u4ef6\uff1a<ul> <li>\u8fc7\u6ee4\u5668\u5c5e\u6027\uff1a<code>event._session_duration</code></li> <li>\u64cd\u4f5c\uff1a<code>&gt;=</code></li> <li>\u503c\uff1a<code>30000</code>\uff08<code>event._session_duration</code> \u7684\u5355\u4f4d\u662f\u6beb\u79d2\uff09</li> </ul> </li> <li>\u5728\u53f3\u4fa7\u7684 \u8fc7\u6ee4\u5668 \u533a\u57df\u914d\u7f6e\u5168\u5c40\u8fc7\u6ee4\u5668\uff1a<ul> <li>\u9009\u62e9 <code>other.platform</code> \u4f5c\u4e3a\u8fc7\u6ee4\u5668\u5c5e\u6027\u3002</li> <li>\u64cd\u4f5c\uff1a<code>=</code></li> <li>\u503c\uff1a<code>Web</code></li> </ul> </li> <li>\u5728\u53f3\u4fa7\u7684 \u5c5e\u6027\u5206\u7ec4 \u533a\u57df\uff0c\u901a\u8fc7\u9009\u62e9 <code>geo.country</code> \u8fdb\u884c\u5206\u7ec4\u3002</li> <li>\u5728\u5e95\u90e8\u7684\u65f6\u95f4\u9009\u62e9\u5668\u4e2d\uff0c\u9009\u62e9 <code>\u8fc7\u53bb\u4e00\u4e2a\u6708</code>\uff0c\u7136\u540e\u70b9\u51fb OK\u3002</li> <li>\u70b9\u51fb\u53f3\u4e0a\u89d2\u7684 \u4fdd\u5b58\u5230\u4eea\u8868\u677f \u6309\u94ae\u3002\u5728\u5f39\u51fa\u7684\u5bf9\u8bdd\u6846\u4e2d\u8f93\u5165\uff1a<ul> <li>\u56fe\u8868\u540d\u79f0\uff1a<code>PV \u548c UV</code></li> <li>\u56fe\u8868\u63cf\u8ff0\uff1a<code>\u8fc7\u53bb\u4e00\u4e2a\u6708\u5185 Web \u4e0a\u7684 PV \u548c UV\uff08\u81f3\u5c11 30 \u79d2\uff09</code></li> <li>\u9009\u62e9\u4eea\u8868\u677f\uff1a\u9009\u62e9\u4e00\u4e2a\u4eea\u8868\u677f\uff08\u60a8\u9700\u8981\u9996\u5148\u521b\u5efa\u4e00\u4e2a\u4eea\u8868\u677f\uff0c\u53c2\u8003 \u521b\u5efa\u4eea\u8868\u677f\uff09</li> <li>\u9009\u62e9\u5de5\u4f5c\u8868\uff1a\u9009\u62e9\u4e00\u4e2a\u5de5\u4f5c\u8868\u3002</li> <li>\u70b9\u51fb OK\u3002</li> </ul> </li> </ol> <p>\u6240\u6709\u914d\u7f6e\u5982\u4e0b\u56fe\u6240\u793a\uff1a </p>"},{"location":"analytics/explore/funnel/","title":"\u6f0f\u6597\u5206\u6790","text":"<p>\u6f0f\u6597\u5206\u6790\uff0c\u6216\u79f0\u8f6c\u5316\u5206\u6790\uff0c\u4e3b\u8981\u7528\u4e8e\u5206\u6790\u7528\u6237\u5728\u6307\u5b9a\u8fc7\u7a0b\u4e2d\u7684\u8f6c\u5316\u72b6\u6001\u3002\u8be5\u6a21\u578b\u9996\u5148\u5c06\u6574\u4e2a\u8fc7\u7a0b\u5206\u89e3\u4e3a\u6b65\u9aa4\uff0c\u7136\u540e\u8ba1\u7b97\u4ece\u6bcf\u4e2a\u6b65\u9aa4\u5230\u4e0b\u4e00\u4e2a\u6b65\u9aa4\u7684\u8f6c\u5316\u7387\u3002\u5b83\u53ef\u7528\u4e8e\u8861\u91cf\u6bcf\u4e2a\u6b65\u9aa4\u7684\u6027\u80fd\u3002</p>"},{"location":"analytics/explore/funnel/#_2","title":"\u7528\u4f8b","text":"<p>\u6f0f\u6597\u5206\u6790\u901a\u5e38\u7528\u4e8e\u5206\u6790\u7528\u6237\u884c\u4e3a\uff0c\u4f8b\u5982\uff1a</p> <ul> <li>\u4ea7\u54c1\u4e2d\u5173\u952e\u6d41\u7a0b\u7684\u8f6c\u5316\u7387\u5206\u6790\uff1a\u4f8b\u5982\u4ece\u8ba2\u5355\u5230\u8d2d\u4e70\u7387\u3001\u6ce8\u518c\u5b8c\u6210\u7387\uff1b</li> <li>\u4fc3\u9500\u7684\u8f6c\u5316\u7387\u5206\u6790\uff1a\u4f8b\u5982\u4e0d\u540c\u5e94\u7528\u5185\u4fc3\u9500\u4f4d\u7684\u8f6c\u5316\u7387\uff1b</li> <li>\u8425\u9500\u6e20\u9053\u6548\u679c\u5206\u6790\uff1a\u4f8b\u5982\u7531\u4e0d\u540c\u5e7f\u544a\u6d3b\u52a8\u5e26\u6765\u7684\u65b0\u7528\u6237\u7684\u8d2d\u4e70\u7387\u3002</li> </ul>"},{"location":"analytics/explore/funnel/#_3","title":"\u5173\u952e\u6982\u5ff5","text":"<ul> <li>\u6307\u6807\uff1a\u7528\u4e8e\u6f0f\u6597\u5206\u6790\u7684\u5b9e\u4f53\uff0c\u4f8b\u5982\u4e8b\u4ef6\u6570\u91cf\u6216\u7528\u6237\u6570\u91cf\u3002</li> <li>\u6f0f\u6597\uff1a\u6f0f\u6597\u662f\u8868\u793a\u8fc7\u7a0b\u7684\u4e00\u7cfb\u5217\u4e8b\u4ef6\uff0c\u5b83\u81f3\u5c11\u5305\u542b\u4e24\u4e2a\u4e8b\u4ef6\uff0c\u6bcf\u4e2a\u4e8b\u4ef6\u4ee3\u8868\u6f0f\u6597\u4e2d\u7684\u4e00\u6b65\u3002</li> <li>\u6f0f\u6597\u7a97\u53e3\uff1a\u6f0f\u6597\u7a97\u53e3\u662f\u7528\u6237\u5b8c\u6210\u6574\u4e2a\u8fc7\u7a0b\u7684\u65f6\u95f4\u3002\u53ea\u6709\u5728\u7528\u6237\u5728\u8bbe\u7f6e\u7684\u7a97\u53e3\u671f\u5185\u5b8c\u6210\u6240\u6709\u9009\u5b9a\u7684\u6b65\u9aa4\uff0c\u624d\u7b97\u662f\u6210\u529f\u8f6c\u5316\u3002</li> </ul>"},{"location":"analytics/explore/funnel/#_4","title":"\u5982\u4f55\u4f7f\u7528","text":"<ol> <li>\u9009\u62e9\u6307\u6807\u7c7b\u578b\u3002<ol> <li>\u7528\u6237\u6570\u91cf\uff1a\u8ba1\u7b97\u901a\u8fc7\u6574\u4e2a\u6f0f\u6597\u7684\u4e0d\u540c\u7528\u6237\u6570\u91cf\u3002</li> <li>\u4e8b\u4ef6\u6570\u91cf\uff1a\u8ba1\u7b97\u6574\u4e2a\u6f0f\u6597\u5b8c\u6210\u7684\u6b21\u6570\u3002</li> </ol> </li> <li>\u914d\u7f6e\u6f0f\u6597\u7a97\u53e3\u3002<ol> <li>\u81ea\u5b9a\u4e49\uff1a\u60a8\u53ef\u4ee5\u5b9a\u4e49\u4efb\u4f55\u6301\u7eed\u65f6\u95f4\u4f5c\u4e3a\u6f0f\u6597\u7a97\u53e3\u3002</li> <li>\u5929\uff1a\u5728\u7b2c\u4e00\u6b65\u7684\u540c\u4e00\u65e5\u671f\u5185\u5b8c\u6210\u6f0f\u6597\u3002</li> </ol> </li> <li>\u9009\u62e9\u4e8b\u4ef6\u4f5c\u4e3a\u6b65\u9aa4\uff0c\u5355\u51fb <code>+\u6dfb\u52a0\u6b65\u9aa4</code> \u6309\u94ae\u4ee5\u6dfb\u52a0\u66f4\u591a\u6b65\u9aa4\u3002\u60a8\u6700\u591a\u53ef\u4ee5\u6dfb\u52a0 10 \u4e2a\u6b65\u9aa4\u3002</li> <li>\u5355\u51fb  \u4ee5\u8fc7\u6ee4\u4e8b\u4ef6\u3002\u53ea\u6709\u7b26\u5408\u8fc7\u6ee4\u6761\u4ef6\u7684\u4e8b\u4ef6\u624d\u4f1a\u8ba1\u5165\u6f0f\u6597\u3002\u60a8\u53ef\u4ee5\u4e3a\u4e00\u4e2a\u4e8b\u4ef6\u6dfb\u52a0\u591a\u4e2a\u8fc7\u6ee4\u5668\u3002</li> <li>\u5982\u6709\u9700\u8981\uff0c\u901a\u8fc7\u9009\u62e9\u4e8b\u4ef6\u53c2\u6570\u6216\u7528\u6237\u5c5e\u6027\u914d\u7f6e\u5168\u5c40\u8fc7\u6ee4\u5668\u3002\u4e0e\u4e8b\u4ef6\u8fc7\u6ee4\u5668\u7c7b\u4f3c\uff0c\u60a8\u53ef\u4ee5\u6dfb\u52a0\u591a\u4e2a\u5168\u5c40\u8fc7\u6ee4\u5668\u5e76\u914d\u7f6e\u8fc7\u6ee4\u5668\u5173\u7cfb\u3002</li> <li> <p>\u5982\u6709\u9700\u8981\uff0c\u901a\u8fc7\u9009\u62e9\u4e8b\u4ef6\u53c2\u6570\u6216\u7528\u6237\u5c5e\u6027\u914d\u7f6e\u5206\u7ec4\u3002</p> <p>Note</p> <p>\u6f0f\u6597\u53ef\u89c6\u5316\u4e0d\u652f\u6301\u5206\u7ec4\uff0c\u5982\u679c\u9700\u8981\u5bf9\u6f0f\u6597\u7ed3\u679c\u8fdb\u884c\u5206\u7ec4\uff0c\u8bf7\u9009\u62e9\u6761\u5f62\u56fe\u3002</p> </li> <li> <p>\u5982\u679c\u53ea\u60f3\u5728\u7b2c\u4e00\u4e2a\u4e8b\u4ef6\u4e0a\u5e94\u7528\u5206\u7ec4\uff0c\u8bf7\u5207\u6362\u5230 <code>\u4ec5\u5bf9\u7b2c\u4e00\u6b65\u5e94\u7528\u5206\u7ec4</code>\u3002\u5982\u679c\u672a\u9009\u62e9\u6b64\u9009\u9879\uff0c\u5219\u5206\u7ec4\u5c06\u5e94\u7528\u4e8e\u6f0f\u6597\u4e2d\u7684\u6240\u6709\u6b65\u9aa4\uff0c\u8fd9\u610f\u5473\u7740\u6240\u6709\u4e8b\u4ef6\u90fd\u5e94\u5177\u6709\u7528\u4e8e\u5206\u7ec4\u7684\u53c2\u6570\u6216\u5c5e\u6027\u3002</p> </li> <li>\u5355\u51fb <code>\u67e5\u8be2</code> \u6309\u94ae\u5f00\u59cb\u5206\u6790\u3002</li> <li>\u5982\u6709\u9700\u8981\uff0c\u8c03\u6574\u6570\u636e\u7c92\u5ea6\uff0c\u4f8b\u5982 <code>\u6bcf\u5929</code>\u3001<code>\u6bcf\u5468</code>\u3001<code>\u6bcf\u6708</code>\u3002</li> <li>\u5982\u6709\u9700\u8981\uff0c\u8c03\u6574\u67e5\u8be2\u65f6\u95f4\u8303\u56f4\u3002</li> <li>\u5355\u51fb <code>\u4fdd\u5b58\u5230\u4eea\u8868\u677f</code> \u5c06\u5206\u6790\u4fdd\u5b58\u5230\u4eea\u8868\u677f\uff0c\u8f93\u5165\u540d\u79f0\u3001\u63cf\u8ff0\uff0c\u5e76\u9009\u62e9\u4eea\u8868\u677f\u548c\u5de5\u4f5c\u8868\u3002</li> </ol>"},{"location":"analytics/explore/funnel/#_5","title":"\u793a\u4f8b","text":"<p>\u8ba1\u7b97\u8fc7\u53bb\u4e00\u5468\u5185\u5728 Web \u4e0a\u4ece\u6253\u5f00\u7f51\u7ad9 -&gt; \u67e5\u770b\u4ea7\u54c1\u8be6\u60c5\u9875 -&gt; \u6dfb\u52a0\u5230\u8d2d\u7269\u8f66 -&gt; \u652f\u4ed8\u7684\u7528\u6237\u7684\u8f6c\u5316\u7387\u3002</p> <ol> <li>\u9009\u62e9 \u6f0f\u6597\u5206\u6790 \u6a21\u578b\u3002</li> <li>\u9009\u62e9 <code>\u7528\u6237\u6570\u91cf</code> \u4f5c\u4e3a\u6307\u6807\u3002</li> <li>\u5728\u5de6\u4fa7 \u5b9a\u4e49\u6f0f\u6597 \u533a\u57df\uff0c\u9009\u62e9 <code>\u5929</code> \u4f5c\u4e3a\u6f0f\u6597\u7a97\u53e3\u3002</li> <li>\u9009\u62e9 <code>_session_start</code>\u3001<code>view_item</code>\u3001<code>add_to_cart</code>\u3001<code>purchase</code> \u4f5c\u4e3a\u6f0f\u6597\u4e8b\u4ef6\u3002</li> <li>\u5728\u53f3\u4fa7 \u8fc7\u6ee4\u5668 \u533a\u57df\u914d\u7f6e\u5168\u5c40\u8fc7\u6ee4\u5668\uff1a<ul> <li>\u9009\u62e9 <code>other.platform</code> \u4f5c\u4e3a\u8fc7\u6ee4\u5668\u5c5e\u6027\u3002</li> <li>\u64cd\u4f5c\uff1a<code>=</code></li> <li>\u503c\uff1a<code>Web</code></li> </ul> </li> <li>\u70b9\u51fb \u67e5\u8be2\u3002</li> </ol> <p>\u6240\u6709\u914d\u7f6e\u5982\u4e0b\u56fe\u6240\u793a\uff1a </p>"},{"location":"analytics/explore/path/","title":"\u8def\u5f84\u5206\u6790","text":"<p>\u8def\u5f84\u5206\u6790\u662f\u6307\u5bf9\u4e00\u7ec4\u7528\u6237\u7684\u884c\u4e3a\u6309\u987a\u5e8f\u6392\u5e8f\u540e\u7684\u5206\u5e03\u60c5\u51b5\u3002\u4e3b\u8981\u7528\u4e8e\u5206\u6790\u548c\u8bb0\u5f55\u7528\u6237\u5728\u9875\u9762\u6216\u4e8b\u4ef6\u4e4b\u95f4\u7684\u5206\u5e03\u6bd4\u4f8b\u3002\u4f8b\u5982\uff0c\u67e5\u770b\u6709\u591a\u5c11\u5ba2\u6237\u5728\u6253\u5f00\u5e94\u7528\u540e\u70b9\u51fb\u4e86\u4ea7\u54c1\u5217\u8868\uff0c\u6709\u591a\u5c11\u5ba2\u6237\u5728\u8bbf\u95ee\u843d\u5730\u9875\u540e\u67e5\u770b\u4e86\u4ea7\u54c1\u8be6\u60c5\u9875\u9762\uff0c\u6709\u591a\u5c11\u5ba2\u6237\u641c\u7d22\u4e86\u4ea7\u54c1\u7b49\u3002</p>"},{"location":"analytics/explore/path/#_2","title":"\u7528\u4f8b","text":"<p>\u8def\u5f84\u5206\u6790\u901a\u5e38\u7528\u4e8e\u5206\u6790\u7528\u6237\u7684\u5bfc\u822a\u6a21\u5f0f\uff0c\u4f8b\u5982\uff1a</p> <ul> <li>\u5206\u6790\u7528\u6237\u8fdb\u5165\u4ea7\u54c1\u6216\u5230\u8fbe\u843d\u5730\u9875\u540e\u7684\u884c\u4e3a\u8def\u5f84\u5206\u5e03\uff1b</li> <li>\u5206\u6790\u7279\u5b9a\u6d41\u7a0b\uff08\u5982\u6ce8\u518c\u3001\u767b\u5f55\u3001\u652f\u4ed8\u7b49\uff09\u6216\u4ea7\u54c1\u6a21\u5757\u5185\u7684\u8f6c\u6362\u6b65\u9aa4\u6216\u5c4f\u5e55\u3002</li> </ul>"},{"location":"analytics/explore/path/#_3","title":"\u5173\u952e\u6982\u5ff5","text":"<ul> <li>\u6307\u6807\uff1a\u7528\u4e8e\u8def\u5f84\u5206\u6790\u7684\u5b9e\u4f53\uff0c\u4f8b\u5982\u4e8b\u4ef6\u6570\u91cf\u6216\u7528\u6237\u6570\u91cf\u3002</li> <li>\u4f1a\u8bdd\uff1a\u8def\u5f84\u5206\u6790\u4f1a\u8bdd\u7684\u957f\u5ea6\uff0c\u53ea\u6709\u5728\u4f1a\u8bdd\u5185\u53d1\u751f\u7684\u4e8b\u4ef6\u624d\u80fd\u5f62\u6210\u4e00\u4e2a\u8def\u5f84\uff0c\u4e0d\u540c\u8def\u5f84\u4e2d\u53d1\u751f\u7684\u4e8b\u4ef6\u5c06\u4e0d\u4f1a\u8ba1\u5165\u76f8\u540c\u7684\u8def\u5f84\u3002</li> <li>\u8282\u70b9\uff1a\u8def\u5f84\u4e2d\u7684\u4e00\u4e2a\u8282\u70b9\u53ef\u4ee5\u662f\u4e8b\u4ef6\u3001\u5c4f\u5e55\u6216\u9875\u9762\u3002</li> <li>\u8d77\u59cb\u8282\u70b9\uff1a\u8def\u5f84\u5206\u6790\u7684\u8d77\u59cb\u70b9\u3002</li> </ul>"},{"location":"analytics/explore/path/#_4","title":"\u5982\u4f55\u4f7f\u7528","text":"<ol> <li>\u9009\u62e9\u6307\u6807\u7c7b\u578b\u3002<ol> <li>\u7528\u6237\u6570\u91cf\uff1a\u8ba1\u7b97\u901a\u8fc7\u6574\u4e2a\u8def\u5f84\u7684\u4e0d\u540c\u7528\u6237\u6570\u91cf\u3002</li> <li>\u4e8b\u4ef6\u6570\u91cf\uff1a\u8ba1\u7b97\u6574\u4e2a\u8def\u5f84\u5b8c\u6210\u7684\u6b21\u6570\u3002</li> </ol> </li> <li>\u914d\u7f6e\u4f1a\u8bdd\u3002<ol> <li>\u4f1a\u8bdd ID\uff1a\u4f7f\u7528 SDK \u751f\u6210\u7684\u4f1a\u8bdd\u4f5c\u4e3a\u8def\u5f84\u5206\u6790\u7684\u4f1a\u8bdd\uff0c\u53ea\u6709\u5728\u76f8\u540c\u4f1a\u8bdd ID \u4e0b\u53d1\u751f\u7684\u4e8b\u4ef6\u624d\u80fd\u8ba1\u5165\u8def\u5f84\u3002</li> <li>\u81ea\u5b9a\u4e49\uff1a\u60a8\u53ef\u4ee5\u5b9a\u4e49\u4efb\u4f55\u6301\u7eed\u65f6\u95f4\u4f5c\u4e3a\u6f0f\u6597\u7a97\u53e3\u3002</li> </ol> </li> <li>\u6307\u5b9a\u8def\u5f84\u7684\u8282\u70b9\u7c7b\u578b\u3002<ol> <li>\u4e8b\u4ef6\u540d\u79f0\uff1a\u5c06\u4e8b\u4ef6\u7528\u4f5c\u8282\u70b9\uff0c\u4f8b\u5982 _page_view\u3001screen_view\u3002</li> <li>\u5c4f\u5e55\u540d\u79f0\uff1a\u4f7f\u7528\u5e94\u7528\u4e2d\u5c4f\u5e55\u7684\u540d\u79f0\u4f5c\u4e3a\u8282\u70b9\u3002</li> <li>\u5c4f\u5e55 ID\uff1a\u4f7f\u7528\u5e94\u7528\u4e2d\u5c4f\u5e55\u7684\u7c7b\u522b ID \u4f5c\u4e3a\u8282\u70b9\u3002</li> <li>\u9875\u9762\u6807\u9898\uff1a\u5c06\u9875\u9762\u6807\u9898\u7528\u4f5c\u8282\u70b9\u3002</li> <li>\u9875\u9762 URL\uff1a\u5c06\u9875\u9762 URL \u7528\u4f5c\u8282\u70b9\u3002</li> </ol> </li> <li>\u8bbe\u7f6e\u8d77\u59cb\u8282\u70b9\u3002\u8d77\u59cb\u8282\u70b9\u5c06\u662f\u8def\u5f84\u7684\u7b2c\u4e00\u4e2a\u8282\u70b9\uff0c\u53ea\u6709\u5728\u8be5\u8282\u70b9\u4e4b\u540e\u53d1\u751f\u7684\u4e8b\u4ef6\u624d\u4f1a\u8ba1\u5165\u8def\u5f84\u3002</li> <li>\u9009\u62e9\u8981\u53c2\u4e0e\u5206\u6790\u7684\u8282\u70b9\u3002\u53ea\u6709\u9009\u5b9a\u7684\u8282\u70b9\u624d\u4f1a\u5728\u8def\u5f84\u4e2d\u7a81\u51fa\u663e\u793a\u3002\u60a8\u6700\u591a\u53ef\u4ee5\u6dfb\u52a0 10 \u4e2a\u8282\u70b9\u3002</li> <li>\u6307\u5b9a\u662f\u5426\u8981\u5305\u542b\u8def\u5f84\u4e2d\u7684\u5176\u4ed6\u8282\u70b9\uff0c\u5982\u679c\u542f\u7528\u6b64\u9009\u9879\uff0c\u6240\u6709\u672a\u9009\u5b9a\u7684\u8282\u70b9\u5c06\u88ab\u8ba1\u5165\u5e76\u663e\u793a\u4e3a\u8def\u5f84\u4e2d\u7684 \"\u5176\u4ed6\"\u3002</li> <li>\u6307\u5b9a\u662f\u5426\u8981\u5408\u5e76\u8fde\u7eed\u8282\u70b9\uff0c\u5982\u679c\u542f\u7528\u6b64\u9009\u9879\uff0c\u540c\u4e00\u4f1a\u8bdd\u4e2d\u8fde\u7eed\u91cd\u590d\u7684\u8282\u70b9\u5c06\u88ab\u5408\u5e76\u4e3a\u5355\u4e2a\u8282\u70b9\u3002</li> <li>\u5982\u6709\u9700\u8981\uff0c\u901a\u8fc7\u9009\u62e9\u4e8b\u4ef6\u53c2\u6570\u6216\u7528\u6237\u5c5e\u6027\u914d\u7f6e\u5168\u5c40\u8fc7\u6ee4\u5668\u3002\u4e0e\u4e8b\u4ef6\u8fc7\u6ee4\u5668\u7c7b\u4f3c\uff0c\u60a8\u53ef\u4ee5\u6dfb\u52a0\u591a\u4e2a\u5168\u5c40\u8fc7\u6ee4\u5668\u5e76\u914d\u7f6e\u8fc7\u6ee4\u5668\u5173\u7cfb\u3002</li> <li>\u70b9\u51fb <code>\u67e5\u8be2</code> \u6309\u94ae\u5f00\u59cb\u5206\u6790\u3002</li> <li>\u5982\u6709\u9700\u8981\uff0c\u8c03\u6574\u67e5\u8be2\u65f6\u95f4\u8303\u56f4\u3002</li> <li>\u70b9\u51fb <code>\u4fdd\u5b58\u5230\u4eea\u8868\u677f</code> \u5c06\u5206\u6790\u4fdd\u5b58\u5230\u4eea\u8868\u677f\uff0c\u8f93\u5165\u540d\u79f0\u3001\u63cf\u8ff0\uff0c\u5e76\u9009\u62e9\u4eea\u8868\u677f\u548c\u5de5\u4f5c\u8868\u3002</li> </ol>"},{"location":"analytics/explore/path/#_5","title":"\u793a\u4f8b","text":"<p>\u8ba1\u7b97 Web \u4e0a\u5ba2\u6237\u5728\u4f1a\u8bdd\u5f00\u59cb\u540e\u89e6\u53d1\u7684\u4e8b\u4ef6\u7684\u5206\u5e03\uff0c\u91cd\u70b9\u5173\u6ce8\u767b\u5f55\u3001\u6ce8\u518c\u3001\u4ea7\u54c1\u66dd\u5149\u3001\u641c\u7d22\u3001\u67e5\u770b\u4ea7\u54c1\u3001\u6dfb\u52a0\u5230\u8d2d\u7269\u8f66\u3001\u5f00\u59cb\u7ed3\u8d26\u548c\u4e0b\u8ba2\u5355\uff0c\u4ee5\u53ca\u6240\u6709\u5176\u4ed6\u4e8b\u4ef6\u3002</p> <ol> <li>\u9009\u62e9 \u8def\u5f84\u5206\u6790 \u6a21\u578b\u3002</li> <li>\u9009\u62e9 <code>\u7528\u6237\u6570\u91cf</code> \u4f5c\u4e3a\u6307\u6807\u3002</li> <li>\u9009\u62e9 <code>\u4f1a\u8bdd ID</code> \u4f5c\u4e3a\u4f1a\u8bdd\u5b9a\u4e49\u3002</li> <li>\u9009\u62e9 <code>\u4e8b\u4ef6</code> \u4f5c\u4e3a\u8282\u70b9\u7c7b\u578b\u3002</li> <li>\u5728\u5de6\u4fa7 \u9009\u62e9\u8282\u70b9 \u533a\u57df\uff0c\u9009\u62e9 <code>_session_start</code> \u4f5c\u4e3a\u8d77\u59cb\u8282\u70b9\u3002</li> <li>\u4f9d\u6b21\u9009\u62e9 <code>sign_up</code>\u3001<code>login</code>\u3001<code>product_exposure</code>\u3001<code>search</code>\u3001<code>view_item</code>\u3001<code>add_to_cart</code>\u3001<code>begin_checkout</code>\u3001<code>purchase</code> \u4f5c\u4e3a\u8def\u5f84\u8282\u70b9\u3002</li> <li>\u542f\u7528 \u5305\u62ec\u5176\u4ed6\u4e8b\u4ef6\u3002</li> <li>\u542f\u7528 \u5408\u5e76\u8fde\u7eed\u4e8b\u4ef6\u3002</li> <li>\u5728\u53f3\u4fa7 \u8fc7\u6ee4\u5668 \u533a\u57df\u914d\u7f6e\u5168\u5c40\u8fc7\u6ee4\u5668\uff1a<ul> <li>\u9009\u62e9 <code>other.platform</code> \u4f5c\u4e3a\u8fc7\u6ee4\u5668\u5c5e\u6027\u3002</li> <li>\u64cd\u4f5c\uff1a<code>=</code></li> <li>\u503c\uff1a<code>Web</code></li> </ul> </li> <li>\u70b9\u51fb \u67e5\u8be2\u3002</li> </ol> <p>\u6240\u6709\u914d\u7f6e\u5982\u4e0b\u56fe\u6240\u793a\uff1a </p>"},{"location":"analytics/explore/retention/","title":"\u7528\u6237\u7559\u5b58\u5206\u6790","text":"<p>\u7559\u5b58\u7387\u662f\u8bc4\u4f30\u5e94\u7528\u6216\u7f51\u7ad9\u7528\u6237\u7c98\u6027\u7684\u5e38\u89c1\u6307\u6807\u3002\u7559\u5b58\u610f\u5473\u7740\u7528\u6237\u5728\u4f7f\u7528\u5e94\u7528\u540e\u7684\u4e00\u6bb5\u65f6\u95f4\u5185\u518d\u6b21\u8fd4\u56de\u60a8\u7684\u5e94\u7528\u6216\u7f51\u7ad9\u3002\u9664\u4e86\u9ed8\u8ba4\u4eea\u8868\u677f\u4e2d\u7684\u6807\u51c6\u7559\u5b58\u6307\u6807\u5916\uff0c\u7559\u5b58\u5206\u6790\u6a21\u5757\u5141\u8bb8\u60a8\u9009\u62e9\u8d77\u59cb\u4e8b\u4ef6\u548c\u8fd4\u56de\u4e8b\u4ef6\u6765\u81ea\u5b9a\u4e49\u76ee\u6807\u7528\u6237\u7ec4\u7684\u7559\u5b58\u7387\u6216\u6d41\u5931\u7387\u3002</p>"},{"location":"analytics/explore/retention/#_2","title":"\u7528\u4f8b","text":"<p>\u7559\u5b58\u5206\u6790\u901a\u5e38\u7528\u4e8e\u4e86\u89e3\u60a8\u7684\u5e94\u7528\u6216\u7f51\u7ad9\u5728\u4fdd\u7559\u7528\u6237\u65b9\u9762\u7684\u8868\u73b0\uff0c\u4f8b\u5982\uff1a</p> <ul> <li>\u8ba1\u7b97\u65b0\u7528\u6237\u7559\u5b58\u7387\u4ee5\u8861\u91cf\u6d41\u91cf\u6e20\u9053\u7684\u6548\u679c\uff1b</li> <li>\u8ba1\u7b97\u6d3b\u8dc3\u7528\u6237\u7559\u5b58\u7387\u4ee5\u8861\u91cf\u4fc3\u9500\u6d3b\u52a8\u7684\u6548\u679c\uff1b</li> <li>\u6bd4\u8f83\u4e0d\u540c\u7528\u6237\u7ec4\u7684\u590d\u8d2d\u7387\uff0c\u4ee5\u8bc6\u522b\u6700\u6709\u4ef7\u503c\u7684\u5ba2\u6237\u3002</li> </ul>"},{"location":"analytics/explore/retention/#_3","title":"\u5173\u952e\u6982\u5ff5\uff1a","text":"<ul> <li>\u5f00\u59cb\uff08Start\uff09\uff1a\u8868\u793a\u7528\u6237\u5f00\u59cb\u4f7f\u7528\u5e94\u7528\u6216\u7f51\u7ad9\u7684\u4e8b\u4ef6\u3002</li> <li>\u91cd\u8bbf\uff08Revisit\uff09\uff1a\u8868\u793a\u7528\u6237\u8fd4\u56de\u5e94\u7528\u6216\u7f51\u7ad9\u7684\u4e8b\u4ef6\u3002</li> <li> <p>\u5173\u8054\u53c2\u6570\uff08Associated parameter\uff09\uff1a\u7528\u4e8e\u5728\u8d77\u59cb\u4e8b\u4ef6\u548c\u8fd4\u56de\u4e8b\u4ef6\u4e4b\u95f4\u4fdd\u6301\u53c2\u6570\u503c\u4e00\u81f4\u7684\u5173\u8054\u53c2\u6570\u3002\u4f8b\u5982\uff0c\u4fc3\u9500\u6d3b\u52a8\u540d\u79f0\u3001\u9875\u9762\u6807\u9898\u6216\u4ea7\u54c1\u6807\u9898\u5fc5\u987b\u662f\u8d77\u59cb\u4e8b\u4ef6\u548c\u8fd4\u56de\u4e8b\u4ef6\u7684\u76f8\u540c\u503c\u3002</p> <p>Note</p> <p>\u4e24\u4e2a\u5173\u8054\u53c2\u6570\u5fc5\u987b\u90fd\u6709\u503c\uff0c\u4e14\u503c\u7c7b\u578b\u5fc5\u987b\u4e00\u81f4\u3002</p> </li> <li> <p>\u7559\u5b58\u7387\uff08Retention Rate\uff09\uff1a\u7559\u5b58\u7387 % = \u5728\u8d77\u59cb\u65e5\u671f\uff08\u6216\u5468\uff0c\u6216\u6708\uff0c\u53d6\u51b3\u4e8e\u9009\u62e9\u7684\u7c92\u5ea6\uff09\u6267\u884c\u6307\u5b9a\u8d77\u59cb\u4e8b\u4ef6\u7684\u7528\u6237\u6570\u91cf / \u5728\u8fd4\u56de\u65e5\u671f\uff08\u6216\u5468\uff0c\u6216\u6708\uff09\u6267\u884c\u6307\u5b9a\u8fd4\u56de\u4e8b\u4ef6\u7684\u76f8\u540c\u7528\u6237\u6570\u91cf</p> </li> </ul>"},{"location":"analytics/explore/retention/#_4","title":"\u5982\u4f55\u4f7f\u7528","text":"<ol> <li>\u9009\u62e9\u4e00\u4e2a\u5f00\u59cb\uff08Start\uff09\u4e8b\u4ef6\uff0c\u60a8\u53ef\u4ee5\u901a\u8fc7\u5355\u51fb  \u56fe\u6807\u4e3a\u4e8b\u4ef6\u6dfb\u52a0\u7b5b\u9009\u5668\u3002</li> <li>\u9009\u62e9\u4e00\u4e2a\u91cd\u8bbf\uff08Revisit\uff09\u4e8b\u4ef6\uff0c\u60a8\u53ef\u4ee5\u901a\u8fc7\u5355\u51fb  \u56fe\u6807\u4e3a\u4e8b\u4ef6\u6dfb\u52a0\u7b5b\u9009\u5668\u3002</li> <li>\u5982\u679c\u9700\u8981\u5173\u8054\u53c2\u6570\uff0c\u53ef\u4ee5\u5207\u6362\u6253\u5f00 \u5173\u8054\u53c2\u6570\uff08Associate parameter\uff09\uff0c\u7136\u540e\u4e3a\u8d77\u59cb\u4e8b\u4ef6\u548c\u8fd4\u56de\u4e8b\u4ef6\u9009\u62e9\u53c2\u6570\u3002</li> <li>\u91cd\u590d\u4e0a\u8ff0\u6b65\u9aa4\u4ee5\u6dfb\u52a0\u66f4\u591a\u6307\u6807\uff08\u5982\u679c\u9700\u8981\uff09\u3002</li> <li>\u5982\u679c\u9700\u8981\uff0c\u901a\u8fc7\u9009\u62e9\u4e8b\u4ef6\u53c2\u6570\u6216\u7528\u6237\u5c5e\u6027\u914d\u7f6e\u5168\u5c40\u8fc7\u6ee4\u5668\u3002\u4e0e\u4e8b\u4ef6\u8fc7\u6ee4\u5668\u7c7b\u4f3c\uff0c\u60a8\u53ef\u4ee5\u6dfb\u52a0\u591a\u4e2a\u5168\u5c40\u8fc7\u6ee4\u5668\u5e76\u914d\u7f6e\u8fc7\u6ee4\u5668\u5173\u7cfb\u3002</li> <li>\u5982\u679c\u9700\u8981\uff0c\u901a\u8fc7\u9009\u62e9\u4e8b\u4ef6\u53c2\u6570\u6216\u7528\u6237\u5c5e\u6027\u914d\u7f6e\u5206\u7ec4\u3002</li> <li>\u5355\u51fb \"\u67e5\u8be2\" \u6309\u94ae\u5f00\u59cb\u5206\u6790\u3002</li> <li>\u8c03\u6574\u6570\u636e\u7c92\u5ea6\uff0c\u4f8b\u5982\u6bcf\u5929\u3001\u6bcf\u5468\u3001\u6bcf\u6708\uff0c\u5982\u679c\u9700\u8981\u7684\u8bdd\u3002</li> <li> <p>\u6307\u5b9a\u67e5\u8be2\u65f6\u95f4\u8303\u56f4\u3002</p> <p>Note</p> <p>\u8d77\u59cb\u65f6\u95f4\u5c06\u662f\u7559\u5b58\u5206\u6790\u7684\u8d77\u70b9\uff08\u5373\uff0c\u7b2c 0 \u5929\uff09\uff0c\u7559\u5b58\u7387 % \u5c06\u6839\u636e\u5728\u8d77\u59cb\u65e5\u671f\uff08\u6216\u5468\uff0c\u6216\u6708\uff0c\u53d6\u51b3\u4e8e\u9009\u62e9\u7684\u7c92\u5ea6\uff09\u6267\u884c\u6307\u5b9a\u8d77\u59cb\u4e8b\u4ef6\u7684\u7528\u6237\u6570\u91cf\u8ba1\u7b97\u3002</p> </li> <li> <p>\u5355\u51fb \"\u4fdd\u5b58\u5230\u4eea\u8868\u677f\" \u4ee5\u5c06\u5206\u6790\u4fdd\u5b58\u5230\u4eea\u8868\u677f\uff0c\u8f93\u5165\u540d\u79f0\u3001\u63cf\u8ff0\uff0c\u5e76\u9009\u62e9\u4eea\u8868\u677f\u548c\u5de5\u4f5c\u8868\u3002</p> </li> </ol>"},{"location":"analytics/explore/retention/#_5","title":"\u793a\u4f8b\uff1a","text":"<p>\u8ba1\u7b97\u4e00\u5468\u524d\u4ece\u4e0d\u540c Android \u5e94\u7528\u5e02\u573a\u4e0b\u8f7d\u7684\u65b0\u5ba2\u6237\u7684\u7559\u5b58\u7387\u3002</p> <ol> <li>\u9009\u62e9 \u7528\u6237\u7559\u5b58\u5206\u6790 \u6a21\u578b\u3002</li> <li>\u9009\u62e9 <code>_first_open</code> \u4f5c\u4e3a\u5f00\u59cb\u4e8b\u4ef6\u3002</li> <li>\u9009\u62e9 <code>_app_start</code> \u4f5c\u4e3a\u91cd\u8bbf\u4e8b\u4ef6\u3002</li> <li>\u5728\u53f3\u4fa7 \u8fc7\u6ee4\u5668 \u533a\u57df\u914d\u7f6e\u5168\u5c40\u8fc7\u6ee4\u5668\uff1a<ul> <li>\u9009\u62e9 <code>other.platform</code> \u4f5c\u4e3a\u8fc7\u6ee4\u5668\u5c5e\u6027\u3002</li> <li>\u64cd\u4f5c\uff1a<code>=</code></li> <li>\u503c\uff1a<code>Android</code></li> </ul> </li> <li>\u5728\u53f3\u4fa7 \u5c5e\u6027\u5206\u7ec4 \u533a\u57df\uff0c\u901a\u8fc7\u9009\u62e9 <code>app_info.instal_source</code> \u914d\u7f6e\u5206\u7ec4\u3002</li> <li>\u5355\u51fb \u67e5\u8be2\u3002</li> </ol> <p>\u6240\u6709\u914d\u7f6e\u5982\u4e0b\u56fe\u6240\u793a\uff1a </p>"},{"location":"deployment/","title":"\u6982\u8ff0","text":"<p>\u5728\u542f\u52a8\u89e3\u51b3\u65b9\u6848\u4e4b\u524d\uff0c\u8bf7\u67e5\u770b\u672c\u6307\u5357\u4e2d\u8ba8\u8bba\u7684\u67b6\u6784\u3001\u652f\u6301\u7684\u533a\u57df\u548c\u5176\u4ed6\u6ce8\u610f\u4e8b\u9879\u3002\u6309\u7167\u672c\u90e8\u5206\u7684\u9010\u6b65\u8bf4\u660e\u914d\u7f6e\u548c\u90e8\u7f72\u89e3\u51b3\u65b9\u6848\u5230\u60a8\u7684\u8d26\u6237\u4e2d\u3002</p>"},{"location":"deployment/#_2","title":"\u5148\u51b3\u6761\u4ef6","text":"<p>\u8bf7\u67e5\u770b\u6240\u6709\u6ce8\u610f\u4e8b\u9879\uff0c\u5e76\u786e\u4fdd\u60a8\u5728\u8981\u90e8\u7f72\u89e3\u51b3\u65b9\u6848\u7684\u76ee\u6807\u533a\u57df\u5177\u5907\u4ee5\u4e0b\u6761\u4ef6\uff1a</p> <ul> <li>\u81f3\u5c11\u6709\u4e24\u4e2a\u7a7a\u95f2\u7684 S3 \u5b58\u50a8\u6876\u3002</li> </ul>"},{"location":"deployment/#aws","title":"\u5728 AWS \u533a\u57df\u4e2d\u90e8\u7f72","text":"<p>\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u70b9\u51fb\u6d41\u5206\u6790 \u63d0\u4f9b\u4e24\u79cd\u65b9\u5f0f\u8fdb\u884c\u8eab\u4efd\u9a8c\u8bc1\u5e76\u767b\u5f55\u5230\u89e3\u51b3\u65b9\u6848\u7684 Web \u63a7\u5236\u53f0\u3002\u5bf9\u4e8e\u67d0\u4e9b AWS \u533a\u57df\uff0cCognito \u7528\u6237\u6c60\u4e0d\u53ef\u7528\uff08\u4f8b\u5982\uff0c\u9999\u6e2f\uff09\uff0c\u60a8\u5fc5\u987b\u4f7f\u7528 OpenID Connect \u6765\u542f\u52a8\u89e3\u51b3\u65b9\u6848\u3002</p> <ul> <li>\u4f7f\u7528 Cognito \u7528\u6237\u6c60\u542f\u52a8\u3002\uff08\u5f00\u59cb\u6700\u5feb\u7684\u65b9\u5f0f\uff0c\u9002\u7528\u4e8e\u5927\u591a\u6570 AWS \u533a\u57df\u3002\uff09</li> <li>\u4f7f\u7528 OpenID Connect \u542f\u52a8\u3002</li> </ul> <p>\u6709\u5173\u652f\u6301\u7684\u533a\u57df\u7684\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605\u533a\u57df\u90e8\u7f72\u3002</p>"},{"location":"deployment/#aws_1","title":"\u5728 AWS \u4e2d\u56fd\u533a\u57df\u4e2d\u90e8\u7f72","text":"<p>AWS \u4e2d\u56fd\u533a\u57df\u4e0d\u652f\u6301 Cognito \u7528\u6237\u6c60\u3002\u60a8\u5fc5\u987b\u4f7f\u7528 OpenID Connect \u6765\u542f\u52a8\u89e3\u51b3\u65b9\u6848\u3002</p> <ul> <li>\u4f7f\u7528 OpenID Connect \u542f\u52a8</li> </ul>"},{"location":"deployment/#amazon-vpc","title":"\u5728 Amazon VPC \u4e2d\u90e8\u7f72","text":"<p>\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u70b9\u51fb\u6d41\u5206\u6790 \u53ef\u4ee5\u90e8\u7f72\u5230 Amazon VPC \u4e2d\uff0c\u5141\u8bb8\u5728\u4e0d\u79bb\u5f00\u60a8\u7684 VPC \u7f51\u7edc\u7684\u60c5\u51b5\u4e0b\u8bbf\u95ee Web \u63a7\u5236\u53f0\u3002</p> <ul> <li>\u5728 VPC \u4e2d\u90e8\u7f72</li> </ul>"},{"location":"deployment/tls-note/","title":"Tls note","text":"<p>\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u6b64\u90e8\u7f72\u5728CloudFront\u4e2d\u4f7f\u7528TLSv1.0\u548cTLSv1.1\u3002\u4f46\u662f\uff0c\u6211\u4eec\u5efa\u8bae\u60a8\u624b\u52a8\u914d\u7f6eCloudFront\u4ee5\u4f7f\u7528\u66f4\u5b89\u5168\u7684TLSv1.2/TLSv1.3\uff0c\u5e76\u7533\u8bf7\u8bc1\u4e66\u548c\u81ea\u5b9a\u4e49\u57df\u6765\u542f\u7528\u6b64\u529f\u80fd\u3002\u6211\u4eec\u5f3a\u70c8\u5efa\u8bae\u60a8\u6839\u636e\u4ee5\u4e0b\u5efa\u8bae\u66f4\u65b0\u60a8\u7684TLS\u914d\u7f6e\u548c\u5bc6\u7801\u5957\u4ef6\u9009\u62e9\uff1a</p> <ul> <li>\u4f20\u8f93\u5c42\u5b89\u5168\u534f\u8bae\uff1a\u5347\u7ea7\u5230TLSv1.2\u6216\u66f4\u9ad8\u7248\u672c</li> <li>\u5bc6\u94a5\u4ea4\u6362\uff1aECDHE</li> <li>\u5757\u5bc6\u7801\u64cd\u4f5c\u6a21\u5f0f\uff1aGCM</li> <li>\u8eab\u4efd\u9a8c\u8bc1\uff1aECDSA</li> <li>\u52a0\u5bc6\u5bc6\u7801\uff1aAES256</li> <li>\u6d88\u606f\u9274\u522b\uff1aSHA\uff08256/384/\u9664SHA1\u4ee5\u5916\u7684\u4efb\u4f55\u54c8\u5e0c\u51fd\u6570\uff09</li> </ul> <p>\u4f8b\u5982\uff0cTLSv1.2_2021 \u53ef\u4ee5\u6ee1\u8db3\u4e0a\u8ff0\u5efa\u8bae\u3002</p>"},{"location":"deployment/with-cognito/","title":"\u4f7f\u7528 Cognito \u7528\u6237\u6c60\u542f\u52a8","text":"<p>\u90e8\u7f72\u6240\u9700\u65f6\u95f4\uff1a\u5927\u7ea6 15 \u5206\u949f</p>"},{"location":"deployment/with-cognito/#_1","title":"\u90e8\u7f72\u6982\u8ff0","text":"<p>\u6309\u7167\u4ee5\u4e0b\u6b65\u9aa4\u5728 AWS \u4e0a\u90e8\u7f72\u6b64\u89e3\u51b3\u65b9\u6848\u3002</p> <p>\u6b65\u9aa4 1. \u542f\u52a8\u5806\u6808</p> <p>\u6b65\u9aa4 2. \u542f\u52a8 Web \u63a7\u5236\u53f0</p>"},{"location":"deployment/with-cognito/#1","title":"\u6b65\u9aa4 1. \u542f\u52a8\u5806\u6808","text":"<p>\u6b64 AWS CloudFormation \u6a21\u677f\u4f1a\u5728 AWS \u4e0a\u81ea\u52a8\u90e8\u7f72 \u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u70b9\u51fb\u6d41\u5206\u6790 \u89e3\u51b3\u65b9\u6848\u3002</p> <ol> <li> <p>\u767b\u5f55\u5230 AWS \u7ba1\u7406\u63a7\u5236\u53f0\uff0c\u5e76\u9009\u62e9\u542f\u52a8 AWS CloudFormation \u6a21\u677f\u7684\u6309\u94ae\u3002</p> \u5728 AWS \u63a7\u5236\u53f0\u4e2d\u542f\u52a8 \u542f\u52a8\u5806\u6808 \u542f\u52a8\u5177\u6709\u81ea\u5b9a\u4e49\u57df\u7684\u5806\u6808 </li> <li> <p>\u767b\u5f55\u5230\u63a7\u5236\u53f0\u540e\uff0c\u6a21\u677f\u4f1a\u5728\u9ed8\u8ba4\u533a\u57df\u4e2d\u542f\u52a8\u3002\u82e5\u8981\u5728\u5176\u4ed6 AWS \u533a\u57df\u4e2d\u542f\u52a8 \u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u70b9\u51fb\u6d41\u5206\u6790 \u89e3\u51b3\u65b9\u6848\uff0c\u8bf7\u4f7f\u7528\u63a7\u5236\u53f0\u5bfc\u822a\u680f\u4e2d\u7684\u533a\u57df\u9009\u62e9\u5668\u3002</p> </li> <li> <p>\u5728 \u521b\u5efa\u5806\u6808 \u9875\u9762\u4e0a\uff0c\u9a8c\u8bc1 Amazon S3 URL \u6587\u672c\u6846\u4e2d\u663e\u793a\u7684\u6b63\u786e\u6a21\u677f URL\uff0c\u5e76\u9009\u62e9 \u4e0b\u4e00\u6b65\u3002</p> </li> <li> <p>\u5728 \u6307\u5b9a\u5806\u6808\u8be6\u7ec6\u4fe1\u606f \u9875\u9762\u4e0a\uff0c\u4e3a\u60a8\u7684\u89e3\u51b3\u65b9\u6848\u5806\u6808\u6307\u5b9a\u4e00\u4e2a\u540d\u79f0\u3002\u6709\u5173\u540d\u79f0\u5b57\u7b26\u9650\u5236\u7684\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605 AWS \u8eab\u4efd\u548c\u8bbf\u95ee\u7ba1\u7406\u7528\u6237\u6307\u5357 \u4e2d\u7684 IAM \u548c AWS STS \u914d\u989d\u3002</p> </li> <li> <p>\u5728 \u53c2\u6570 \u4e0b\uff0c\u67e5\u770b\u6a21\u677f\u7684\u53c2\u6570\uff0c\u5e76\u6839\u636e\u9700\u8981\u8fdb\u884c\u4fee\u6539\u3002</p> <ul> <li> <p>\u6b64\u89e3\u51b3\u65b9\u6848\u4f7f\u7528\u4ee5\u4e0b\u53c2\u6570\uff1a</p> \u53c2\u6570 \u9ed8\u8ba4\u503c \u63cf\u8ff0 \u7ba1\u7406\u5458\u7528\u6237\u7535\u5b50\u90ae\u4ef6 <code>&lt;\u9700\u8981\u8f93\u5165&gt;</code> \u6307\u5b9a\u7ba1\u7406\u5458\u7684\u7535\u5b50\u90ae\u4ef6\u5730\u5740\u3002\u6b64\u7535\u5b50\u90ae\u4ef6\u5730\u5740\u5c06\u6536\u5230\u4e00\u4e2a\u4e34\u65f6\u5bc6\u7801\uff0c\u7528\u4e8e\u8bbf\u95ee \u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u70b9\u51fb\u6d41\u5206\u6790 Web \u63a7\u5236\u53f0\u3002\u60a8\u53ef\u4ee5\u5728\u542f\u52a8\u89e3\u51b3\u65b9\u6848\u540e\u76f4\u63a5\u5728\u914d\u7f6e\u7684 Cognito \u7528\u6237\u6c60\u4e2d\u521b\u5efa\u66f4\u591a\u7528\u6237\u3002 <p>\u91cd\u8981\u63d0\u793a</p> <p> \u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u6b64\u90e8\u7f72\u5728CloudFront\u4e2d\u4f7f\u7528TLSv1.0\u548cTLSv1.1\u3002\u4f46\u662f\uff0c\u6211\u4eec\u5efa\u8bae\u60a8\u624b\u52a8\u914d\u7f6eCloudFront\u4ee5\u4f7f\u7528\u66f4\u5b89\u5168\u7684TLSv1.2/TLSv1.3\uff0c\u5e76\u7533\u8bf7\u8bc1\u4e66\u548c\u81ea\u5b9a\u4e49\u57df\u6765\u542f\u7528\u6b64\u529f\u80fd\u3002\u6211\u4eec\u5f3a\u70c8\u5efa\u8bae\u60a8\u6839\u636e\u4ee5\u4e0b\u5efa\u8bae\u66f4\u65b0\u60a8\u7684TLS\u914d\u7f6e\u548c\u5bc6\u7801\u5957\u4ef6\u9009\u62e9\uff1a</p> <ul> <li>\u4f20\u8f93\u5c42\u5b89\u5168\u534f\u8bae\uff1a\u5347\u7ea7\u5230TLSv1.2\u6216\u66f4\u9ad8\u7248\u672c</li> <li>\u5bc6\u94a5\u4ea4\u6362\uff1aECDHE</li> <li>\u5757\u5bc6\u7801\u64cd\u4f5c\u6a21\u5f0f\uff1aGCM</li> <li>\u8eab\u4efd\u9a8c\u8bc1\uff1aECDSA</li> <li>\u52a0\u5bc6\u5bc6\u7801\uff1aAES256</li> <li>\u6d88\u606f\u9274\u522b\uff1aSHA\uff08256/384/\u9664SHA1\u4ee5\u5916\u7684\u4efb\u4f55\u54c8\u5e0c\u51fd\u6570\uff09</li> </ul> <p>\u4f8b\u5982\uff0cTLSv1.2_2021 \u53ef\u4ee5\u6ee1\u8db3\u4e0a\u8ff0\u5efa\u8bae\u3002 </p> </li> <li> <p>\u5982\u679c\u5728 AWS \u533a\u57df\u4e2d\u4f7f\u7528\u81ea\u5b9a\u4e49\u57df\u542f\u52a8\u89e3\u51b3\u65b9\u6848\uff0c\u5219\u6b64\u89e3\u51b3\u65b9\u6848\u4f7f\u7528\u4ee5\u4e0b\u989d\u5916\u53c2\u6570\uff1a</p> \u53c2\u6570 \u9ed8\u8ba4\u503c \u63cf\u8ff0 \u6258\u7ba1\u533a\u57df ID <code>&lt;\u9700\u8981\u8f93\u5165&gt;</code> \u9009\u62e9 Amazon Route 53 \u7684\u516c\u5171\u6258\u7ba1\u533a\u57df ID\u3002 \u6258\u7ba1\u533a\u57df\u540d\u79f0 <code>&lt;\u9700\u8981\u8f93\u5165&gt;</code> \u516c\u5171\u6258\u7ba1\u533a\u57df\u7684\u57df\u540d\uff0c\u4f8b\u5982 <code>example.com</code>\u3002 \u8bb0\u5f55\u540d\u79f0 <code>&lt;\u9700\u8981\u8f93\u5165&gt;</code> \u63a7\u5236\u53f0\u7684\u57df\u540d\u7684\u5b50\u540d\u79f0\uff08\u5728 R53 \u4e2d\u79f0\u4e3a\u8bb0\u5f55\u540d\u79f0\uff09\u3002\u4f8b\u5982\uff0c\u5982\u679c\u60a8\u8981\u4e3a\u63a7\u5236\u53f0\u4f7f\u7528\u81ea\u5b9a\u4e49\u57df <code>clickstream.example.com</code>\uff0c\u8bf7\u8f93\u5165 <code>clickstream</code>\u3002 </li> </ul> </li> <li> <p>\u9009\u62e9 \u4e0b\u4e00\u6b65\u3002</p> </li> <li> <p>\u5728 \u914d\u7f6e\u5806\u6808\u9009\u9879 \u9875\u9762\u4e0a\uff0c\u9009\u62e9 \u4e0b\u4e00\u6b65\u3002</p> </li> <li> <p>\u5728 \u5ba1\u6838 \u9875\u9762\u4e0a\uff0c\u5ba1\u6838\u5e76\u786e\u8ba4\u8bbe\u7f6e\u3002\u9009\u4e2d\u786e\u8ba4\u6a21\u677f\u5c06\u521b\u5efa AWS \u8eab\u4efd\u548c\u8bbf\u95ee\u7ba1\u7406 (IAM) \u8d44\u6e90\u7684\u6846\u3002</p> </li> <li> <p>\u9009\u62e9 \u521b\u5efa\u5806\u6808 \u4ee5\u90e8\u7f72\u5806\u6808\u3002</p> </li> </ol> <p>\u60a8\u53ef\u4ee5\u5728 AWS CloudFormation \u63a7\u5236\u53f0\u7684 \u72b6\u6001 \u5217\u4e2d\u67e5\u770b\u5806\u6808\u7684\u72b6\u6001\u3002\u5927\u7ea6 15 \u5206\u949f\u540e\uff0c\u60a8\u5e94\u8be5\u4f1a\u6536\u5230 CREATE_COMPLETE \u72b6\u6001\u3002</p>"},{"location":"deployment/with-cognito/#2-web","title":"\u6b65\u9aa4 2. \u542f\u52a8 Web \u63a7\u5236\u53f0","text":"<p>\u5806\u6808\u6210\u529f\u521b\u5efa\u540e\uff0c\u6b64\u89e3\u51b3\u65b9\u6848\u4f1a\u751f\u6210\u4e00\u4e2a CloudFront \u57df\u540d\uff0c\u7528\u4e8e\u8bbf\u95ee \u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u70b9\u51fb\u6d41\u5206\u6790 Web \u63a7\u5236\u53f0\u3002 \u4e0e\u6b64\u540c\u65f6\uff0c\u4e00\u4e2a\u81ea\u52a8\u751f\u6210\u7684\u4e34\u65f6\u5bc6\u7801\u5c06\u53d1\u9001\u5230\u60a8\u7684\u7535\u5b50\u90ae\u4ef6\u5730\u5740\u3002</p> <ol> <li> <p>\u767b\u5f55\u5230 AWS CloudFormation \u63a7\u5236\u53f0\u3002</p> </li> <li> <p>\u5728 \u5806\u6808 \u9875\u9762\u4e0a\uff0c\u9009\u62e9\u89e3\u51b3\u65b9\u6848\u7684\u5806\u6808\u3002</p> </li> <li> <p>\u9009\u62e9 \u8f93\u51fa \u9009\u9879\u5361\uff0c\u5e76\u8bb0\u5f55\u57df\u540d\u3002</p> </li> <li> <p>\u4f7f\u7528 Web \u6d4f\u89c8\u5668\u6253\u5f00 ControlPlaneURL\uff0c\u5e76\u5bfc\u822a\u5230\u767b\u5f55\u9875\u9762\u3002</p> </li> <li> <p>\u8f93\u5165 \u7535\u5b50\u90ae\u4ef6 \u548c\u4e34\u65f6\u5bc6\u7801\u3002</p> <p>a. \u8bbe\u7f6e\u65b0\u7684\u8d26\u6237\u5bc6\u7801\u3002</p> <p>b.\uff08\u53ef\u9009\uff09\u9a8c\u8bc1\u60a8\u7684\u7535\u5b50\u90ae\u4ef6\u5730\u5740\u4ee5\u8fdb\u884c\u8d26\u6237\u6062\u590d\u3002</p> </li> <li> <p>\u5b8c\u6210\u9a8c\u8bc1\u540e\uff0c\u7cfb\u7edf\u4f1a\u6253\u5f00 \u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u70b9\u51fb\u6d41\u5206\u6790 Web \u63a7\u5236\u53f0\u3002</p> </li> </ol> <p>\u767b\u5f55\u5230 \u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u70b9\u51fb\u6d41\u5206\u6790 \u63a7\u5236\u53f0\u540e\uff0c\u60a8\u53ef\u4ee5\u5f00\u59cb\u4e3a\u60a8\u7684\u5e94\u7528\u7a0b\u5e8f\u521b\u5efa\u4e00\u4e2a\u9879\u76ee\u3002</p>"},{"location":"deployment/with-oidc/","title":"\u4f7f\u7528 OpenID Connect (OIDC) \u8fdb\u884c\u542f\u52a8","text":"<p>\u90e8\u7f72\u65f6\u95f4\uff1a\u5927\u7ea6 30 \u5206\u949f</p>"},{"location":"deployment/with-oidc/#_1","title":"\u5148\u51b3\u6761\u4ef6","text":"<p>\u91cd\u8981\u63d0\u793a</p> <p>\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u70b9\u51fb\u6d41\u5206\u6790 \u63a7\u5236\u53f0\u662f\u901a\u8fc7 CloudFront \u5206\u53d1\u63d0\u4f9b\u7684\uff0c\u5b83\u88ab\u89c6\u4e3a\u4e00\u9879\u4e92\u8054\u7f51\u4fe1\u606f\u670d\u52a1\u3002 \u5982\u679c\u60a8\u5728 AWS \u4e2d\u56fd\u533a\u57df \u90e8\u7f72\u89e3\u51b3\u65b9\u6848\uff0c\u57df\u540d\u5fc5\u987b\u5177\u6709\u6709\u6548\u7684 ICP \u5907\u6848\u3002</p> <ul> <li>\u57df\u540d\u3002\u60a8\u5c06\u4f7f\u7528\u8be5\u57df\u540d\u8bbf\u95ee \u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u70b9\u51fb\u6d41\u5206\u6790 \u63a7\u5236\u53f0\u3002\u5bf9\u4e8e AWS \u4e2d\u56fd\u533a\u57df\uff0c\u8fd9\u662f\u5fc5\u9700\u7684\uff0c\u800c\u5bf9\u4e8e AWS \u533a\u57df\u5219\u662f\u53ef\u9009\u7684\u3002</li> <li>\u5728 AWS IAM \u4e2d\u7684 SSL \u8bc1\u4e66\u3002SSL \u5fc5\u987b\u4e0e\u7ed9\u5b9a\u7684\u57df\u540d\u5173\u8054\u3002\u6309\u7167 \u6b64\u6307\u5357 \u5c06 SSL \u8bc1\u4e66\u4e0a\u4f20\u5230 IAM\u3002\u8fd9\u4ec5\u9002\u7528\u4e8e AWS \u4e2d\u56fd\u533a\u57df\u3002</li> </ul>"},{"location":"deployment/with-oidc/#_2","title":"\u90e8\u7f72\u6982\u8ff0","text":"<p>\u6309\u7167\u4ee5\u4e0b\u6b65\u9aa4\u5728 AWS \u4e0a\u90e8\u7f72\u6b64\u89e3\u51b3\u65b9\u6848\u3002</p> <p>\u6b65\u9aa4 1. \u521b\u5efa OIDC \u5ba2\u6237\u7aef</p> <p>\u6b65\u9aa4 2. \u542f\u52a8\u5806\u6808</p> <p>\u6b65\u9aa4 3. \u66f4\u65b0 OIDC \u5ba2\u6237\u7aef\u7684\u56de\u8c03 URL</p> <p>\u6b65\u9aa4 4. \u8bbe\u7f6e DNS \u89e3\u6790\u5668</p> <p>\u6b65\u9aa4 5. \u542f\u52a8 Web \u63a7\u5236\u53f0</p>"},{"location":"deployment/with-oidc/#1-oidc","title":"\u6b65\u9aa4 1. \u521b\u5efa OIDC \u5ba2\u6237\u7aef","text":"<p>\u60a8\u53ef\u4ee5\u4f7f\u7528\u4e0d\u540c\u7c7b\u578b\u7684 OpenID Connect \u63d0\u4f9b\u7a0b\u5e8f\u3002\u672c\u90e8\u5206\u4ecb\u7ecd\u4e86\u9009\u9879 1 \u5230\u9009\u9879 4\u3002</p> <ul> <li>(\u9009\u9879 1) \u4f7f\u7528\u6765\u81ea\u5176\u4ed6\u533a\u57df\u7684 Amazon Cognito \u4f5c\u4e3a OIDC \u63d0\u4f9b\u7a0b\u5e8f\u3002</li> <li>(\u9009\u9879 2) Authing\uff0c\u8fd9\u662f\u4e00\u4e2a\u7b2c\u4e09\u65b9\u8eab\u4efd\u9a8c\u8bc1\u63d0\u4f9b\u7a0b\u5e8f\u7684\u793a\u4f8b\u3002</li> <li>(\u9009\u9879 3) Keycloak\uff0c\u8fd9\u662f\u7531 AWS \u7ef4\u62a4\u7684\u89e3\u51b3\u65b9\u6848\uff0c\u53ef\u7528\u4f5c\u8eab\u4efd\u9a8c\u8bc1\u63d0\u4f9b\u7a0b\u5e8f\u3002</li> <li>(\u9009\u9879 4) ADFS\uff0c\u8fd9\u662f Microsoft \u63d0\u4f9b\u7684\u4e00\u9879\u670d\u52a1\u3002</li> <li>(\u9009\u9879 5) \u5176\u4ed6\u7b2c\u4e09\u65b9\u8eab\u4efd\u9a8c\u8bc1\u5e73\u53f0\uff0c\u5982 Auth0\u3002</li> </ul> <p>\u6309\u7167\u4ee5\u4e0b\u6b65\u9aa4\u521b\u5efa OIDC \u5ba2\u6237\u7aef\uff0c\u5e76\u83b7\u53d6 <code>client_id</code> \u548c <code>issuer</code>\u3002</p>"},{"location":"deployment/with-oidc/#1-cognito","title":"(\u9009\u9879 1) \u4f7f\u7528\u6765\u81ea\u5176\u4ed6\u533a\u57df\u7684 Cognito \u7528\u6237\u6c60","text":"<p>\u60a8\u53ef\u4ee5\u5c06 Cognito \u7528\u6237\u6c60 \u4f5c\u4e3a OIDC \u63d0\u4f9b\u8005\u5728\u53d7\u652f\u6301\u7684 AWS \u533a\u57df\u4e2d\u4f7f\u7528\u3002</p> <ol> <li>\u5728 AWS \u533a\u57df\u4e2d\u8bbf\u95ee Amazon Cognito \u63a7\u5236\u53f0\u3002</li> <li>\u6839\u636e\u6b64 \u6307\u5357 \u4f7f\u7528 Amazon Cognito \u63a7\u5236\u53f0\u8bbe\u7f6e\u6258\u7ba1 UI\u3002\u8bf7\u6ce8\u610f\u4ee5\u4e0b\u4e24\u4e2a\u914d\u7f6e\uff1a</li> <li>\u5728\u9009\u62e9 \u5e94\u7528\u7c7b\u578b \u65f6\u9009\u62e9 \u516c\u5171\u5ba2\u6237\u7aef\u3002\u786e\u4fdd\u4e0d\u8981\u66f4\u6539 \u5ba2\u6237\u7aef\u5bc6\u94a5 \u7684\u9009\u62e9 \u4e0d\u751f\u6210\u5ba2\u6237\u7aef\u5bc6\u94a5\u3002</li> <li>\u5728 OpenID Connect \u4f5c\u7528\u57df \u4e2d\u6dfb\u52a0 Profile\u3002</li> <li> <p>\u4f7f\u7528\u60a8\u7684\u57df\u540d\u4e3a \u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u70b9\u51fb\u6d41\u5206\u6790 \u63a7\u5236\u53f0\u8bbe\u7f6e \u56de\u8c03 URL \u548c \u767b\u51fa URL\u3002     !!! info \"\u6ce8\u610f\"         \u5982\u679c\u60a8\u672a\u4e3a\u63a7\u5236\u53f0\u4f7f\u7528\u81ea\u5b9a\u4e49\u57df\u540d\uff0c\u5219\u65e0\u6cd5\u83b7\u5f97\u63a7\u5236\u53f0\u7684\u57df\u540d\u3002\u60a8\u53ef\u4ee5\u8f93\u5165\u4e00\u4e2a\u865a\u5047\u7684\u57df\u540d\uff0c\u4f8b\u5982 <code>clickstream.example.com</code>\uff0c\u7136\u540e\u6839\u636e\u7b2c 3 \u6b65\u4e2d\u7684\u6307\u5357\u8fdb\u884c\u66f4\u65b0\u3002</p> </li> <li> <p>\u5982\u679c\u60a8\u7684\u6258\u7ba1 UI \u8bbe\u7f6e\u5b8c\u6bd5\uff0c\u60a8\u5e94\u8be5\u80fd\u591f\u770b\u5230\u5982\u4e0b\u6240\u793a\u7684\u5185\u5bb9\u3002</p> <p></p> </li> <li> <p>\u5c06\u5e94\u7528\u5ba2\u6237\u7aef ID\u3001\u7528\u6237\u6c60 ID \u548c AWS \u533a\u57df\u4fdd\u5b58\u5230\u4e00\u4e2a\u6587\u4ef6\u4e2d\uff0c\u7a0d\u540e\u4f1a\u7528\u5230\u3002</p> <p> </p> </li> </ol> <p>\u5728\u6b65\u9aa4 2. \u542f\u52a8\u5806\u6808\u4e2d\uff0c\u4f7f\u7528\u6765\u81ea\u60a8\u7684 Cognito \u7528\u6237\u6c60\u7684\u4ee5\u4e0b\u53c2\u6570\u3002</p> <ul> <li>OIDCClientId: <code>\u5e94\u7528\u5ba2\u6237\u7aef ID</code></li> <li>OIDCProvider: <code>https://cognito-idp.${REGION}.amazonaws.com/${USER_POOL_ID}</code></li> </ul>"},{"location":"deployment/with-oidc/#2-authingcn-oidc","title":"(\u9009\u9879 2) \u4f7f\u7528 Authing.cn OIDC \u5ba2\u6237\u7aef","text":"<ol> <li>\u524d\u5f80 Authing \u63a7\u5236\u53f0\u3002</li> <li>\u5982\u679c\u60a8\u8fd8\u6ca1\u6709\u7528\u6237\u6c60\uff0c\u8bf7\u521b\u5efa\u4e00\u4e2a\u7528\u6237\u6c60\u3002</li> <li>\u9009\u62e9\u7528\u6237\u6c60\u3002</li> <li>\u5728\u5de6\u4fa7\u5bfc\u822a\u680f\u4e2d\uff0c\u9009\u62e9 Applications \u4e0b\u7684 Self-built App\u3002</li> <li>\u70b9\u51fb Create \u6309\u94ae\u3002</li> <li>\u8f93\u5165 Application Name \u548c Subdomain\u3002</li> <li> <p>\u4ece Endpoint Information \u5c06 <code>App ID</code>\uff08\u5373 <code>client_id</code>\uff09\u548c <code>Issuer</code> \u4fdd\u5b58\u5230\u4e00\u4e2a\u6587\u672c\u6587\u4ef6\u4e2d\uff0c\u7a0d\u540e\u4f1a\u7528\u5230\u3002</p> <p></p> </li> <li> <p>\u5c06 <code>Login Callback URL</code> \u548c <code>Logout Callback URL</code> \u66f4\u65b0\u4e3a\u60a8\u8bb0\u5f55\u7684 IPC \u57df\u540d\u3002</p> </li> <li> <p>\u8bbe\u7f6e\u6388\u6743\u914d\u7f6e\u3002</p> <p></p> </li> </ol> <p>\u60a8\u5df2\u6210\u529f\u521b\u5efa\u4e86 Authing \u81ea\u5efa\u5e94\u7528\u3002</p> <p>\u5728\u6b65\u9aa4 2. \u542f\u52a8\u5806\u6808\u4e2d\uff0c\u4f7f\u7528\u6765\u81ea\u60a8\u7684 Authing \u7528\u6237\u6c60\u7684\u4ee5\u4e0b\u53c2\u6570\u3002</p> <ul> <li>OIDCClientId: <code>client id</code></li> <li>OIDCProvider: <code>Issuer</code></li> </ul>"},{"location":"deployment/with-oidc/#3-keycloak-oidc","title":"(\u9009\u9879 3) \u4f7f\u7528 Keycloak OIDC \u5ba2\u6237\u7aef","text":"<ol> <li> <p>\u6839\u636e \u6b64\u6307\u5357 \u5728 AWS \u4e2d\u56fd\u533a\u90e8\u7f72 Keycloak \u89e3\u51b3\u65b9\u6848\u3002</p> </li> <li> <p>\u767b\u5f55 Keycloak \u63a7\u5236\u53f0\u3002</p> </li> <li> <p>\u5728\u5de6\u4fa7\u5bfc\u822a\u680f\u4e2d\uff0c\u9009\u62e9 Add realm\u3002\u5982\u679c\u60a8\u5df2\u7ecf\u62e5\u6709\u4e00\u4e2a realm\uff0c\u8bf7\u8df3\u8fc7\u6b64\u6b65\u9aa4\u3002</p> </li> <li> <p>\u8f6c\u5230 realm \u8bbe\u7f6e\u9875\u9762\u3002\u9009\u62e9 Endpoints\uff0c\u7136\u540e\u4ece\u5217\u8868\u4e2d\u9009\u62e9 OpenID Endpoint Configuration\u3002</p> <p></p> </li> <li> <p>\u5728\u6d4f\u89c8\u5668\u4e2d\u6253\u5f00\u7684 JSON \u6587\u4ef6\u4e2d\uff0c\u8bb0\u5f55\u5c06\u5728\u7a0d\u540e\u4f7f\u7528\u7684 issuer \u503c\u3002</p> <p></p> </li> <li> <p>\u8fd4\u56de Keycloak \u63a7\u5236\u53f0\uff0c\u5728\u5de6\u4fa7\u5bfc\u822a\u680f\u4e2d\u9009\u62e9 Clients\uff0c\u7136\u540e\u9009\u62e9 Create\u3002</p> </li> <li> <p>\u8f93\u5165\u4e00\u4e2a\u5305\u542b\u5b57\u6bcd\uff08\u4e0d\u533a\u5206\u5927\u5c0f\u5199\uff09\u6216\u6570\u5b57\u7684 Client ID\u3002\u8bb0\u5f55\u5c06\u5728\u7a0d\u540e\u4f7f\u7528\u7684 Client ID\u3002</p> </li> <li> <p>\u66f4\u6539\u5ba2\u6237\u7aef\u8bbe\u7f6e\u3002\u5728 Valid Redirect URIs \u4e2d\u8f93\u5165 <code>http[s]://&lt;\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u70b9\u51fb\u6d41\u5206\u6790 Console domain&gt;/signin</code>\uff0c\u5728 Web Origins \u4e2d\u8f93\u5165 <code>&lt;console domain&gt;</code> \u548c <code>+</code>\u3002</p> <p>\u63d0\u793a</p> <p>\u5982\u679c\u60a8\u6ca1\u6709\u4e3a\u63a7\u5236\u53f0\u4f7f\u7528\u81ea\u5b9a\u4e49\u57df\u540d\uff0c\u5219\u63a7\u5236\u53f0\u7684\u57df\u540d\u5c1a\u4e0d\u53ef\u7528\u3002\u60a8\u53ef\u4ee5\u8f93\u5165\u4e00\u4e2a\u865a\u5047\u7684\u57df\u540d\uff0c\u4f8b\u5982 <code>clickstream.example.com</code>\uff0c\u7136\u540e\u5728\u7b2c 3 \u6b65\u4e2d\u6309\u7167\u6307\u5357\u8fdb\u884c\u66f4\u65b0\u3002</p> </li> <li> <p>\u5728\u9ad8\u7ea7\u8bbe\u7f6e\u4e2d\uff0c\u5c06 Access Token Lifespan \u8bbe\u7f6e\u4e3a\u81f3\u5c11 5 \u5206\u949f\u3002</p> </li> <li>\u5728\u5de6\u4fa7\u5bfc\u822a\u680f\u4e2d\u9009\u62e9 Users\u3002</li> <li>\u70b9\u51fb Add user \u5e76\u8f93\u5165 Username\u3002</li> <li>\u521b\u5efa\u7528\u6237\u540e\uff0c\u9009\u62e9 Credentials\uff0c\u7136\u540e\u8f93\u5165 Password\u3002</li> </ol> <p>\u5728\u6b65\u9aa4 2. \u542f\u52a8\u5806\u6808\u4e2d\uff0c\u4f7f\u7528\u6765\u81ea\u60a8\u7684 Keycloak realm \u7684\u4ee5\u4e0b\u53c2\u6570\u3002</p> <ul> <li>OIDCClientId: <code>client id</code></li> <li>OIDCProvider: <code>https://&lt;KEYCLOAK_DOMAIN_NAME&gt;/auth/realms/&lt;REALM_NAME&gt;</code></li> </ul>"},{"location":"deployment/with-oidc/#4-adfs-openid-connect","title":"(\u9009\u9879 4) ADFS OpenID Connect \u5ba2\u6237\u7aef","text":"<ol> <li>\u786e\u4fdd\u5df2\u5b89\u88c5 ADFS\u3002\u6709\u5173\u5982\u4f55\u5b89\u88c5 ADFS \u7684\u4fe1\u606f\uff0c\u8bf7\u53c2\u8003 \u6b64\u6307\u5357\u3002</li> <li>\u786e\u4fdd\u60a8\u53ef\u4ee5\u767b\u5f55\u5230 ADFS \u767b\u5f55\u9875\u9762\u3002URL \u5e94\u4e3a <code>https://adfs.domain.com/adfs/ls/idpinitiatedSignOn.aspx</code>\uff0c\u60a8\u9700\u8981\u5c06 adfs.domain.com \u66ff\u6362\u4e3a\u60a8\u5b9e\u9645\u7684 ADFS \u57df\u3002</li> <li>\u767b\u5f55\u5230\u60a8\u7684 \u57df\u63a7\u5236\u5668\uff0c\u5e76\u6253\u5f00 Active Directory Users and Computers\u3002</li> <li> <p>\u4e3a \u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u70b9\u51fb\u6d41\u5206\u6790 \u7528\u6237\u521b\u5efa\u4e00\u4e2a \u5b89\u5168\u7ec4\uff0c\u5e76\u5c06\u8ba1\u5212\u4e2d\u7684 \u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u70b9\u51fb\u6d41\u5206\u6790 \u7528\u6237\u6dfb\u52a0\u5230\u6b64\u5b89\u5168\u7ec4\u4e2d\u3002</p> </li> <li> <p>\u767b\u5f55\u5230 ADFS \u670d\u52a1\u5668\uff0c\u5e76\u6253\u5f00 ADFS Management\u3002</p> </li> <li> <p>\u53f3\u952e\u5355\u51fb Application Groups\uff0c\u9009\u62e9 Application Group\uff0c\u7136\u540e\u8f93\u5165 Application Group \u7684\u540d\u79f0\u3002\u5728 Client-Server Applications \u4e0b\u9009\u62e9 Web browser accessing a web application \u9009\u9879\uff0c\u5e76\u9009\u62e9 Next\u3002</p> </li> <li> <p>\u5728 Redirect URI \u4e0b\u8bb0\u5f55 Client Identifier (<code>client_id</code>)\uff0c\u8f93\u5165\u60a8\u7684 \u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u70b9\u51fb\u6d41\u5206\u6790 \u57df\u540d\uff08\u4f8b\u5982 <code>xx.example.com</code>\uff09\uff0c\u7136\u540e\u9009\u62e9 Add\uff0c\u518d\u9009\u62e9 Next\u3002</p> </li> <li> <p>\u5728 Choose Access Control Policy \u7a97\u53e3\u4e2d\uff0c\u9009\u62e9 Permit specific group\uff0c\u5728 Policy \u90e8\u5206\u4e0b\u9009\u62e9 parameters\uff0c\u5c06\u5728\u6b65\u9aa4 4 \u4e2d\u521b\u5efa\u7684\u5b89\u5168\u7ec4\u6dfb\u52a0\u8fdb\u53bb\uff0c\u7136\u540e\u70b9\u51fb Next\u3002\u60a8\u53ef\u4ee5\u6839\u636e\u9700\u6c42\u914d\u7f6e\u5176\u4ed6\u8bbf\u95ee\u63a7\u5236\u7b56\u7565\u3002</p> </li> <li> <p>\u5728\u6458\u8981\u7a97\u53e3\u4e0b\uff0c\u9009\u62e9 Next\uff0c\u7136\u540e\u9009\u62e9 Close\u3002</p> </li> <li> <p>\u5728 ADFS \u670d\u52a1\u5668\u4e0a\u6253\u5f00 Windows PowerShell\uff0c\u5e76\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u4ee5\u914d\u7f6e ADFS \u5141\u8bb8\u60a8\u8ba1\u5212\u7684 URL \u7684 CORS\u3002</p> <pre><code>Set-AdfsResponseHeaders -EnableCORS $true\nSet-AdfsResponseHeaders -CORSTrustedOrigins https://&lt;your-clickstream-analytics-on-aws-domain&gt;\n</code></pre> </li> <li> <p>\u5728 ADFS \u670d\u52a1\u5668\u4e0a\u7684 Windows PowerShell \u4e0b\uff0c\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u4ee5\u83b7\u53d6 ADFS \u7684 Issuer\uff08<code>issuer</code>\uff09\uff0c\u7c7b\u4f3c\u4e8e <code>https://adfs.example.com/adfs</code>\u3002</p> <pre><code>Get-ADFSProperties | Select IdTokenIssuer\n</code></pre> <p></p> </li> </ol> <p>\u5728\u6b65\u9aa4 2. \u542f\u52a8\u5806\u6808\u4e2d\uff0c\u4f7f\u7528\u6765\u81ea\u60a8\u7684 ADFS \u670d\u52a1\u5668\u7684\u4ee5\u4e0b\u53c2\u6570\u3002</p> <ul> <li>OIDCClientId: <code>client id</code></li> <li>OIDCProvider: \u4ece\u4e0a\u8ff0\u7b2c 11 \u6b65\u4e2d\u83b7\u53d6\u53d1\u884c\u65b9\uff08issuer\uff09\u7684\u670d\u52a1\u5668</li> </ul>"},{"location":"deployment/with-oidc/#2","title":"\u6b65\u9aa4 2. \u542f\u52a8\u5806\u6808","text":"<ol> <li> <p>\u767b\u5f55\u5230 AWS \u7ba1\u7406\u63a7\u5236\u53f0\uff0c\u5e76\u4f7f\u7528\u4e0b\u65b9\u6309\u94ae\u542f\u52a8 AWS CloudFormation \u6a21\u677f\u3002</p> \u5728 AWS \u63a7\u5236\u53f0\u4e2d\u542f\u52a8 \u5728 AWS \u533a\u57df\u4e2d\u542f\u52a8 \u5728 AWS \u533a\u57df\u4e2d\u4f7f\u7528\u81ea\u5b9a\u4e49\u57df\u540d\u542f\u52a8 \u5728 AWS \u4e2d\u56fd\u533a\u57df\u4e2d\u542f\u52a8 </li> <li> <p>\u6a21\u677f\u5c06\u5728\u60a8\u767b\u5f55\u5230\u63a7\u5236\u53f0\u540e\u7684\u9ed8\u8ba4\u533a\u57df\u4e2d\u542f\u52a8\u3002\u82e5\u8981\u5728\u4e0d\u540c\u7684 AWS \u533a\u57df\u4e2d\u542f\u52a8 \u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u70b9\u51fb\u6d41\u5206\u6790 \u89e3\u51b3\u65b9\u6848\uff0c\u8bf7\u4f7f\u7528\u63a7\u5236\u53f0\u5bfc\u822a\u680f\u4e2d\u7684\u533a\u57df\u9009\u62e9\u5668\u3002</p> </li> <li>\u5728\u521b\u5efa\u5806\u6808\u9875\u9762\u4e0a\uff0c\u9a8c\u8bc1Amazon S3 URL\u6587\u672c\u6846\u4e2d\u663e\u793a\u7684\u6b63\u786e\u6a21\u677f URL\uff0c\u7136\u540e\u9009\u62e9\u4e0b\u4e00\u6b65\u3002</li> <li>\u5728\u6307\u5b9a\u5806\u6808\u8be6\u7ec6\u4fe1\u606f\u9875\u9762\u4e0a\uff0c\u4e3a\u89e3\u51b3\u65b9\u6848\u5806\u6808\u5206\u914d\u4e00\u4e2a\u540d\u79f0\u3002\u6709\u5173\u547d\u540d\u5b57\u7b26\u9650\u5236\u7684\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605AWS \u8eab\u4efd\u548c\u8bbf\u95ee\u7ba1\u7406\u7528\u6237\u6307\u5357\u4e2d\u7684 IAM \u548c AWS STS \u9650\u989d\u3002</li> <li> <p>\u5728\u53c2\u6570\u4e0b\uff0c\u67e5\u770b\u6a21\u677f\u7684\u53c2\u6570\uff0c\u5e76\u6839\u636e\u9700\u8981\u8fdb\u884c\u4fee\u6539\u3002</p> <ul> <li> <p>\u6b64\u89e3\u51b3\u65b9\u6848\u4f7f\u7528\u4ee5\u4e0b\u53c2\u6570\uff1a</p> \u53c2\u6570 \u9ed8\u8ba4\u503c \u63cf\u8ff0 OIDCClientId <code>&lt;\u8f93\u5165&gt;</code> OpenID Connect \u5ba2\u6237\u7aef ID\u3002 OIDCProvider <code>&lt;\u8f93\u5165&gt;</code> OpenID Connect \u63d0\u4f9b\u7a0b\u5e8f\u53d1\u884c\u65b9\u3002\u53d1\u884c\u65b9\u5fc5\u987b\u4ee5 <code>https://</code> \u5f00\u5934 <p>\u91cd\u8981\u63d0\u793a</p> <p> \u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u6b64\u90e8\u7f72\u5728CloudFront\u4e2d\u4f7f\u7528TLSv1.0\u548cTLSv1.1\u3002\u4f46\u662f\uff0c\u6211\u4eec\u5efa\u8bae\u60a8\u624b\u52a8\u914d\u7f6eCloudFront\u4ee5\u4f7f\u7528\u66f4\u5b89\u5168\u7684TLSv1.2/TLSv1.3\uff0c\u5e76\u7533\u8bf7\u8bc1\u4e66\u548c\u81ea\u5b9a\u4e49\u57df\u6765\u542f\u7528\u6b64\u529f\u80fd\u3002\u6211\u4eec\u5f3a\u70c8\u5efa\u8bae\u60a8\u6839\u636e\u4ee5\u4e0b\u5efa\u8bae\u66f4\u65b0\u60a8\u7684TLS\u914d\u7f6e\u548c\u5bc6\u7801\u5957\u4ef6\u9009\u62e9\uff1a</p> <ul> <li>\u4f20\u8f93\u5c42\u5b89\u5168\u534f\u8bae\uff1a\u5347\u7ea7\u5230TLSv1.2\u6216\u66f4\u9ad8\u7248\u672c</li> <li>\u5bc6\u94a5\u4ea4\u6362\uff1aECDHE</li> <li>\u5757\u5bc6\u7801\u64cd\u4f5c\u6a21\u5f0f\uff1aGCM</li> <li>\u8eab\u4efd\u9a8c\u8bc1\uff1aECDSA</li> <li>\u52a0\u5bc6\u5bc6\u7801\uff1aAES256</li> <li>\u6d88\u606f\u9274\u522b\uff1aSHA\uff08256/384/\u9664SHA1\u4ee5\u5916\u7684\u4efb\u4f55\u54c8\u5e0c\u51fd\u6570\uff09</li> </ul> <p>\u4f8b\u5982\uff0cTLSv1.2_2021 \u53ef\u4ee5\u6ee1\u8db3\u4e0a\u8ff0\u5efa\u8bae\u3002 </p> </li> <li> <p>\u5982\u679c\u60a8\u5728 AWS \u533a\u57df\u4e2d\u4f7f\u7528\u81ea\u5b9a\u4e49\u57df\u540d\u542f\u52a8\u89e3\u51b3\u65b9\u6848\uff0c\u5219\u8fd8\u6709\u4ee5\u4e0b\u9644\u52a0\u53c2\u6570\uff1a</p> \u53c2\u6570 \u9ed8\u8ba4\u503c \u63cf\u8ff0 Hosted Zone ID <code>&lt;\u8f93\u5165&gt;</code> \u9009\u62e9 Amazon Route 53 \u7684\u516c\u5171\u6258\u7ba1\u533a\u57df\u7684 ID\u3002 Hosted Zone Name <code>&lt;\u8f93\u5165&gt;</code> \u516c\u5171\u6258\u7ba1\u533a\u57df\u7684\u57df\u540d\uff0c\u4f8b\u5982 <code>example.com</code>\u3002 Record Name <code>&lt;\u8f93\u5165&gt;</code> \u63a7\u5236\u53f0\u7684\u5b50\u540d\u79f0\uff08\u5728 R53 \u4e2d\u79f0\u4e3a\u8bb0\u5f55\u540d\u79f0\uff09\u3002\u4f8b\u5982\uff0c\u5982\u679c\u60a8\u60f3\u4e3a\u63a7\u5236\u53f0\u4f7f\u7528\u81ea\u5b9a\u4e49\u57df\u540d <code>clickstream.example.com</code>\uff0c\u5219\u8f93\u5165 <code>clickstream</code>\u3002 </li> <li> <p>\u5982\u679c\u60a8\u5728 AWS \u4e2d\u56fd\u533a\u57df\u4e2d\u542f\u52a8\u89e3\u51b3\u65b9\u6848\uff0c\u5219\u8fd8\u6709\u4ee5\u4e0b\u9644\u52a0\u53c2\u6570\uff1a</p> \u53c2\u6570 \u9ed8\u8ba4\u503c \u63cf\u8ff0 Domain <code>&lt;\u8f93\u5165&gt;</code> Centralized Logging with OpenSearch \u63a7\u5236\u53f0\u7684\u81ea\u5b9a\u4e49\u57df\u540d\u3002\u4e0d\u8981\u6dfb\u52a0 <code>http(s)</code> \u524d\u7f00\u3002 IamCertificateID <code>&lt;\u8f93\u5165&gt;</code> \u5728 IAM \u4e2d SSL \u8bc1\u4e66\u7684 ID\u3002ID \u7531 21 \u4e2a\u5927\u5199\u5b57\u6bcd\u548c\u6570\u5b57\u7ec4\u6210\u3002\u4f7f\u7528 <code>list-server-certificates</code> \u547d\u4ee4\u68c0\u7d22 ID\u3002 </li> </ul> </li> <li> <p>\u9009\u62e9\u4e0b\u4e00\u6b65\u3002</p> </li> <li>\u5728\u914d\u7f6e\u5806\u6808\u9009\u9879\u9875\u9762\u4e0a\uff0c\u9009\u62e9\u4e0b\u4e00\u6b65\u3002</li> <li>\u5728\u5ba1\u6838\u9875\u9762\u4e0a\uff0c\u68c0\u67e5\u5e76\u786e\u8ba4\u8bbe\u7f6e\u3002\u9009\u4e2d\u786e\u8ba4\u6a21\u677f\u5c06\u521b\u5efa AWS Identity and Access Management (IAM) \u8d44\u6e90\u7684\u6846\u3002</li> <li>\u9009\u62e9\u521b\u5efa\u5806\u6808\u4ee5\u90e8\u7f72\u5806\u6808\u3002</li> </ol> <p>\u60a8\u53ef\u4ee5\u5728 AWS CloudFormation \u63a7\u5236\u53f0\u4e2d\u67e5\u770b\u5806\u6808\u7684\u72b6\u6001\u5217\u3002\u5927\u7ea6 10 \u5206\u949f\u540e\uff0c\u60a8\u5e94\u8be5\u4f1a\u6536\u5230CREATE_COMPLETE\u72b6\u6001\u3002</p>"},{"location":"deployment/with-oidc/#3-oidc-url","title":"\u6b65\u9aa4 3. \u66f4\u65b0 OIDC \u5ba2\u6237\u7aef\u7684\u56de\u8c03 URL","text":"<p>\u91cd\u8981\u63d0\u793a</p> <p>\u5982\u679c\u60a8\u6ca1\u6709\u4f7f\u7528\u81ea\u5b9a\u4e49\u57df\u540d\u90e8\u7f72\u6808\uff0c\u8bf7\u5b8c\u6210\u4ee5\u4e0b\u6b65\u9aa4\u3002</p> <ol> <li>\u767b\u5f55\u5230 AWS CloudFormation \u63a7\u5236\u53f0\u3002</li> <li>\u9009\u62e9\u89e3\u51b3\u65b9\u6848\u7684\u6808\u3002</li> <li>\u9009\u62e9 Outputs \u9009\u9879\u5361\u3002</li> <li>\u83b7\u53d6 ControlPlaneURL \u4f5c\u4e3a\u7ec8\u7ed3\u70b9\u3002</li> <li>\u66f4\u65b0\u6216\u6dfb\u52a0\u56de\u8c03 URL \u5230\u60a8\u7684 OIDC\u3002<ol> <li>\u5bf9\u4e8e Cognito\uff0c\u8bf7\u5728\u5ba2\u6237\u7aef\u7684 Allowed callback URL \u4e2d\u6dfb\u52a0\u6216\u66f4\u65b0 URL\uff0c\u503c\u4e3a <code>${ControlPlaneURL}/signin</code>\u3002\u6ce8\u610f\uff1aURL \u5fc5\u987b\u4ee5 <code>https://</code> \u5f00\u5934\u3002</li> <li>\u5bf9\u4e8e Keycloak\uff0c\u8bf7\u5728\u5ba2\u6237\u7aef\u7684 Valid Redirect URIs \u4e2d\u6dfb\u52a0\u6216\u66f4\u65b0 URL\uff0c\u503c\u4e3a <code>${ControlPlaneURL}/signin</code>\u3002</li> <li>\u5bf9\u4e8e Authing.cn\uff0c\u8bf7\u5728 Authentication Configuration \u7684 Login Callback URL \u4e2d\u6dfb\u52a0\u6216\u66f4\u65b0 URL\u3002</li> </ol> </li> </ol>"},{"location":"deployment/with-oidc/#4-dns","title":"\u6b65\u9aa4 4. \u8bbe\u7f6e DNS \u89e3\u6790\u5668","text":"<p>\u91cd\u8981\u63d0\u793a</p> <p>\u5982\u679c\u60a8\u5728 AWS \u533a\u57df\u4e2d\u90e8\u7f72\u4e86\u6808\uff0c\u5219\u53ef\u4ee5\u8df3\u8fc7\u6b64\u6b65\u9aa4\u3002</p> <p>\u8be5\u89e3\u51b3\u65b9\u6848\u63d0\u4f9b\u4e86\u4e00\u4e2a CloudFront \u5206\u53d1\uff0c\u7528\u4e8e\u8bbf\u95ee \u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u70b9\u51fb\u6d41\u5206\u6790 \u63a7\u5236\u53f0\u3002</p> <ol> <li>\u767b\u5f55\u5230 AWS CloudFormation \u63a7\u5236\u53f0\u3002</li> <li>\u9009\u62e9\u89e3\u51b3\u65b9\u6848\u7684\u6808\u3002</li> <li>\u9009\u62e9 Outputs \u9009\u9879\u5361\u3002</li> <li>\u83b7\u53d6 ControlPlaneURL \u548c CloudFrontDomainName\u3002</li> <li>\u5728 DNS \u89e3\u6790\u5668\u4e2d\u4e3a ControlPlaneURL \u521b\u5efa\u4e00\u4e2a CNAME \u8bb0\u5f55\uff0c\u8be5\u8bb0\u5f55\u6307\u5411\u524d\u9762\u83b7\u53d6\u5230\u7684 CloudFrontDomainName \u57df\u540d\u3002</li> </ol>"},{"location":"deployment/with-oidc/#5-web","title":"\u6b65\u9aa4 5. \u542f\u52a8Web\u63a7\u5236\u53f0","text":"<p>\u91cd\u8981\u63d0\u793a</p> <p>\u60a8\u7684\u767b\u5f55\u51ed\u636e\u7531OIDC\u63d0\u4f9b\u8005\u7ba1\u7406\u3002\u5728\u767b\u5f55\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u70b9\u51fb\u6d41\u5206\u6790\u63a7\u5236\u53f0\u4e4b\u524d\uff0c\u8bf7\u786e\u4fdd\u5728OIDC\u63d0\u4f9b\u8005\u7684\u7528\u6237\u6c60\u4e2d\u81f3\u5c11\u521b\u5efa\u4e86\u4e00\u4e2a\u7528\u6237\u3002</p> <ol> <li>\u5728Web\u6d4f\u89c8\u5668\u4e2d\u4f7f\u7528\u4e4b\u524d\u5206\u914d\u7684\u57df\u540d\u6216\u751f\u6210\u7684ControlPlaneURL\u3002</li> <li>\u9009\u62e9\u767b\u5f55\uff0c\u5e76\u5bfc\u822a\u5230OIDC\u63d0\u4f9b\u8005\u3002</li> <li>\u8f93\u5165\u767b\u5f55\u51ed\u636e\u3002\u60a8\u53ef\u80fd\u4f1a\u88ab\u8981\u6c42\u6839\u636eOIDC\u63d0\u4f9b\u8005\u7684\u7b56\u7565\u66f4\u6539\u9996\u6b21\u767b\u5f55\u65f6\u7684\u9ed8\u8ba4\u5bc6\u7801\u3002</li> <li>\u9a8c\u8bc1\u5b8c\u6210\u540e\uff0c\u7cfb\u7edf\u5c06\u6253\u5f00\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u70b9\u51fb\u6d41\u5206\u6790\u7684Web\u63a7\u5236\u53f0\u3002</li> </ol> <p>\u4e00\u65e6\u60a8\u6210\u529f\u767b\u5f55\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u70b9\u51fb\u6d41\u5206\u6790\u63a7\u5236\u53f0\uff0c\u60a8\u5c31\u53ef\u4ee5\u5f00\u59cb\u4e3a\u60a8\u7684\u5e94\u7528\u7a0b\u5e8f\u521b\u5efa\u4e00\u4e2a\u9879\u76ee\u3002</p>"},{"location":"deployment/within-vpc/","title":"Vpc\u5185\u90e8\u7f72","text":"<p>\u5728VPC\u5185\u90e8\u542f\u52a8</p> <p>\u90e8\u7f72\u65f6\u95f4: \u5927\u7ea630\u5206\u949f</p>"},{"location":"deployment/within-vpc/#_1","title":"\u5148\u51b3\u6761\u4ef6","text":"<p>\u8bf7\u67e5\u770b\u6240\u6709\u7684\u8003\u8651\u56e0\u7d20\u5e76\u786e\u4fdd\u60a8\u5728\u8981\u90e8\u7f72\u89e3\u51b3\u65b9\u6848\u7684\u76ee\u6807\u5730\u533a\u5177\u5907\u4ee5\u4e0b\u6761\u4ef6\uff1a</p> <ul> <li>\u81f3\u5c11\u4e00\u4e2aAmazon VPC\u3002</li> <li>\u81f3\u5c11\u4e24\u4e2a\u8de8\u8d8a\u4e24\u4e2a\u53ef\u7528\u533a\u7684\u79c1\u6709\u5b50\u7f51\uff08\u5e26\u6709NAT\u7f51\u5173\u6216\u5b9e\u4f8b\uff09\u3002</li> </ul>"},{"location":"deployment/within-vpc/#_2","title":"\u90e8\u7f72\u6982\u8ff0","text":"<p>\u6309\u7167\u4ee5\u4e0b\u6b65\u9aa4\u5728AWS\u4e0a\u90e8\u7f72\u6b64\u89e3\u51b3\u65b9\u6848\u3002</p> <p>\u6b65\u9aa4 1. \u521b\u5efaOIDC\u5ba2\u6237\u7aef</p> <p>\u6b65\u9aa4 2. \u542f\u52a8\u5806\u6808</p> <p>\u6b65\u9aa4 3. \u66f4\u65b0OIDC\u5ba2\u6237\u7aef\u7684\u56de\u8c03URL</p> <p>\u6b65\u9aa4 4. \u542f\u52a8Web\u63a7\u5236\u53f0</p>"},{"location":"deployment/within-vpc/#1-oidc","title":"\u6b65\u9aa4 1. \u521b\u5efaOIDC\u5ba2\u6237\u7aef","text":"<p>\u60a8\u53ef\u4ee5\u4f7f\u7528\u73b0\u6709\u7684OpenID Connect\uff08OIDC\uff09\u63d0\u4f9b\u8005\uff0c\u6216\u6309\u7167\u6b64\u6307\u5357\u521b\u5efa\u4e00\u4e2aOIDC\u5ba2\u6237\u7aef\u3002</p> <p>\u63d0\u793a</p> <p>\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u6b64\u89e3\u51b3\u65b9\u6848\u5728VPC\u4e2d\u90e8\u7f72\u63a7\u5236\u53f0\u65f6\u4e0d\u9700\u8981SSL\u8bc1\u4e66\u3002\u60a8\u5fc5\u987b\u4f7f\u7528OIDC\u5ba2\u6237\u7aef\u6765\u652f\u6301\u5177\u6709<code>http</code>\u534f\u8bae\u7684\u56de\u8c03URL\u3002</p>"},{"location":"deployment/within-vpc/#2","title":"\u6b65\u9aa4 2. \u542f\u52a8\u5806\u6808","text":"<ol> <li> <p>\u767b\u5f55AWS\u7ba1\u7406\u63a7\u5236\u53f0\uff0c\u5e76\u4f7f\u7528\u4e0b\u65b9\u6309\u94ae\u542f\u52a8AWS CloudFormation\u6a21\u677f\u3002</p> \u5728AWS\u63a7\u5236\u53f0\u4e2d\u542f\u52a8 \u5728AWS\u533a\u57df\u4e2d\u542f\u52a8 \u5728AWS\u4e2d\u56fd\u533a\u57df\u4e2d\u542f\u52a8 </li> <li> <p>\u767b\u5f55\u63a7\u5236\u53f0\u540e\uff0c\u6a21\u677f\u5c06\u5728\u9ed8\u8ba4\u533a\u57df\u4e2d\u542f\u52a8\u3002\u5982\u679c\u8981\u5728\u5176\u4ed6AWS\u533a\u57df\u4e2d\u542f\u52a8\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u70b9\u51fb\u6d41\u5206\u6790\u89e3\u51b3\u65b9\u6848\uff0c\u8bf7\u4f7f\u7528\u63a7\u5236\u53f0\u5bfc\u822a\u680f\u4e2d\u7684\u533a\u57df\u9009\u62e9\u5668\u3002</p> </li> <li>\u5728\u521b\u5efa\u5806\u6808\u9875\u9762\u4e0a\uff0c\u9a8c\u8bc1Amazon S3 URL\u6587\u672c\u6846\u4e2d\u663e\u793a\u7684\u6b63\u786e\u6a21\u677fURL\uff0c\u5e76\u9009\u62e9\u4e0b\u4e00\u6b65\u3002</li> <li>\u5728\u6307\u5b9a\u5806\u6808\u8be6\u7ec6\u4fe1\u606f\u9875\u9762\u4e0a\uff0c\u4e3a\u60a8\u7684\u89e3\u51b3\u65b9\u6848\u5806\u6808\u6307\u5b9a\u4e00\u4e2a\u540d\u79f0\u3002\u6709\u5173\u547d\u540d\u5b57\u7b26\u9650\u5236\u7684\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605AWS Identity and Access Management\u7528\u6237\u6307\u5357\u4e2d\u7684IAM\u548cAWS STS\u914d\u989d\u90e8\u5206\u3002</li> <li> <p>\u5728\u53c2\u6570\u4e0b\uff0c\u67e5\u770b\u6a21\u677f\u7684\u53c2\u6570\uff0c\u5e76\u6839\u636e\u9700\u8981\u8fdb\u884c\u4fee\u6539\u3002</p> <ul> <li>\u6b64\u89e3\u51b3\u65b9\u6848\u4f7f\u7528\u4ee5\u4e0b\u53c2\u6570\uff1a</li> </ul> \u53c2\u6570 \u9ed8\u8ba4\u503c \u63cf\u8ff0 VpcId <code>&lt;\u9700\u8981\u8f93\u5165&gt;</code> \u9009\u62e9\u8981\u90e8\u7f72\u89e3\u51b3\u65b9\u6848\u7684VPC\u3002 PrivateSubnets <code>&lt;\u9700\u8981\u8f93\u5165&gt;</code> \u9009\u62e9\u8981\u90e8\u7f72\u89e3\u51b3\u65b9\u6848\u7684\u5b50\u7f51\u3002\u6ce8\u610f\uff1a\u60a8\u5fc5\u987b\u81f3\u5c11\u9009\u62e9\u4e24\u4e2a\u8de8\u4e24\u4e2a\u53ef\u7528\u533a\u7684\u5b50\u7f51\u3002 OIDCClientId <code>&lt;\u9700\u8981\u8f93\u5165&gt;</code> OpenID Connect\u5ba2\u6237\u7aefID\u3002 OIDCProvider <code>&lt;\u9700\u8981\u8f93\u5165&gt;</code> OpenID Connect\u63d0\u4f9b\u8005\u53d1\u5e03\u8005\u3002\u53d1\u5e03\u8005\u5fc5\u987b\u4ee5<code>https://</code>\u5f00\u5934\u3002 </li> <li> <p>\u9009\u62e9\u4e0b\u4e00\u6b65\u3002</p> </li> <li>\u5728\u914d\u7f6e\u5806\u6808\u9009\u9879\u9875\u9762\u4e0a\uff0c\u9009\u62e9\u4e0b\u4e00\u6b65\u3002</li> <li>\u5728\u5ba1\u67e5\u9875\u9762\u4e0a\uff0c\u5ba1\u67e5\u5e76\u786e\u8ba4\u8bbe\u7f6e\u3002\u52fe\u9009\u786e\u8ba4\u6a21\u677f\u5c06\u521b\u5efaAWS Identity and Access Management (IAM)\u8d44\u6e90\u7684\u6846\u3002</li> <li>\u9009\u62e9\u521b\u5efa\u5806\u6808\u4ee5\u90e8\u7f72\u5806\u6808\u3002</li> </ol> <p>\u60a8\u53ef\u4ee5\u5728AWS CloudFormation\u63a7\u5236\u53f0\u4e2d\u7684\u72b6\u6001\u5217\u4e2d\u67e5\u770b\u5806\u6808\u7684\u72b6\u6001\u3002\u5927\u7ea610\u5206\u949f\u540e\uff0c\u60a8\u5e94\u8be5\u4f1a\u6536\u5230CREATE_COMPLETE\u72b6\u6001\u3002</p>"},{"location":"deployment/within-vpc/#3-oidc-url","title":"\u6b65\u9aa4 3. \u66f4\u65b0 OIDC \u5ba2\u6237\u7aef\u7684\u56de\u8c03 URL","text":"<ol> <li>\u767b\u5f55 AWS CloudFormation \u63a7\u5236\u53f0\u3002</li> <li>\u9009\u62e9\u89e3\u51b3\u65b9\u6848\u7684\u5806\u6808\u3002</li> <li>\u9009\u62e9 \u8f93\u51fa \u9009\u9879\u5361\u3002</li> <li>\u83b7\u53d6 ControlPlaneURL \u4f5c\u4e3a\u7aef\u70b9\u3002</li> <li>\u5c06\u56de\u8c03 URL <code>${ControlPlaneURL}/signin</code> \u66f4\u65b0\u6216\u6dfb\u52a0\u5230\u60a8\u7684 OIDC \u5ba2\u6237\u7aef\u3002<ol> <li>\u5bf9\u4e8e Keycloak\uff0c\u8bf7\u5728 \u6709\u6548\u91cd\u5b9a\u5411 URL \u4e2d\u6dfb\u52a0\u6216\u66f4\u65b0 URL\u3002</li> <li>\u5bf9\u4e8e Authing.cn\uff0c\u8bf7\u5728 \u8eab\u4efd\u9a8c\u8bc1\u914d\u7f6e \u7684 \u767b\u5f55\u56de\u8c03 URL \u4e2d\u6dfb\u52a0\u6216\u66f4\u65b0 URL\u3002</li> </ol> </li> </ol>"},{"location":"deployment/within-vpc/#4-web","title":"\u6b65\u9aa4 4. \u542f\u52a8 Web \u63a7\u5236\u53f0","text":"<p>\u91cd\u8981\u63d0\u793a</p> <p>\u60a8\u7684\u767b\u5f55\u51ed\u636e\u7531 OIDC \u63d0\u4f9b\u8005\u7ba1\u7406\u3002\u5728\u767b\u5f55\u5230 \u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u70b9\u51fb\u6d41\u5206\u6790 \u63a7\u5236\u53f0\u4e4b\u524d\uff0c\u8bf7\u786e\u4fdd\u60a8\u5df2\u5728 OIDC \u63d0\u4f9b\u8005\u7684\u7528\u6237\u6c60\u4e2d\u521b\u5efa\u4e86\u81f3\u5c11\u4e00\u4e2a\u7528\u6237\u3002</p> <ol> <li>\u7531\u4e8e\u60a8\u5c06\u89e3\u51b3\u65b9\u6848\u63a7\u5236\u53f0\u90e8\u7f72\u5728\u65e0\u516c\u5171\u8bbf\u95ee\u6743\u9650\u7684 VPC \u4e2d\uff0c\u60a8\u9700\u8981\u5efa\u7acb\u4e0e\u7531\u5185\u90e8\u5e94\u7528\u8d1f\u8f7d\u5747\u8861\u5668\u63d0\u4f9b\u670d\u52a1\u7684\u89e3\u51b3\u65b9\u6848\u63a7\u5236\u53f0\u7684\u7f51\u7edc\u8fde\u63a5\u3002\u4ee5\u4e0b\u662f\u4e00\u4e9b\u9009\u9879\u4f9b\u60a8\u53c2\u8003\u3002<ol> <li>\uff08\u9009\u9879 1\uff09\u4f7f\u7528\u8df3\u677f\u4e3b\u673a\uff0c\u4f8b\u5982 Linux \u8df3\u677f\u4e3b\u673a\u5728 AWS \u4e0a \u89e3\u51b3\u65b9\u6848\u3002</li> <li>\uff08\u9009\u9879 2\uff09\u4f7f\u7528 AWS Client VPN \u6216 AWS Site-to-Site VPN\u3002</li> <li>\uff08\u9009\u9879 3\uff09\u4f7f\u7528 AWS Direct Connect\u3002</li> </ol> </li> <li>\u5e94\u7528\u8d1f\u8f7d\u5747\u8861\u5668\u53ea\u5141\u8bb8\u6765\u81ea\u6307\u5b9a\u5b89\u5168\u7ec4\u7684\u6d41\u91cf\u901a\u8fc7\uff0c\u60a8\u53ef\u4ee5\u4ece\u6b65\u9aa4 2 \u4e2d\u90e8\u7f72\u7684\u5806\u6808\u7684\u540d\u4e3a SourceSecurityGroup \u7684\u8f93\u51fa\u4e2d\u627e\u5230\u5b89\u5168\u7ec4 ID\u3002\u7136\u540e\u5c06\u5b89\u5168\u7ec4\u9644\u52a0\u5230\u60a8\u7684\u8df3\u677f\u4e3b\u673a\u6216\u5176\u4ed6\u8bbf\u95ee\u89e3\u51b3\u65b9\u6848\u63a7\u5236\u53f0\u7684\u6e90\u3002</li> <li>\u5728 Web \u6d4f\u89c8\u5668\u4e2d\u4f7f\u7528\u5148\u524d\u5206\u914d\u7684\u57df\u540d\u6216\u751f\u6210\u7684 ControlPlaneURL\u3002</li> <li>\u9009\u62e9 \u767b\u5f55\uff0c\u5e76\u5bfc\u822a\u5230 OIDC \u63d0\u4f9b\u8005\u3002</li> <li>\u8f93\u5165\u767b\u5f55\u51ed\u636e\u3002\u6839\u636e\u60a8\u7684 OIDC \u63d0\u4f9b\u8005\u7684\u7b56\u7565\uff0c\u60a8\u53ef\u80fd\u4f1a\u88ab\u8981\u6c42\u66f4\u6539\u9996\u6b21\u767b\u5f55\u7684\u9ed8\u8ba4\u5bc6\u7801\u3002</li> <li>\u5b8c\u6210\u9a8c\u8bc1\u540e\uff0c\u7cfb\u7edf\u5c06\u6253\u5f00 \u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u70b9\u51fb\u6d41\u5206\u6790 Web \u63a7\u5236\u53f0\u3002</li> </ol> <p>\u767b\u5f55\u5230 \u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u70b9\u51fb\u6d41\u5206\u6790 \u63a7\u5236\u53f0\u540e\uff0c\u60a8\u53ef\u4ee5\u5f00\u59cb\u4e3a\u60a8\u7684\u5e94\u7528\u7a0b\u5e8f\u521b\u5efa\u9879\u76ee\u3002</p>"},{"location":"getting-started/","title":"\u5165\u95e8\u6307\u5357","text":"<p>\u5728\u90e8\u7f72\u89e3\u51b3\u65b9\u6848\u540e\uff0c\u53c2\u8003\u672c\u8282\u5185\u5bb9\u5feb\u901f\u4e86\u89e3\u5982\u4f55\u5229\u7528\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u70b9\u51fb\u6d41\u5206\u6790\u89e3\u51b3\u65b9\u6848\u6536\u96c6\u548c\u5206\u6790\u5e94\u7528\u7a0b\u5e8f\u7684\u4e8b\u4ef6\u6570\u636e\u3002\u672c\u7ae0\u5c06\u5411\u60a8\u5c55\u793a\u5982\u4f55\u521b\u5efa\u4e00\u4e2a\u65e0\u670d\u52a1\u5668\u6570\u636e\u7ba1\u9053\u6765\u6536\u96c6\u6765\u81ea\u5e94\u7528\u7a0b\u5e8f\u7684\u6570\u636e\uff0c\u5e76\u4f7f\u7528\u5206\u6790\u5de5\u4f5c\u574a\u67e5\u770b\u5185\u7f6e\u7684\u5206\u6790\u4eea\u8868\u677f\u548c\u63a2\u7d22\u5206\u6790\u70b9\u51fb\u6d41\u6570\u636e\u3002</p>"},{"location":"getting-started/#_2","title":"\u6b65\u9aa4","text":"<ul> <li>\u6b65\u9aa4 1\uff1a\u521b\u5efa\u9879\u76ee\u3002\u521b\u5efa\u4e00\u4e2a\u9879\u76ee\u3002</li> <li>\u6b65\u9aa4 2\uff1a\u914d\u7f6e\u6570\u636e\u7ba1\u9053\u3002\u4f7f\u7528\u65e0\u670d\u52a1\u5668\u57fa\u7840\u67b6\u6784\u914d\u7f6e\u6570\u636e\u7ba1\u9053\u3002</li> <li>\u6b65\u9aa4 3\uff1a\u96c6\u6210 SDK\u3002\u5c06SDK\u96c6\u6210\u5230\u60a8\u7684\u5e94\u7528\u7a0b\u5e8f\u4e2d\uff0c\u4ee5\u81ea\u52a8\u6536\u96c6\u6570\u636e\u5e76\u5c06\u6570\u636e\u53d1\u9001\u5230\u7ba1\u9053\u3002</li> <li>\u6b65\u9aa4 4\uff1a\u8bbf\u95ee\u5185\u7f6e\u4eea\u8868\u677f\u3002\u67e5\u770b\u57fa\u4e8e\u81ea\u52a8\u6536\u96c6\u7684\u5e94\u7528\u7a0b\u5e8f\u6570\u636e\u7684\u5185\u7f6e\u4eea\u8868\u677f\u3002</li> </ul>"},{"location":"getting-started/1.create-project/","title":"\u7b2c\u4e00\u6b65 - \u521b\u5efa\u9879\u76ee","text":"<p>\u8981\u5f00\u59cb\u4f7f\u7528\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u70b9\u51fb\u6d41\u5206\u6790\u89e3\u51b3\u65b9\u6848\uff0c\u9996\u5148\u9700\u8981\u5728\u89e3\u51b3\u65b9\u6848\u63a7\u5236\u53f0\u4e2d\u521b\u5efa\u4e00\u4e2a\u9879\u76ee\u3002\u9879\u76ee\u7c7b\u4f3c\u4e8e\u4e00\u4e2a\u5bb9\u5668\uff0c\u7528\u4e8e\u96c6\u4e2d\u7ba1\u7406\u6536\u96c6\u548c\u5206\u6790\u70b9\u51fb\u6d41\u6570\u636e\u7684\u6240\u6709\u76f8\u5173AWS\u8d44\u6e90\u3002</p>"},{"location":"getting-started/1.create-project/#_1","title":"\u5148\u51b3\u6761\u4ef6","text":"<p>\u786e\u4fdd\u60a8\u5df2\u90e8\u7f72\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u70b9\u51fb\u6d41\u5206\u6790\u89e3\u51b3\u65b9\u6848\u3002\u5982\u679c\u5c1a\u672a\u90e8\u7f72\uff0c\u8bf7\u53c2\u9605\u90e8\u7f72\u6307\u5357\u3002</p>"},{"location":"getting-started/1.create-project/#_2","title":"\u6b65\u9aa4","text":"<p>\u6309\u7167\u4ee5\u4e0b\u6b65\u9aa4\u521b\u5efa\u4e00\u4e2a\u9879\u76ee\u3002</p> <ol> <li>\u767b\u5f55\u5230AWS\u4e0a\u7684\u70b9\u51fb\u6d41\u5206\u6790\u63a7\u5236\u53f0\u3002</li> <li>\u5728\u4e3b\u9875\u4e0a\uff0c\u9009\u62e9\u521b\u5efa\u9879\u76ee\u3002</li> <li>\u5728\u5f39\u51fa\u7684\u7a97\u53e3\u4e2d\uff0c\u8f93\u5165\u4e00\u4e2a\u9879\u76ee\u540d\u79f0\uff0c\u4f8b\u5982<code>quickstart</code>\u3002</li> <li>\uff08\u53ef\u9009\uff09\u81ea\u5b9a\u4e49\u7531\u89e3\u51b3\u65b9\u6848\u81ea\u52a8\u521b\u5efa\u7684\u9879\u76eeID\u3002\u8981\u8fd9\u6837\u505a\uff0c\u70b9\u51fb<code>\u7f16\u8f91</code>\u56fe\u6807\uff0c\u6839\u636e\u60a8\u7684\u9700\u6c42\u66f4\u65b0\u9879\u76eeID\u3002</li> <li>\u4e3a\u60a8\u7684\u9879\u76ee\u63d0\u4f9b\u4e00\u4e2a\u63cf\u8ff0\uff0c\u4f8b\u5982<code>\u8fd9\u662f\u4e00\u4e2a\u6f14\u793a\u9879\u76ee</code>\u3002</li> <li>\u9009\u62e9\u4e0b\u4e00\u6b65\u3002</li> <li>\u63d0\u4f9b\u4e00\u4e2a\u7535\u5b50\u90ae\u4ef6\u5730\u5740\uff0c\u7528\u4e8e\u63a5\u6536\u4e0e\u8be5\u9879\u76ee\u76f8\u5173\u7684\u901a\u77e5\uff0c\u4f8b\u5982<code>email@example.com</code>\uff0c\u7136\u540e\u9009\u62e9\u4e0b\u4e00\u6b65\u3002</li> <li>\u4e3a\u8be5\u9879\u76ee\u6307\u5b9a\u4e00\u4e2a\u73af\u5883\u7c7b\u578b\u3002\u5728\u672c\u4f8b\u4e2d\uff0c\u9009\u62e9<code>\u5f00\u53d1</code>\u3002</li> <li>\u9009\u62e9\u521b\u5efa\u3002\u7b49\u5f85\u9879\u76ee\u521b\u5efa\u5b8c\u6210\uff0c\u60a8\u5c06\u88ab\u91cd\u5b9a\u5411\u5230\u9879\u76ee\u9875\u9762\u3002</li> </ol> <p>\u6211\u4eec\u5df2\u5b8c\u6210\u521b\u5efa\u9879\u76ee\u7684\u6240\u6709\u6b65\u9aa4\u3002</p>"},{"location":"getting-started/1.create-project/#_3","title":"\u4e0b\u4e00\u6b65","text":"<ul> <li>\u914d\u7f6e\u6570\u636e\u7ba1\u9053</li> </ul>"},{"location":"getting-started/2.config-pipeline/","title":"\u7b2c\u4e8c\u6b65 - \u914d\u7f6e\u6570\u636e\u6d41\u6c34\u7ebf","text":"<p>\u5728\u521b\u5efa\u9879\u76ee\u4e4b\u540e\uff0c\u60a8\u9700\u8981\u4e3a\u5176\u914d\u7f6e\u6570\u636e\u6d41\u6c34\u7ebf\u3002\u6570\u636e\u6d41\u6c34\u7ebf\u662f\u4e00\u7ec4\u8fde\u63a5\u7684\u6a21\u5757\uff0c\u7528\u4e8e\u6536\u96c6\u548c\u5904\u7406\u4ece\u5e94\u7528\u7a0b\u5e8f\u53d1\u9001\u7684\u70b9\u51fb\u6d41\u6570\u636e\u3002\u6570\u636e\u6d41\u6c34\u7ebf\u5305\u542b\u56db\u4e2a\u6a21\u5757\uff1a\u6444\u53d6\u3001\u5904\u7406\u3001\u5efa\u6a21\u548c\u62a5\u544a\u3002\u6709\u5173\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605\u6d41\u6c34\u7ebf\u7ba1\u7406\u3002</p> <p>\u8fd9\u91cc\u6211\u4eec\u63d0\u4f9b\u4e00\u4e2a\u793a\u4f8b\uff0c\u4ecb\u7ecd\u5982\u4f55\u4f7f\u7528\u7aef\u5230\u7aef\u65e0\u670d\u52a1\u5668\u57fa\u7840\u67b6\u6784\u521b\u5efa\u6570\u636e\u6d41\u6c34\u7ebf\u3002</p>"},{"location":"getting-started/2.config-pipeline/#_1","title":"\u6b65\u9aa4","text":"<ol> <li>\u767b\u5f55 Clickstream Analytics on AWS Console\u3002</li> <li>\u5728\u5de6\u4fa7\u5bfc\u822a\u7a97\u683c\u4e2d\uff0c\u9009\u62e9 Projects\uff0c\u7136\u540e\u9009\u62e9\u60a8\u5728 \u7b2c\u4e00\u6b65 \u4e2d\u521b\u5efa\u7684\u9879\u76ee\uff0c\u9009\u62e9\u53f3\u4e0a\u89d2\u7684 View Details \u5bfc\u822a\u5230\u9879\u76ee\u4e3b\u9875\u3002</li> <li>\u9009\u62e9 Configure pipeline\uff0c\u5b83\u5c06\u5e26\u60a8\u8fdb\u5165\u521b\u5efa\u9879\u76ee\u6570\u636e\u6d41\u6c34\u7ebf\u7684\u5411\u5bfc\u3002</li> <li> <p>\u5728 Basic information \u9875\u9762\u4e0a\uff0c\u6309\u4ee5\u4e0b\u65b9\u5f0f\u586b\u5199\u8868\u5355\uff1a</p> <ul> <li>AWS Region: <code>us-east-1</code></li> <li>VPC: \u9009\u62e9\u4e00\u4e2a\u7b26\u5408\u4ee5\u4e0b\u8981\u6c42\u7684 VPC<ul> <li>\u81f3\u5c11\u4e24\u4e2a\u4e0d\u540c AZ\uff08\u53ef\u7528\u533a\uff09\u7684\u516c\u5171\u5b50\u7f51</li> <li>\u81f3\u5c11\u4e24\u4e2a\u4e0d\u540c AZ \u7684\u79c1\u6709\u5b50\u7f51</li> <li>\u4e00\u4e2a NAT \u7f51\u5173\u6216\u5b9e\u4f8b</li> </ul> </li> <li>Data collection SDK: <code>Clickstream SDK</code></li> <li>Data location: \u9009\u62e9\u4e00\u4e2a S3 \u5b58\u50a8\u6876\uff08\u60a8\u53ef\u4ee5\u521b\u5efa\u4e00\u4e2a\u5b58\u50a8\u6876\uff0c\u5728\u5355\u51fb\u5237\u65b0\u6309\u94ae\u540e\u9009\u62e9\u5b83\u3002\uff09</li> </ul> <p>\u63d0\u793a</p> <p>\u8bf7\u53c2\u8003Amazon S3 \u7684\u6700\u4f73\u5b9e\u8df5 \u521b\u5efa\u548c\u914d\u7f6eAmazon S3\u5b58\u50a8\u6876\u3002\u8b6c\u5982\u542f\u7528 Amazon S3 \u670d\u52a1\u5668\u8bbf\u95ee\u65e5\u5fd7\u8bb0\u5f55\uff0c\u542f\u7528 S3 \u7248\u672c\u63a7\u5236 \u7b49\u7b49\u3002</p> <p>\u63d0\u793a</p> <p>\u5982\u679c\u6ca1\u6709\u7b26\u5408\u8981\u6c42\u7684 VPC\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528 VPC \u5411\u5bfc\u5feb\u901f\u521b\u5efa\u4e00\u4e2a VPC\u3002\u6709\u5173\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605\u521b\u5efa VPC\u3002\u6211\u4eec\u540c\u65f6\u5efa\u8bae\u60a8\u53c2\u8003VPC\u6700\u4f73\u5b9e\u8df5 \u914d\u7f6e\u60a8\u7684VPC\u3002</p> </li> <li> <p>\u9009\u62e9 Next\u3002</p> </li> <li> <p>\u5728 Configure ingestion \u9875\u9762\u4e0a\uff0c\u6309\u4ee5\u4e0b\u4fe1\u606f\u586b\u5199\u8868\u5355\uff1a</p> <ol> <li>\u586b\u5199 Ingestion endpoint settings \u8868\u5355\u3002<ul> <li>Public Subnets: \u5728\u4e24\u4e2a\u4e0d\u540c AZ \u7684\u516c\u5171\u5b50\u7f51\u4e2d\u9009\u62e9\u4e24\u4e2a</li> <li>Private Subnets: \u5728\u4e0e\u516c\u5171\u5b50\u7f51\u76f8\u540c\u7684 AZ \u4e2d\u9009\u62e9\u4e24\u4e2a\u79c1\u6709\u5b50\u7f51</li> <li>Ingestion capacity: \u4fdd\u6301\u9ed8\u8ba4\u503c</li> <li>Enable HTTPS: \u53d6\u6d88\u52fe\u9009\uff0c\u7136\u540e \u786e\u8ba4 \u5b89\u5168\u8b66\u544a</li> <li>\u8de8\u6e90\u8d44\u6e90\u5171\u4eab (CORS): \u7559\u7a7a</li> <li>Additional settings: \u4fdd\u6301\u9ed8\u8ba4\u503c</li> </ul> </li> <li>\u586b\u5199 Data sink settings \u8868\u5355\u3002<ul> <li>Sink type: <code>Amazon Kinesis Data Stream(KDS)</code></li> <li>Provision mode: <code>On-demand</code></li> <li>\u5728 Additional Settings \u4e2d\uff0c\u5c06 Sink Maximum Interval \u66f4\u6539\u4e3a <code>60</code>\uff0c\u5c06 Batch Size \u66f4\u6539\u4e3a <code>1000</code></li> </ul> </li> <li>\u70b9\u51fb Next \u8fdb\u5165\u7b2c 3 \u6b65\u3002</li> </ol> <p>\u91cd\u8981\u63d0\u793a</p> <p>\u5728\u751f\u4ea7\u5de5\u4f5c\u8d1f\u8f7d\u4e2d\uff0c\u4e0d\u63a8\u8350\u4f7f\u7528 HTTP \u914d\u7f6e\u3002\u6b64\u793a\u4f8b\u914d\u7f6e\u65e8\u5728\u5e2e\u52a9\u60a8\u66f4\u5feb\u5730\u5f00\u59cb\u4f7f\u7528\u3002</p> </li> <li> <p>\u5728\u914d\u7f6e\u6570\u636e\u5904\u7406\u4fe1\u606f\u4e2d\uff0c\u6309\u7167\u4ee5\u4e0b\u4fe1\u606f\u586b\u5199\uff1a</p> <ul> <li>\u5728\u542f\u7528\u6570\u636e\u5904\u7406\u7684\u8868\u5355\u4e2d\uff0c\u5207\u6362\u6253\u5f00\u542f\u7528\u6570\u636e\u5904\u7406\u3002</li> <li>\u5728\u6267\u884c\u53c2\u6570\u7684\u8868\u5355\u4e2d\uff0c<ul> <li>\u6570\u636e\u5904\u7406\u95f4\u9694\uff1a<ul> <li>\u9009\u62e9<code>\u56fa\u5b9a\u901f\u7387</code></li> <li>\u8f93\u5165<code>10</code></li> <li>\u9009\u62e9<code>\u5206\u949f</code></li> </ul> </li> <li>\u4e8b\u4ef6\u65b0\u9c9c\u5ea6\uff1a<code>35</code> <code>\u5929</code></li> </ul> </li> <li>\u5728\u4e30\u5bcc\u63d2\u4ef6\u7684\u8868\u5355\u4e2d\uff0c\u786e\u4fdd\u9009\u62e9\u4e86IP\u67e5\u627e\u548cUA\u89e3\u6790\u5668\u4e24\u4e2a\u63d2\u4ef6\u3002</li> <li>\u5728\u5206\u6790\u5f15\u64ce\u7684\u8868\u5355\u4e2d\uff0c\u6309\u7167\u4ee5\u4e0b\u65b9\u5f0f\u586b\u5199\u8868\u5355\uff1a<ul> <li>\u52fe\u9009Redshift\u7684\u6846\u3002</li> <li>\u9009\u62e9Redshift Serverless\u3002</li> <li>\u4fdd\u6301\u57fa\u672cRPU\u4e3a8\u3002</li> <li>VPC\uff1a\u9009\u62e9\u9ed8\u8ba4\u7684VPC\uff0c\u6216\u8005\u9009\u62e9\u5728\u4e0a\u4e00\u6b65\u4e2d\u4e4b\u524d\u9009\u62e9\u7684VPC\u3002</li> <li>\u5b89\u5168\u7ec4\uff1a\u9009\u62e9<code>default</code>\u5b89\u5168\u7ec4\u3002</li> <li>\u5b50\u7f51\uff1a\u9009\u62e9\u4e09\u4e2a\u4e0d\u540c\u53ef\u7528\u533a\u7684\u5b50\u7f51\u3002</li> <li>\u4fdd\u6301Athena\u7684\u9ed8\u8ba4\u9009\u62e9\u3002</li> </ul> </li> <li>\u9009\u62e9\u4e0b\u4e00\u6b65\u3002</li> </ul> <p>Important</p> <p>\u5728\u6b64\u793a\u4f8b\u4e2d\uff0c\u6211\u4eec\u5c06\u6570\u636e\u5904\u7406\u95f4\u9694\u8bbe\u7f6e\u4e3a 10 \u5206\u949f\uff0c\u8fd9\u6837\u60a8\u5c31\u53ef\u4ee5\u5728\u51e0\u5206\u949f\u5185\u67e5\u770b\u6570\u636e\uff0c\u4f46\u60a8\u53ef\u4ee5\u7a0d\u540e\u66f4\u6539\u95f4\u9694\u4ee5\u964d\u4f4e\u9891\u7387\uff0c\u4ee5\u8282\u7701\u6210\u672c\u3002\u8981\u66f4\u6539\u6570\u636e\u7ba1\u9053\uff0c\u8bf7\u53c2\u9605 \u66f4\u65b0\u7ba1\u9053\u3002 </p> </li> <li> <p>\u5728\u62a5\u544a\u9875\u9762\uff0c\u6309\u7167\u4ee5\u4e0b\u65b9\u5f0f\u586b\u5199\u8868\u5355\uff1a</p> <ul> <li>\u5982\u679c\u60a8\u7684AWS\u8d26\u53f7\u5c1a\u672a\u8ba2\u9605QuickSight\uff0c\u8bf7\u6309\u7167\u6b64\u6307\u5357\u8fdb\u884c\u8ba2\u9605\u3002</li> <li>\u786e\u4fdd</li> <li>\u9009\u62e9\u4e0b\u4e00\u6b65\u3002</li> </ul> </li> <li> <p>\u5728\u5ba1\u6838\u548c\u542f\u52a8\u9875\u9762\uff0c\u67e5\u770b\u60a8\u7684\u7ba1\u9053\u914d\u7f6e\u8be6\u60c5\u3002\u5982\u679c\u4e00\u5207\u914d\u7f6e\u6b63\u786e\uff0c\u8bf7\u9009\u62e9\u521b\u5efa\u3002</p> </li> </ol> <p>\u6211\u4eec\u5df2\u5b8c\u6210\u914d\u7f6e\u9879\u76ee\u7684\u6240\u6709\u6b65\u9aa4\u3002\u8be5\u7ba1\u9053\u5c06\u9700\u8981\u5927\u7ea620\u5206\u949f\u6765\u521b\u5efa\uff0c\u8bf7\u7b49\u5f85\u7ba1\u9053\u8be6\u7ec6\u9875\u9762\u4e2d\u7684\u7ba1\u9053\u72b6\u6001\u53d8\u4e3a\u6d3b\u52a8\u3002</p>"},{"location":"getting-started/2.config-pipeline/#_2","title":"\u4e0b\u4e00\u6b65","text":"<ul> <li>\u96c6\u6210SDK</li> </ul>"},{"location":"getting-started/3.integrate-sdk/","title":"\u6b65\u9aa4 3 - \u96c6\u6210 SDK","text":"<p>\u4e00\u65e6\u6d41\u6c34\u7ebf\u7684\u72b6\u6001\u53d8\u4e3a\u201cActive\u201d\uff0c\u5b83\u5c31\u51c6\u5907\u597d\u63a5\u6536\u70b9\u51fb\u6d41\u6570\u636e\u4e86\u3002\u73b0\u5728\u60a8\u9700\u8981\u5728\u6d41\u6c34\u7ebf\u4e2d\u6ce8\u518c\u4e00\u4e2a\u5e94\u7528\u7a0b\u5e8f\uff0c\u7136\u540e\u5c06 SDK \u96c6\u6210\u5230\u60a8\u7684\u5e94\u7528\u7a0b\u5e8f\u4e2d\uff0c\u4ee5\u4f7f\u5176\u80fd\u591f\u5c06\u6570\u636e\u53d1\u9001\u5230\u6d41\u6c34\u7ebf\u3002</p>"},{"location":"getting-started/3.integrate-sdk/#_1","title":"\u6b65\u9aa4","text":"<ol> <li>\u767b\u5f55 AWS \u63a7\u5236\u53f0\u4e0a\u7684 Clickstream Analytics\u3002</li> <li>\u5728\u5de6\u4fa7\u5bfc\u822a\u7a97\u683c\u4e2d\uff0c\u9009\u62e9 Projects\uff0c\u7136\u540e\u9009\u62e9\u4e4b\u524d\u521b\u5efa\u7684\u9879\u76ee\uff08<code>quickstart</code>\uff09\uff0c\u70b9\u51fb\u5176\u6807\u9898\uff0c\u8fdb\u5165\u9879\u76ee\u9875\u9762\u3002</li> <li>\u9009\u62e9 + Add application \u5f00\u59cb\u5411\u6d41\u6c34\u7ebf\u6dfb\u52a0\u5e94\u7528\u7a0b\u5e8f\u3002</li> <li> <p>\u6309\u7167\u4ee5\u4e0b\u8868\u683c\u586b\u5199\u8868\u5355\uff1a</p> <ul> <li>App \u540d\u79f0\uff1a<code>test-app</code></li> <li>App ID\uff1a\u7cfb\u7edf\u5c06\u6839\u636e\u540d\u79f0\u751f\u6210\u4e00\u4e2a ID\uff0c\u5982\u679c\u9700\u8981\uff0c\u60a8\u53ef\u4ee5\u81ea\u5b9a\u4e49\u5b83\u3002</li> <li>\u63cf\u8ff0\uff1a<code>\u7528\u4e8e Clickstream Analytics on AWS \u89e3\u51b3\u65b9\u6848\u7684\u6d4b\u8bd5\u5e94\u7528\u7a0b\u5e8f</code></li> <li>Android \u5305\u540d\u79f0\uff1a\u7559\u7a7a</li> <li>App Bundle ID\uff1a\u7559\u7a7a</li> </ul> </li> <li> <p>\u9009\u62e9 \u6ce8\u518c\u5e94\u7528\u7a0b\u5e8f\u5e76\u751f\u6210 SDK \u6307\u4ee4\uff0c\u5e76\u7b49\u5f85\u6ce8\u518c\u5b8c\u6210\u3002</p> </li> <li> <p>\u9009\u62e9 Android \u9009\u9879\u5361\uff0c\u60a8\u5c06\u770b\u5230\u5c06 SDK \u6dfb\u52a0\u5230\u5e94\u7528\u7a0b\u5e8f\u7684\u8be6\u7ec6\u8bf4\u660e\u3002\u60a8\u53ef\u4ee5\u6309\u7167\u6b65\u9aa4\u6dfb\u52a0 SDK\u3002</p> </li> <li> <p>\u5355\u51fb \u4e0b\u8f7d\u914d\u7f6e json \u6587\u4ef6 \u6309\u94ae\u4e0b\u8f7d\u914d\u7f6e\u6587\u4ef6\uff0c\u5e76\u5c06\u6b64\u6587\u4ef6\u4fdd\u6301\u6253\u5f00\uff0c\u7a0d\u540e\u4f1a\u7528\u5230\u3002</p> </li> </ol> <p>\u66f4\u65b0\u6d41\u6c34\u7ebf\u4ee5\u6dfb\u52a0\u60a8\u521a\u521a\u6dfb\u52a0\u7684\u5e94\u7528\u7a0b\u5e8f\u53ef\u80fd\u9700\u8981\u5927\u7ea6 3 ~ 5 \u5206\u949f\u7684\u65f6\u95f4\u3002\u5f53\u60a8\u770b\u5230\u6d41\u6c34\u7ebf\u72b6\u6001\u518d\u6b21\u53d8\u4e3a Active \u65f6\uff0c\u5b83\u5df2\u51c6\u5907\u597d\u63a5\u6536\u6765\u81ea\u60a8\u7684\u5e94\u7528\u7a0b\u5e8f\u7684\u6570\u636e\u3002</p> <p>\u6211\u4eec\u5df2\u7ecf\u5b8c\u6210\u4e86\u5c06\u5e94\u7528\u7a0b\u5e8f\u6dfb\u52a0\u5230\u9879\u76ee\u7684\u6240\u6709\u6b65\u9aa4\u3002</p>"},{"location":"getting-started/3.integrate-sdk/#_2","title":"\u751f\u6210\u793a\u4f8b\u6570\u636e","text":"<p>\u60a8\u53ef\u80fd\u65e0\u6cd5\u7acb\u5373\u8bbf\u95ee\u5c06 SDK \u4e0e\u60a8\u7684\u5e94\u7528\u7a0b\u5e8f\u96c6\u6210\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u63d0\u4f9b\u4e86\u4e00\u4e2a Python \u811a\u672c\uff0c\u7528\u4e8e\u751f\u6210\u793a\u4f8b\u6570\u636e\u5230\u60a8\u521a\u521a\u914d\u7f6e\u7684\u6d41\u6c34\u7ebf\uff0c\u4ee5\u4fbf\u60a8\u53ef\u4ee5\u67e5\u770b\u548c\u4f53\u9a8c\u5206\u6790\u4eea\u8868\u677f\u3002</p>"},{"location":"getting-started/3.integrate-sdk/#_3","title":"\u5148\u51b3\u6761\u4ef6","text":"<ul> <li>Python 3.8+</li> </ul>"},{"location":"getting-started/3.integrate-sdk/#_4","title":"\u6b65\u9aa4","text":"<ol> <li>\u5c06\u4ee3\u7801\u5e93\u514b\u9686\u5230\u672c\u5730\u73af\u5883\u3002    <pre><code>git clone https://github.com/awslabs/clickstream-analytics-on-aws.git\n</code></pre></li> <li> <p>\u5728\u514b\u9686\u4ee3\u7801\u5e93\u540e\uff0c\u5207\u6362\u5230 <code>examples/standalone-data-generator</code> \u9879\u76ee\u6587\u4ef6\u5939\u3002</p> </li> <li> <p>\u5b89\u88c5\u9879\u76ee\u7684\u4f9d\u8d56\u9879\u3002     <pre><code>pip3 install requests\n</code></pre></p> </li> <li> <p>\u5c06\u5728\u6ce8\u518c\u5e94\u7528\u6b65\u9aa4\u4e2d\u4e0b\u8f7d\u7684 <code>amplifyconfiguration.json</code> \u6587\u4ef6\u653e\u5165 <code>examples/standalone-data-generator</code> \u7684\u6839\u76ee\u5f55\u4e2d\u3002\u8bf7\u67e5\u770b <code>examples/standalone-data-generator/README.md</code> \u4e86\u89e3\u66f4\u591a\u7528\u6cd5\u3002</p> </li> <li> <p>\u5728\u6b64\u9879\u76ee\u6587\u4ef6\u5939\u4f4d\u7f6e\u6253\u5f00\u7ec8\u7aef\u3002\u4f8b\u5982\uff0c\u5982\u679c\u60a8\u4f7f\u7528 Visual Studio Code IDE\uff0c\u70b9\u51fb Visual Studio Code \u9876\u90e8\u7684 Terminal -&gt; New Terminal \u6253\u5f00\u7ec8\u7aef\u3002</p> </li> <li> <p>\u5c06\u4ee5\u4e0b\u547d\u4ee4\u590d\u5236\u5e76\u7c98\u8d34\u5230\u7ec8\u7aef\u4e2d\uff1a</p> <pre><code>python3 create_event.py\n</code></pre> </li> </ol> <p>\u5728\u7ec8\u7aef\u4e2d\u6309\u4e0b <code>Enter</code> \u952e\u6267\u884c\u8be5\u7a0b\u5e8f\u3002\u5982\u679c\u60a8\u770b\u5230\u4ee5\u4e0b\u8f93\u51fa\uff0c\u5219\u8868\u793a\u7a0b\u5e8f\u6267\u884c\u5df2\u5b8c\u6210\u3002</p> <pre><code>job finished, upload 4360476 events, cost: 95100ms\n</code></pre> <p>\u8be5\u8fc7\u7a0b\u5c06\u82b1\u8d39\u7ea610\u5206\u949f\uff0c\u9ed8\u8ba4\u914d\u7f6e\u3002\u4f5c\u4e1a\u5b8c\u6210\u540e\uff0c\u60a8\u53ef\u4ee5\u8fdb\u884c\u4e0b\u4e00\u6b65\u64cd\u4f5c\u3002</p>"},{"location":"getting-started/3.integrate-sdk/#_5","title":"\u4e0b\u4e00\u6b65","text":"<ul> <li>\u67e5\u770b\u4eea\u8868\u677f</li> </ul>"},{"location":"getting-started/4.view-dashboard/","title":"\u7b2c\u56db\u6b65 - \u67e5\u770b\u4eea\u8868\u677f","text":"<p>\u5728\u60a8\u7684\u5e94\u7528\u7a0b\u5e8f\u53d1\u9001\u6570\u636e\uff08\u6216\u8005\u53d1\u9001\u793a\u4f8b\u6570\u636e\uff09\u5230\u6d41\u6c34\u7ebf\u4e4b\u540e\uff0c\u60a8\u53ef\u4ee5\u5728\u5206\u6790\u5de5\u4f5c\u574a\u4e2d\u67e5\u770b\u7531\u89e3\u51b3\u65b9\u6848\u521b\u5efa\u7684\u5f00\u7bb1\u5373\u7528\u7684\u4eea\u8868\u677f\u548c\u67e5\u8be2\u6570\u636e\u3002</p>"},{"location":"getting-started/4.view-dashboard/#_1","title":"\u6b65\u9aa4","text":"<ol> <li>\u767b\u5f55\u5230 AWS\u63a7\u5236\u53f0\u4e0a\u7684Clickstream Analytics\u3002</li> <li>\u5728\u5de6\u4fa7\u5bfc\u822a\u7a97\u683c\u4e2d\uff0c\u9009\u62e9 \u5206\u6790\u5de5\u4f5c\u574a\uff0c\u4e00\u4e2a\u65b0\u7f51\u9875\u754c\u9762\u5e94\u8be5\u5728\u6d4f\u89c8\u5668\u4e2d\u6253\u5f00\u3002</li> <li>\u5728 Analytics Studio \u9875\u9762\u4e2d\uff0c\u5728\u7f51\u9875\u9876\u90e8\u7684\u4e0b\u62c9\u5217\u8868\u4e2d\u9009\u62e9\u60a8\u521a\u624d\u521b\u5efa\u7684\u9879\u76ee\u548c\u5e94\u7528\u7a0b\u5e8f</li> <li>\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u4f60\u5e94\u8be5\u8fdb\u5165\u4eea\u8868\u677f\u9875\u9762\uff0c\u5982\u679c\u6ca1\u6709\uff0c\u8bf7\u70b9\u51fb\u5de6\u4fa7\u5bfc\u822a\u9762\u677f\u4e2d\u7684\u7b2c\u4e00\u4e2a\u56fe\u6807\uff08\u4eea\u8868\u677f\uff09\u3002       </li> <li>\u5355\u51fb \u201c\u7528\u6237\u751f\u547d\u5468\u671f\u4eea\u8868\u677f-\u9ed8\u8ba4\u201d\uff0c\u60a8\u5c06\u80fd\u591f\u770b\u5230\u89e3\u51b3\u65b9\u6848\u521b\u5efa\u7684\u4eea\u8868\u677f\u3002</li> <li>\u70b9\u51fb\u5de6\u4fa7\u5bfc\u822a\u9762\u677f\u4e2d\u7684\u7b2c\u4e8c\u4e2a\u56fe\u6807\uff08\u63a2\u7d22\uff09\uff0c\u60a8\u5c06\u80fd\u591f\u4f7f\u7528\u63a2\u7d22\u6027\u5206\u6790\u6a21\u578b\u67e5\u8be2\u70b9\u51fb\u6d41\u6570\u636e\u3002</li> </ol> <p>\u606d\u559c\uff01\u60a8\u5df2\u5b8c\u6210\u5165\u95e8\u6559\u7a0b\u3002\u60a8\u53ef\u4ee5\u8bd5\u7528\u4f7f\u7528\u5206\u6790\u5de5\u4f5c\u574a\u7684\u529f\u80fd\u67e5\u8be2\u5206\u6790\u6570\u636e\uff0c\u6216\u8005\u7a0d\u540e\u7ee7\u7eed\u4e86\u89e3\u66f4\u591a\u5173\u4e8e\u8fd9\u4e2a\u89e3\u51b3\u65b9\u6848\u7684\u5185\u5bb9\u3002</p>"},{"location":"getting-started/4.view-dashboard/#_2","title":"\u4e0b\u4e00\u6b65","text":"<ul> <li>\u7ba1\u9053\u7ba1\u7406</li> </ul>"},{"location":"pipeline-mgmt/","title":"\u6570\u636e\u7ba1\u9053","text":"<p>\u6570\u636e\u7ba1\u9053\u662f\u89e3\u51b3\u65b9\u6848\u7684\u6838\u5fc3\u529f\u80fd\u3002\u5728 \u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u70b9\u51fb\u6d41\u5206\u6790 \u89e3\u51b3\u65b9\u6848\u4e2d\uff0c\u6211\u4eec\u5c06\u6570\u636e\u7ba1\u9053\u5b9a\u4e49\u4e3a\u5c06\u70b9\u51fb\u6d41\u6570\u636e\u6444\u53d6\u3001\u5904\u7406\u548c\u5efa\u6a21\u6210\u76ee\u6807\u6570\u636e\u4ed3\u5e93\u7684\u4e00\u7cfb\u5217\u96c6\u6210 AWS \u670d\u52a1\u7684\u5e8f\u5217\u3002\u5b83\u8fd8\u88ab\u8bbe\u8ba1\u4e3a\u9ad8\u6548\u53ef\u9760\u5730\u4ece\u60a8\u7684\u7f51\u7ad9\u548c\u5e94\u7528\u7a0b\u5e8f\u6536\u96c6\u6570\u636e\u5230\u57fa\u4e8e S3 \u7684\u6570\u636e\u6e56\u4e2d\uff0c\u53ef\u4ee5\u8fdb\u4e00\u6b65\u5904\u7406\u3001\u5206\u6790\u548c\u7528\u4e8e\u5176\u4ed6\u7528\u4f8b\uff08\u4f8b\u5982\u5b9e\u65f6\u76d1\u63a7\u548c\u63a8\u8350\uff09\u3002</p>"},{"location":"pipeline-mgmt/#_2","title":"\u6982\u5ff5","text":"<p>\u5728\u521b\u5efa\u6570\u636e\u7ba1\u9053\u4e4b\u524d\uff0c\u60a8\u53ef\u4ee5\u5728\u672c\u89e3\u51b3\u65b9\u6848\u4e2d\u5b66\u4e60\u4e00\u4e9b\u6982\u5ff5\uff0c\u4ee5\u4fbf\u5c06\u6570\u636e\u7ba1\u9053\u914d\u7f6e\u4e3a\u6700\u7b26\u5408\u60a8\u4e1a\u52a1\u76ee\u6807\u7684\u65b9\u5f0f\u3002</p>"},{"location":"pipeline-mgmt/#_3","title":"\u9879\u76ee","text":"<p>\u672c\u89e3\u51b3\u65b9\u6848\u4e2d\u7684\u9879\u76ee\u662f\u9876\u5c42\u5b9e\u4f53\uff0c\u7c7b\u4f3c\u4e8e\u4e00\u4e2a\u5bb9\u5668\uff0c\u7528\u4e8e\u5206\u7ec4\u60a8\u7684\u5e94\u7528\u7a0b\u5e8f\u548c\u6536\u96c6\u548c\u5904\u7406\u70b9\u51fb\u6d41\u6570\u636e\u7684\u6570\u636e\u7ba1\u9053\u3002\u4e00\u4e2a\u9879\u76ee\u5305\u542b\u4e00\u4e2a\u6570\u636e\u7ba1\u9053\uff0c\u5e76\u4e14\u53ef\u4ee5\u6709\u4e00\u4e2a\u6216\u591a\u4e2a\u5e94\u7528\u7a0b\u5e8f\u6ce8\u518c\u5230\u5b83\u3002</p>"},{"location":"pipeline-mgmt/#_4","title":"\u6570\u636e\u7ba1\u9053","text":"<p>\u6570\u636e\u7ba1\u9053\u90e8\u7f72\u5728\u4e00\u4e2a AWS \u533a\u57df\u4e2d\uff0c\u8fd9\u610f\u5473\u7740\u6240\u6709\u57fa\u7840\u8d44\u6e90\u90fd\u5728\u4e00\u4e2a AWS \u533a\u57df\u4e2d\u521b\u5efa\u3002\u672c\u89e3\u51b3\u65b9\u6848\u4e2d\u7684\u6570\u636e\u7ba1\u9053\u5305\u542b\u56db\u4e2a\u6a21\u5757\uff1a</p> <ul> <li>\u6570\u636e\u6444\u53d6\uff1a\u63d0\u4f9b\u901a\u8fc7 HTTP \u8bf7\u6c42\u6536\u96c6\u6570\u636e\u7684\u7aef\u70b9\u7684 Web \u670d\u52a1\uff0c\u5e76\u5c06\u6570\u636e\u6c47\u5165\u6d41\u670d\u52a1\u6216 S3\u3002</li> <li>\u6570\u636e\u5904\u7406\uff1a\u5c06\u539f\u59cb\u6570\u636e\u8f6c\u6362\u4e3a\u89e3\u51b3\u65b9\u6848\u67b6\u6784\u5e76\u4f7f\u7528\u5176\u4ed6\u7ef4\u5ea6\u4e30\u5bcc\u6570\u636e\u7684\u6a21\u5757\u3002</li> <li>\u6570\u636e\u5efa\u6a21\uff1a\u805a\u5408\u6570\u636e\u4ee5\u8ba1\u7b97\u4e1a\u52a1\u5206\u6790\u6307\u6807\u7684\u6a21\u5757\u3002</li> <li>\u62a5\u8868\uff1a\u5728 QuickSight \u4e2d\u521b\u5efa\u6307\u6807\u548c\u5f00\u7bb1\u5373\u7528\u7684\u53ef\u89c6\u5316\u4eea\u8868\u677f\uff0c\u4f7f\u5f97\u7528\u6237\u80fd\u591f\u5728\u5206\u6790\u5de5\u4f5c\u574a\u4e2d\u67e5\u770b\u62a5\u8868\u548c\u67e5\u8be2\u70b9\u51fb\u6d41\u6570\u636e\u7684\u6a21\u5757\u3002</li> </ul>"},{"location":"pipeline-mgmt/#_5","title":"\u5e94\u7528\u7a0b\u5e8f","text":"<p>\u672c\u89e3\u51b3\u65b9\u6848\u4e2d\u7684\u5e94\u7528\u7a0b\u5e8f\u53ef\u4ee5\u4ee3\u8868\u60a8\u4e1a\u52a1\u4e2d\u7684\u4e00\u4e2a\u5e94\u7528\u7a0b\u5e8f\uff0c\u8be5\u5e94\u7528\u7a0b\u5e8f\u53ef\u80fd\u6784\u5efa\u5728\u4e00\u4e2a\u6216\u591a\u4e2a\u5e73\u53f0\u4e0a\uff08\u4f8b\u5982 Android\u3001iOS \u548c Web\uff09\u3002</p>"},{"location":"pipeline-mgmt/#_6","title":"\u4eea\u8868\u677f","text":"<p>\u5bf9\u4e8e\u5728\u4eea\u8868\u677f\u4e2d\u6ce8\u518c\u7684\u6bcf\u4e2a\u5e94\u7528\u7a0b\u5e8f\uff0c\u89e3\u51b3\u65b9\u6848\u5c06\u5728 AWS \u533a\u57df\u4e2d\u4e3a\u6bcf\u4e2a\u5e94\u7528\u7a0b\u5e8f\u521b\u5efa\u4e00\u4e2a QuickSight \u4eea\u8868\u677f\u3002</p> <p>\u4e0b\u9762\u662f\u4e00\u4e2a\u56fe\u89e3\uff0c\u4ee5\u5e2e\u52a9\u60a8\u66f4\u597d\u5730\u7406\u89e3\u8fd9\u4e9b\u6982\u5ff5\u53ca\u5176\u5728 AWS \u4e0a\u4e0b\u6587\u4e2d\u7684\u5173\u7cfb\u3002</p> <p></p>"},{"location":"pipeline-mgmt/#_7","title":"\u5148\u51b3\u6761\u4ef6","text":"<p>\u60a8\u53ef\u4ee5\u5728\u6240\u6709 AWS \u533a\u57df\u4e2d\u914d\u7f6e\u7ba1\u9053\u3002\u5bf9\u4e8e\u9700\u8981\u9009\u62e9\u7684\u533a\u57df\uff0c\u60a8\u9700\u8981\u9996\u5148\u542f\u7528\u5b83\u4eec\u3002</p> <p>\u5728\u5f00\u59cb\u5728\u7279\u5b9a\u533a\u57df\u4e2d\u914d\u7f6e\u7ba1\u9053\u4e4b\u524d\uff0c\u8bf7\u786e\u4fdd\u76ee\u6807\u533a\u57df\u4e2d\u5177\u6709\u4ee5\u4e0b\u5185\u5bb9\uff1a</p> <ul> <li>\u81f3\u5c11\u4e00\u4e2a Amazon VPC\u3002</li> <li>\u5728 VPC \u4e2d\u81f3\u5c11\u6709\u4e24\u4e2a\u516c\u5171\u5b50\u7f51\u8de8\u8d8a\u4e24\u4e2a\u53ef\u7528\u533a\u3002</li> <li>\u5728 VPC \u4e2d\u81f3\u5c11\u6709\u4e24\u4e2a\u79c1\u6709\u5b50\u7f51\uff08\u5e26 NAT \u7f51\u5173\u6216\u5b9e\u4f8b\uff09\u8de8\u8d8a\u4e24\u4e2a\u53ef\u7528\u533a\uff0c\u6216\u8005\u5728 VPC \u4e2d\u81f3\u5c11\u6709\u4e24\u4e2a\u9694\u79bb\u5b50\u7f51\u8de8\u8d8a\u4e24\u4e2a\u53ef\u7528\u533a\u3002\u5982\u679c\u60a8\u60f3\u5c06\u89e3\u51b3\u65b9\u6848\u8d44\u6e90\u90e8\u7f72\u5728\u9694\u79bb\u5b50\u7f51\u4e2d\uff0c\u5219\u5fc5\u987b\u4e3a\u4ee5\u4e0b AWS \u670d\u52a1\u521b\u5efa VPC \u7ec8\u7aef\uff0c<ul> <li><code>s3</code>\u3001<code>logs</code>\u3001<code>ecr.api</code>\u3001<code>ecr.dkr</code>\u3001<code>ecs</code>\u3001<code>ecs-agent</code>\u3001<code>ecs-telemetry</code>\u3002</li> <li>\u5982\u679c\u60a8\u5728\u6444\u53d6\u6a21\u5757\u4e2d\u4f7f\u7528 KDS \u4f5c\u4e3a\u7f13\u51b2\u5668\uff0c\u5219\u4e3a <code>kinesis-streams</code>\u3002</li> <li>\u5982\u679c\u60a8\u542f\u7528\u6570\u636e\u5904\u7406\u6a21\u5757\uff0c\u5219\u4e3a <code>emr-serverless</code>\u3001<code>glue</code>\u3002</li> <li>\u5982\u679c\u60a8\u5728\u6570\u636e\u5efa\u6a21\u6a21\u5757\u4e2d\u542f\u7528 Redshift \u4f5c\u4e3a\u5206\u6790\u5f15\u64ce\uff0c\u5219\u4e3a <code>redshift-data</code>\u3001<code>sts</code>\u3001<code>dynamodb</code>\u3001<code>states</code> \u548c <code>lambda</code>\u3002</li> </ul> </li> <li>\u4e00\u4e2a\u4f4d\u4e8e\u540c\u4e00\u533a\u57df\u7684 S3 \u5b58\u50a8\u6876\u3002</li> <li>\u5982\u679c\u60a8\u9700\u8981\u5728\u6570\u636e\u5efa\u6a21\u6a21\u5757\u4e2d\u542f\u7528 Redshift Serverless \u4f5c\u4e3a\u5206\u6790\u5f15\u64ce\uff0c\u5219\u9700\u8981\u8de8\u81f3\u5c11\u4e09\u4e2a\u53ef\u7528\u533a\u7684\u5b50\u7f51\u3002</li> <li>\u5982\u679c\u542f\u7528\u4e86\u62a5\u8868\u529f\u80fd\uff0c\u5219\u9700\u8981 QuickSight \u4f01\u4e1a\u7248\u8ba2\u9605\u3002</li> </ul>"},{"location":"pipeline-mgmt/pipe-mgmt/","title":"\u6570\u636e\u7ba1\u9053\u7ef4\u62a4","text":"<p>\u672c\u89e3\u51b3\u65b9\u6848\u63d0\u4f9b\u4e86\u4e09\u4e2a\u529f\u80fd\uff0c\u5e2e\u52a9\u60a8\u7ba1\u7406\u548c\u7ef4\u62a4\u521b\u5efa\u540e\u7684\u6570\u636e\u7ba1\u9053\u3002</p>"},{"location":"pipeline-mgmt/pipe-mgmt/#_2","title":"\u76d1\u63a7\u548c\u544a\u8b66","text":"<p>\u8be5\u89e3\u51b3\u65b9\u6848\u4ece\u6570\u636e\u7ba1\u9053\u4e2d\u6536\u96c6\u6bcf\u4e2a\u8d44\u6e90\u7684\u6307\u6807\uff0c\u5e76\u5728 CloudWatch \u4e2d\u521b\u5efa\u76d1\u63a7\u4eea\u8868\u677f\uff0c\u4e3a\u60a8\u63d0\u4f9b\u5168\u9762\u7684\u7ba1\u9053\u72b6\u6001\u89c6\u56fe\u3002\u5b83\u8fd8\u63d0\u4f9b\u4e86\u4e00\u7ec4\u544a\u8b66\uff0c\u5982\u679c\u51fa\u73b0\u5f02\u5e38\u60c5\u51b5\uff0c\u5c06\u901a\u77e5\u9879\u76ee\u6240\u6709\u8005\u3002</p> <p>\u4ee5\u4e0b\u662f\u67e5\u770b\u76d1\u63a7\u4eea\u8868\u677f\u548c\u544a\u8b66\u7684\u6b65\u9aa4\u3002</p>"},{"location":"pipeline-mgmt/pipe-mgmt/#_3","title":"\u76d1\u63a7\u4eea\u8868\u677f","text":"<p>\u8981\u67e5\u770b\u6570\u636e\u7ba1\u9053\u7684\u76d1\u63a7\u4eea\u8868\u677f\uff0c\u8bf7\u6309\u4ee5\u4e0b\u6b65\u9aa4\u64cd\u4f5c\uff1a</p> <ol> <li>\u8fdb\u5165\u9879\u76ee\u8be6\u7ec6\u4fe1\u606f\u9875\u9762\u3002</li> <li>\u5355\u51fb\u201c\u9879\u76ee ID\u201d\u6216\u201c\u67e5\u770b\u8be6\u7ec6\u4fe1\u606f\u201d\u6309\u94ae\uff0c\u5c06\u8df3\u8f6c\u5230\u7ba1\u9053\u8be6\u7ec6\u4fe1\u606f\u9875\u9762\u3002</li> <li>\u5355\u51fb\u201c\u76d1\u63a7\u201d\u9009\u9879\u5361\u3002</li> <li>\u5728\u9009\u9879\u5361\u4e2d\uff0c\u5355\u51fb\u201c\u5728 CloudWatch \u4e2d\u67e5\u770b\u201d\u6309\u94ae\uff0c\u5c06\u8df3\u8f6c\u5230\u76d1\u63a7\u4eea\u8868\u677f\u9875\u9762\u3002</li> </ol>"},{"location":"pipeline-mgmt/pipe-mgmt/#_4","title":"\u544a\u8b66","text":"<p>\u8981\u67e5\u770b\u6570\u636e\u7ba1\u9053\u7684\u544a\u8b66\uff0c\u8bf7\u6309\u4ee5\u4e0b\u6b65\u9aa4\u64cd\u4f5c\uff1a</p> <ol> <li>\u8fdb\u5165\u9879\u76ee\u8be6\u7ec6\u4fe1\u606f\u9875\u9762\u3002</li> <li>\u5355\u51fb\u201c\u9879\u76ee ID\u201d\u6216\u201c\u67e5\u770b\u8be6\u7ec6\u4fe1\u606f\u201d\u6309\u94ae\uff0c\u5c06\u8df3\u8f6c\u5230\u7ba1\u9053\u8be6\u7ec6\u4fe1\u606f\u9875\u9762\u3002</li> <li>\u5355\u51fb\u201c\u544a\u8b66\u201d\u9009\u9879\u5361\u3002</li> <li>\u5728\u9009\u9879\u5361\u4e2d\uff0c\u60a8\u53ef\u4ee5\u67e5\u770b\u6240\u6709\u544a\u8b66\u3002\u60a8\u8fd8\u53ef\u4ee5\u5355\u51fb\u201c\u5728 CloudWatch \u4e2d\u67e5\u770b\u201d\u6309\u94ae\uff0c\u5c06\u60a8\u8df3\u8f6c\u5230 CloudWatch \u544a\u8b66\u9875\u9762\u67e5\u770b\u544a\u8b66\u8be6\u7ec6\u4fe1\u606f\u3002</li> <li>\u60a8\u8fd8\u53ef\u4ee5\u901a\u8fc7\u9009\u62e9\u544a\u8b66\uff0c\u7136\u540e\u5355\u51fb\u201c\u542f\u7528\u201d\u6216\u201c\u7981\u7528\u201d\u6309\u94ae\u6765\u542f\u7528\u6216\u7981\u7528\u544a\u8b66\u3002</li> </ol>"},{"location":"pipeline-mgmt/pipe-mgmt/#_5","title":"\u7ba1\u9053\u4fee\u6539","text":"<p>\u5728\u521b\u5efa\u6570\u636e\u7ba1\u9053\u540e\uff0c\u60a8\u53ef\u4ee5\u4fee\u6539\u67d0\u4e9b\u914d\u7f6e\u3002\u6309\u4ee5\u4e0b\u6b65\u9aa4\u66f4\u65b0\u7ba1\u9053\u3002</p> <ol> <li>\u8fdb\u5165\u9879\u76ee\u8be6\u7ec6\u4fe1\u606f\u9875\u9762\u3002</li> <li>\u5355\u51fb\u201c\u9879\u76ee ID\u201d\u6216\u201c\u67e5\u770b\u8be6\u7ec6\u4fe1\u606f\u201d\u6309\u94ae\uff0c\u5c06\u8df3\u8f6c\u5230\u7ba1\u9053\u8be6\u7ec6\u4fe1\u606f\u9875\u9762\u3002</li> <li>\u5728\u9879\u76ee\u8be6\u7ec6\u4fe1\u606f\u9875\u9762\u4e2d\uff0c\u5355\u51fb\u201c\u7f16\u8f91\u201d\u6309\u94ae\uff0c\u5c06\u60a8\u5e26\u5230\u7ba1\u9053\u521b\u5efa\u5411\u5bfc\u9875\u9762\u3002</li> <li>\u60a8\u4f1a\u6ce8\u610f\u5230\u67d0\u4e9b\u914d\u7f6e\u5904\u4e8e\u7981\u7528\u6a21\u5f0f\uff0c\u8fd9\u610f\u5473\u7740\u5b83\u4eec\u521b\u5efa\u540e\u65e0\u6cd5\u66f4\u65b0\u3002</li> <li>\u5bf9\u4e8e\u90a3\u4e9b\u53ef\u7f16\u8f91\u7684\u914d\u7f6e\u9009\u9879\uff0c\u60a8\u53ef\u4ee5\u66f4\u65b0\u5b83\u4eec\u3002</li> <li>\u5728\u60a8\u7f16\u8f91\u914d\u7f6e\u540e\uff0c\u5355\u51fb\u201c\u4e0b\u4e00\u6b65\u201d\uff0c\u76f4\u5230\u60a8\u5230\u8fbe\u6700\u540e\u4e00\u9875\uff0c\u7136\u540e\u5355\u51fb\u201c\u4fdd\u5b58\u201d\u3002</li> <li>\u60a8\u5c06\u770b\u5230\u7ba1\u9053\u5904\u4e8e\u201c\u66f4\u65b0\u201d\u72b6\u6001\u3002</li> </ol>"},{"location":"pipeline-mgmt/pipe-mgmt/#_6","title":"\u7ba1\u9053\u5347\u7ea7","text":"<p>\u968f\u7740\u6211\u4eec\u7ee7\u7eed\u589e\u5f3a\u89e3\u51b3\u65b9\u6848\uff0c\u60a8\u5c06\u53ef\u4ee5\u5728\u66f4\u65b0\u89e3\u51b3\u65b9\u6848\u63a7\u5236\u9762\u677f\u540e\u4f7f\u7528\u65b0\u7248\u672c\u7684\u7ba1\u9053\u3002\u8be6\u7ec6\u6d41\u7a0b\u8bf7\u53c2\u89c1\u5347\u7ea7\u89e3\u51b3\u65b9\u6848\u3002</p>"},{"location":"pipeline-mgmt/data-modeling/configure-data-modeling/","title":"\u6570\u636e\u5efa\u6a21\u8bbe\u7f6e","text":"<p>\u6570\u636e\u7ba1\u9053\u5904\u7406\u5b8c\u4e8b\u4ef6\u6570\u636e\u540e\uff0c\u60a8\u53ef\u4ee5\u5c06\u6570\u636e\u52a0\u8f7d\u5230\u5206\u6790\u5f15\u64ce\u8fdb\u884c\u6570\u636e\u5efa\u6a21\uff0c\u6bd4\u5982Redshift\u6216Athena\uff0c\u5176\u4e2d\u6570\u636e\u5c06\u88ab\u6c47\u603b\u5e76\u7ec4\u7ec7\u6210\u4e0d\u540c\u7684\u89c6\u56fe\uff08\u5982\u4e8b\u4ef6\u3001\u8bbe\u5907\u3001\u4f1a\u8bdd\uff09\uff0c\u4ee5\u53ca\u5e38\u7528\u7684\u8ba1\u7b97\u6307\u6807\u3002\u4ee5\u4e0b\u662f\u5982\u679c\u4f60\u9009\u62e9\u542f\u7528\u6570\u636e\u5efa\u6a21\u6a21\u5757\uff0c\u6b64\u89e3\u51b3\u65b9\u6848\u63d0\u4f9b\u7684\u9884\u8bbe\u6570\u636e\u89c6\u56fe\u3002</p>"},{"location":"pipeline-mgmt/data-modeling/configure-data-modeling/#_2","title":"\u9884\u8bbe\u6570\u636e\u89c6\u56fe","text":"\u6570\u636e\u6a21\u578b\u540d\u79f0 Redshift Athena \u63cf\u8ff0 clickstream_ods_event_rt_view \u7269\u5316\u89c6\u56fe \u89c6\u56fe \u5305\u542b\u6240\u6709\u4e8b\u4ef6\u7ef4\u5ea6\u7684\u89c6\u56fe\u3002 clickstream_ods_event_parameter_rt_view \u7269\u5316\u89c6\u56fe \u89c6\u56fe \u5305\u542b\u6240\u6709\u4e8b\u4ef6\u53c2\u6570\u7684\u89c6\u56fe\u3002 clickstream_user_dim_view \u7269\u5316\u89c6\u56fe \u89c6\u56fe \u5305\u542b\u6240\u6709\u7528\u6237\u7ef4\u5ea6\u7684\u89c6\u56fe\u3002 clickstream_user_attr_view \u7269\u5316\u89c6\u56fe \u89c6\u56fe \u5305\u542b\u6240\u6709\u7528\u6237\u81ea\u5b9a\u4e49\u5c5e\u6027\u7684\u89c6\u56fe\u3002 clickstream_session_view \u7269\u5316\u89c6\u56fe \u89c6\u56fe \u5305\u542b\u6240\u6709\u4f1a\u8bdd\u7ef4\u5ea6\u548c\u76f8\u5173\u5ea6\u91cf\uff0c\u4f8b\u5982\uff0c\u4f1a\u8bdd\u6301\u7eed\u65f6\u95f4\uff0c\u4f1a\u8bdd\u89c6\u56fe\u3002 clickstream_retention_view \u7269\u5316\u89c6\u56fe \u89c6\u56fe \u5305\u542b\u6309\u65e5\u671f\u548c\u8fd4\u56de\u65e5\u5ea6\u91cf\u7684\u4fdd\u7559\u6307\u6807\u7684\u89c6\u56fe\u3002 clickstream_lifecycle_daily_view \u7269\u5316\u89c6\u56fe \u89c6\u56fe \u5305\u542b\u6309\u751f\u547d\u5468\u671f\u9636\u6bb5\u5212\u5206\u7684\u7528\u6237\u6570\u91cf\u7684\u5ea6\u91cf\u6307\u6807\u7684\u65e5\u89c6\u56fe\uff0c\u5373\uff0c\u65b0\u7528\u6237\uff0c\u6d3b\u8dc3\u7528\u6237\uff0c\u8fd4\u56de\u7528\u6237\uff0c\u6d41\u5931\u7528\u6237\u3002 clickstream_lifecycle_weekly_view \u7269\u5316\u89c6\u56fe \u89c6\u56fe \u5305\u542b\u6309\u751f\u547d\u5468\u671f\u9636\u6bb5\u5212\u5206\u7684\u7528\u6237\u6570\u91cf\u7684\u5ea6\u91cf\u6307\u6807\u7684\u5468\u89c6\u56fe\uff0c\u5373\uff0c\u65b0\u7528\u6237\uff0c\u6d3b\u8dc3\u7528\u6237\uff0c\u8fd4\u56de\u7528\u6237\uff0c\u6d41\u5931\u7528\u6237\u3002 clickstream_path_view \u7269\u5316\u89c6\u56fe \u89c6\u56fe \u5305\u542b\u5173\u4e8e\u6bcf\u4e2a\u4f1a\u8bdd\u4e2d\u7528\u6237\u65c5\u7a0b\u7684\u4fe1\u606f\u7684\u89c6\u56fe\u3002 <p>\u60a8\u53ef\u4ee5\u9009\u62e9\u4f7f\u7528Redshift\u6216Athena\uff0c\u6216\u4e24\u8005\u90fd\u7528\u3002</p> <p>\u63d0\u793a</p> <p>\u6211\u4eec\u5efa\u8bae\u4f60\u9009\u62e9\u4e24\u8005\u90fd\u7528\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u4f7f\u7528Redshift\u8fdb\u884c\u70ed\u6570\u636e\u5efa\u6a21\uff0c\u5e76\u4f7f\u7528Athena\u8fdb\u884c\u5168\u65f6\u95f4\u6570\u636e\u5206\u6790\u3002</p> <p>\u60a8\u53ef\u4ee5\u4e3a Redshift \u8bbe\u7f6e\u4ee5\u4e0b\u914d\u7f6e\u3002</p> <ul> <li> <p>Redshift \u6a21\u5f0f\uff1a\u9009\u62e9 Redshift \u65e0\u670d\u52a1\u5668\u6216\u9884\u8bbe\u6a21\u5f0f\u3002</p> <ul> <li> <p>\u65e0\u670d\u52a1\u5668\u6a21\u5f0f</p> <ul> <li> <p>\u57fa\u7840 RPU\uff1aRPU \u4ee3\u8868 Redshift \u5904\u7406\u5355\u5143\u3002Amazon Redshift Serverless \u4ee5 RPU \u8ba1\u7b97\u6570\u636e\u4ed3\u5e93\u5bb9\u91cf\uff0c\u8fd9\u4e9b\u662f\u5904\u7406\u5de5\u4f5c\u8d1f\u8f7d\u6240\u4f7f\u7528\u7684\u8d44\u6e90\u3002\u57fa\u7840\u5bb9\u91cf\u6307\u5b9a Amazon Redshift \u7528\u4e8e\u670d\u52a1\u67e5\u8be2\u7684\u57fa\u7840\u6570\u636e\u4ed3\u5e93\u5bb9\u91cf\uff0c\u5e76\u4ee5 RPU \u8868\u793a\u3002\u63d0\u9ad8\u57fa\u7840\u5bb9\u91cf\u53ef\u4ee5\u6539\u5584\u67e5\u8be2\u6027\u80fd\uff0c\u5c24\u5176\u662f\u5bf9\u4e8e\u6d88\u8017\u5927\u91cf\u8d44\u6e90\u7684\u6570\u636e\u5904\u7406\u5de5\u4f5c\u3002</p> </li> <li> <p>VPC\uff1a\u57fa\u4e8e Amazon VPC \u670d\u52a1\u7684\u865a\u62df\u79c1\u6709\u4e91\uff08VPC\uff09\u662f\u60a8\u5728 AWS \u4e91\u4e2d\u7684\u79c1\u6709\u3001\u903b\u8f91\u9694\u79bb\u7684\u7f51\u7edc\u3002</p> <p>\u6ce8\u610f\uff1a\u5982\u90e8\u7f72\u5728\u903b\u8f91\u9694\u79bb\u7684\u7f51\u7edc\u4e2d\uff0cVPC \u5fc5\u987b\u4e3a S3\uff0cLogs\uff0cDynamodb\uff0cSTS\uff0cStates, Redshift \u4ee5\u53ca Redshift-data \u670d\u52a1\u62e5\u6709 VPC \u7ec8\u7aef\u3002</p> </li> <li> <p>\u5b89\u5168\u7ec4\uff1a\u6b64 VPC \u5b89\u5168\u7ec4\u5b9a\u4e49\u4e86\u53ef\u4ee5\u5728 VPC \u4e2d\u4f7f\u7528\u7684\u54ea\u4e9b\u5b50\u7f51\u548c IP \u8303\u56f4\u53ef\u8bbf\u95ee Redshift \u670d\u52a1\u7aef\u70b9\u3002</p> </li> <li> <p>\u5b50\u7f51\uff1a\u9009\u62e9\u81f3\u5c11\u4e09\u4e2a\u73b0\u6709\u7684 VPC \u5b50\u7f51\u3002</p> <p>\u6ce8\u610f\uff1a\u6211\u4eec\u5efa\u8bae\u51fa\u4e8e\u6700\u4f73\u5b89\u5168\u5b9e\u8df5\u4f7f\u7528\u79c1\u6709\u5b50\u7f51\u8fdb\u884c\u90e8\u7f72\u3002</p> </li> </ul> </li> <li> <p>\u9884\u8bbe\u6a21\u5f0f</p> <ul> <li> <p>Redshift \u96c6\u7fa4: \u4f7f\u7528\u9884\u8bbe\u6a21\u5f0f\u7684 Amazon Redshift \u96c6\u7fa4\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528\u7b26\u5408\u6210\u672c\u548c\u6027\u80fd\u89c4\u683c\u7684\u8282\u70b9\u7c7b\u578b\u6784\u5efa\u96c6\u7fa4\u3002\u60a8\u5fc5\u987b\u8bbe\u7f6e\u3001\u8c03\u6574\u548c\u7ba1\u7406 Amazon Redshift \u9884\u8bbe\u6a21\u5f0f\u7684\u96c6\u7fa4\u3002</p> </li> <li> <p>\u6570\u636e\u5e93\u7528\u6237: \u8be5\u89e3\u51b3\u65b9\u6848\u9700\u8981\u6743\u9650\u624d\u80fd\u5728 Redshift \u96c6\u7fa4\u4e2d\u8bbf\u95ee\u548c\u521b\u5efa\u6570\u636e\u5e93\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u5b83\u6388\u4e88 Redshift Data API \u7ba1\u7406\u5458\u7528\u6237\u6267\u884c\u547d\u4ee4\u4ee5\u521b\u5efa\u6570\u636e\u5e93\u3001\u8868\u548c\u89c6\u56fe\u4ee5\u53ca\u52a0\u8f7d\u6570\u636e\u7684\u6743\u9650\u3002</p> </li> </ul> </li> <li> <p>\u6570\u636e\u8303\u56f4\uff1a\u8003\u8651\u5230\u8ba9 Redshift \u4fdd\u5b58\u6240\u6709\u6570\u636e\u7684\u6210\u672c\u6548\u76ca\u95ee\u9898\uff0c\u6211\u4eec\u5efa\u8bae Redshift \u4ec5\u4fdd\u5b58\u70ed\u6570\u636e\uff0c\u800c\u6240\u6709\u6570\u636e\u90fd\u5b58\u50a8\u5728 S3 \u4e2d\u3002\u9700\u8981\u5b9a\u671f\u5728 Redshift \u4e2d\u5220\u9664\u8fc7\u671f\u6570\u636e\u3002</p> </li> </ul> </li> <li> <p>Athena\uff1a\u9009\u62e9 Athena \u4f7f\u7528\u5728 Glue \u6570\u636e\u76ee\u5f55\u4e2d\u521b\u5efa\u7684\u8868\u67e5\u8be2 S3 \u4e0a\u7684\u6240\u6709\u6570\u636e\u3002</p> </li> </ul>"},{"location":"pipeline-mgmt/data-processing/","title":"\u6570\u636e\u5904\u7406","text":"<p>\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u70b9\u51fb\u6d41\u5206\u6790 \u63d0\u4f9b\u4e86\u5185\u7f6e\u7684\u6570\u636e\u6a21\u5f0f\uff0c\u7528\u4e8e\u89e3\u6790\u548c\u5efa\u6a21\u4ece\u60a8\u7684 Web \u548c\u79fb\u52a8\u5e94\u7528\u7a0b\u5e8f\u53d1\u9001\u7684\u539f\u59cb\u4e8b\u4ef6\u6570\u636e\uff0c\u4f7f\u60a8\u80fd\u591f\u5728\u5206\u6790\u5f15\u64ce\uff08\u5982 RedShift \u548c Athena\uff09\u4e2d\u8f7b\u677e\u5206\u6790\u6570\u636e\u3002</p> <p>\u6570\u636e\u5904\u7406\u6a21\u5757\u5305\u62ec\u4e24\u4e2a\u529f\u80fd\uff1a</p> <ul> <li>\u8f6c\u6362: \u4ece\u6444\u53d6\u6a21\u5757\u6c89\u964d\u7684\u6587\u4ef6\u4e2d\u63d0\u53d6\u6570\u636e\uff0c\u7136\u540e\u89e3\u6790\u6bcf\u4e2a\u4e8b\u4ef6\u6570\u636e\u5e76\u5c06\u5176\u8f6c\u6362\u4e3a\u89e3\u51b3\u65b9\u6848\u6570\u636e\u6a21\u578b\u3002</li> <li>\u4e30\u5bcc: \u5c06\u9644\u52a0\u7ef4\u5ea6/\u5b57\u6bb5\u6dfb\u52a0\u5230\u4e8b\u4ef6\u6570\u636e\u4e2d\u3002</li> </ul> <p>\u672c\u7ae0\u5305\u62ec\uff1a</p> <ul> <li>\u6570\u636e\u6a21\u5f0f</li> <li>\u914d\u7f6e\u6267\u884c\u53c2\u6570</li> <li>\u914d\u7f6e ETL \u81ea\u5b9a\u4e49\u63d2\u4ef6</li> </ul>"},{"location":"pipeline-mgmt/data-processing/configure-execution-para/","title":"\u914d\u7f6e\u6267\u884c\u53c2\u6570","text":"<p>\u6267\u884c\u53c2\u6570\u63a7\u5236\u5982\u4f55\u7f16\u6392\u8f6c\u6362\u548c\u589e\u5f3a\u4f5c\u4e1a\u3002</p>"},{"location":"pipeline-mgmt/data-processing/configure-execution-para/#_2","title":"\u53c2\u6570","text":"<p>\u5728\u60a8\u5207\u6362\u5f00\u542f \u542f\u7528\u6570\u636e\u5904\u7406 \u540e\uff0c\u60a8\u53ef\u4ee5\u914d\u7f6e\u4ee5\u4e0b\u7684 \u6267\u884c\u53c2\u6570\u3002</p> \u53c2\u6570 \u63cf\u8ff0 \u503c \u6570\u636e\u5904\u7406\u95f4\u9694/\u56fa\u5b9a\u9891\u7387 \u901a\u8fc7\u56fa\u5b9a\u9891\u7387\u6307\u5b9a\u6279\u5904\u7406\u6570\u636e\u8fdb\u884c ETL \u5904\u7406\u7684\u95f4\u9694 1 \u5c0f\u65f6 12 \u5c0f\u65f61 \u5929 \u6570\u636e\u5904\u7406\u95f4\u9694/Cron \u8868\u8fbe\u5f0f \u901a\u8fc7 cron \u8868\u8fbe\u5f0f\u6307\u5b9a\u6279\u5904\u7406\u6570\u636e\u8fdb\u884c ETL \u5904\u7406\u7684\u95f4\u9694 <code>cron(0 * * ? *)</code> <code>cron(0 0,12 * ? *)</code><code>cron(0 0 * ? *)</code> \u4e8b\u4ef6\u65b0\u9c9c\u5ea6 \u6307\u5b9a\u89e3\u51b3\u65b9\u6848\u5c06\u5ffd\u7565\u4e8b\u4ef6\u6570\u636e\u7684\u5929\u6570\u3002\u4f8b\u5982\uff0c\u5982\u679c\u60a8\u4e3a\u6b64\u53c2\u6570\u6307\u5b9a\u4e863\u5929\uff0c\u90a3\u4e48\u89e3\u51b3\u65b9\u6848\u5c06\u5ffd\u7565\u4efb\u4f55\u5728\u4e8b\u4ef6\u89e6\u53d1\u540e\u8d85\u8fc73\u5929\u5230\u8fbe\u7684\u4e8b\u4ef6 3 \u5929 5 \u5929 30 \u5929"},{"location":"pipeline-mgmt/data-processing/configure-execution-para/#cron","title":"Cron \u8868\u8fbe\u5f0f\u8bed\u6cd5","text":"<p>\u8bed\u6cd5</p> <p><code>cron(\u5206\u949f \u5c0f\u65f6 \u6708\u4e2d\u7684\u5929 \u6708 \u5468\u4e2d\u7684\u5929 \u5e74)</code></p> <p>\u6709\u5173\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605 \u57fa\u4e8e Cron \u7684\u8ba1\u5212\u3002</p> <p>## \u914d\u7f6eSpark\u4f5c\u4e1a\u53c2\u6570</p> <p>\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0cClickstream \u4f1a\u667a\u80fd\u5730\u6839\u636e\u9700\u8981\u5904\u7406\u7684\u6570\u636e\u96c6\u7684\u5927\u5c0f\u5e76\u9002\u5f53\u8bbe\u7f6eEMR\u4f5c\u4e1a\u53c2\u6570\u3002\u5728\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u60a8\u4e0d\u9700\u8981\u8c03\u6574 EMR \u4f5c\u4e1a\u53c2\u6570\uff0c\u4f46\u5982\u679c\u60a8\u60f3\u8986\u76d6 EMR \u4f5c\u4e1a\u53c2\u6570\uff0c\u60a8\u53ef\u4ee5\u5c06 <code>spark-config.json</code> \u6587\u4ef6\u653e\u5165S3\u5b58\u50a8\u6876\u4ee5\u8bbe\u7f6e\u60a8\u81ea\u5df1\u7684\u53c2\u6570\u3002</p> <p>\u8981\u6dfb\u52a0\u81ea\u5b9a\u4e49\u7684 EMR \u4f5c\u4e1a\u53c2\u6570\uff0c\u60a8\u53ef\u4ee5\u5728 S3 \u5b58\u50a8\u6876\u4e2d\u6dfb\u52a0\u4e00\u4e2a\u6587\u4ef6 <code>s3://{PipelineS3Bucket}/{PipelineS3Prefix}{ProjectId}/config/spark-config.json</code>\uff0c\u8bf7\u4f7f\u7528\u6570\u636e\u6d41\u6c34\u7ebf\u4e2d\u7684\u503c\u66ff\u6362 <code>{PipelineS3Bucket}</code>\uff0c <code>{PipelineS3Prefix}</code>\uff0c \u548c <code>{ProjectId}</code> \u3002 \u8fd9\u4e9b\u503c\u53ef\u4ee5\u5728<code>Clickstream-DataProcessing-&lt;uuid&gt;</code> \u5806\u6808\u7684 \u53c2\u6570\u754c\u9762\u4e2d\u627e\u5230\u3002</p> <p>\u6b64\u5916\uff0c\u60a8\u53ef\u4ee5\u901a\u8fc7\u8fd0\u884c\u4ee5\u4e0b\u547d\u4ee4\u83b7\u53d6\u8fd9\u4e9b\u503c\uff1a</p> <pre><code>stackNames=$(aws cloudformation list-stacks --stack-status-filter CREATE_COMPLETE UPDATE_COMPLETE --no-paginate  | jq -r '.StackSummaries[].StackName' | grep  Clickstream-DataProcessing  | grep -v Nested)\n\necho -e \"$stackNames\" | while read stackName; do\n    aws cloudformation describe-stacks --stack-name $stackName  | jq '.Stacks[].Parameters' | jq 'map(select(.ParameterKey == \"PipelineS3Bucket\" or .ParameterKey == \"PipelineS3Prefix\" or .ParameterKey == \"ProjectId\"))'\ndone\n</code></pre> <p>\u4e0b\u9762\u662f\u4e00\u4e2a\u8bbe\u7f6e <code>spark-config.json</code> \u7684\u4f8b\u5b50\uff1a</p> <pre><code>{\n   \"sparkConfig\": [\n        \"spark.emr-serverless.executor.disk=200g\",\n        \"spark.executor.instances=16\",\n        \"spark.dynamicAllocation.initialExecutors=16\",\n        \"spark.executor.memory=100g\",\n        \"spark.executor.cores=16\",\n        \"spark.network.timeout=10000000\",\n        \"spark.executor.heartbeatInterval=10000000\",\n        \"spark.shuffle.registration.timeout=120000\",\n        \"spark.shuffle.registration.maxAttempts=5\",\n        \"spark.shuffle.file.buffer=2m\",\n        \"spark.shuffle.unsafe.file.output.buffer=1m\"\n    ],\n    \"inputRePartitions\": 2000\n}\n</code></pre> <p>\u8bf7\u786e\u4fdd\u60a8\u6709\u8db3\u591f\u7684 emr-serverless \u914d\u989d\uff0c\u5728 us-east-1 \u533a\u57df\uff0c\u60a8\u53ef\u4ee5\u901a\u8fc7emr-serverless-quotas\u67e5\u770b\u914d\u989d\u3002 \u66f4\u591a\u4fe1\u606f\u8bf7\u53c2\u9605 Spark\u4f5c\u4e1a\u53c2\u6570\u548c\u5e94\u7528\u5de5\u4f5c\u8282\u70b9\u8bbe\u7f6e\u3002</p>"},{"location":"pipeline-mgmt/data-processing/configure-plugin/","title":"\u914d\u7f6e\u8f6c\u6362\u548c\u589e\u5f3a\u63d2\u4ef6","text":"<p>\u63d2\u4ef6\u6709\u4e24\u79cd\u7c7b\u578b\uff1a\u8f6c\u6362\u5668 \u6216 \u589e\u5f3a\u3002 \u5f53\u9009\u62e9\u63d2\u4ef6\u65f6\uff0c\u4e00\u4e2a\u6d41\u6c34\u7ebf\u53ea\u80fd\u6709\u4e00\u4e2a\u8f6c\u6362\u5668\u548c\u96f6\u4e2a\u6216\u591a\u4e2a\u589e\u5f3a\u3002</p>"},{"location":"pipeline-mgmt/data-processing/configure-plugin/#_2","title":"\u5185\u7f6e\u63d2\u4ef6","text":"<p>\u4ee5\u4e0b\u63d2\u4ef6\u7531 \u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u70b9\u51fb\u6d41\u5206\u6790 \u63d0\u4f9b\u3002</p> \u63d2\u4ef6\u540d\u79f0 \u7c7b\u578b \u63cf\u8ff0 UAEnrichment \u589e\u5f3a \u7528\u6237\u4ee3\u7406\u589e\u5f3a\uff0c\u4f7f\u7528 <code>ua_parser</code> Java\u5e93\u5c06HTTP\u5934\u90e8\u7684 <code>User-Agent</code> \u589e\u5f3a\u4e3a <code>ua_browser</code>,<code>ua_browser_version</code>,<code>ua_os</code>,<code>ua_os_version</code>,<code>ua_device</code> IpEnrichment \u589e\u5f3a IP\u5730\u5740\u589e\u5f3a\uff0c\u4f7f\u7528MaxMind\u7684GeoLite2\u6570\u636e\u5c06 <code>IP</code> \u589e\u5f3a\u4e3a <code>city</code>, <code>continent</code>, <code>country</code> <p>UAEnrichment \u4f7f\u7528 UA Parser \u6765\u89e3\u6790Http\u5934\u90e8\u7684\u7528\u6237\u4ee3\u7406\u3002</p> <p>IpEnrichment \u63d2\u4ef6\u4f7f\u7528\u7531MaxMind\u521b\u5efa\u7684 GeoLite2-City \u6570\u636e\uff0c\u53ef\u4ece https://www.maxmind.com \u83b7\u53d6\u3002</p>"},{"location":"pipeline-mgmt/data-processing/configure-plugin/#_3","title":"\u81ea\u5b9a\u4e49\u63d2\u4ef6","text":"<p>\u60a8\u53ef\u4ee5\u6dfb\u52a0\u81ea\u5b9a\u4e49\u63d2\u4ef6\u6765\u8f6c\u6362\u539f\u59cb\u4e8b\u4ef6\u6570\u636e\u6216\u6839\u636e\u60a8\u7684\u9700\u6c42\u4e30\u5bcc\u6570\u636e\u3002</p> <p>\u63d0\u793a</p> <p>\u8981\u6dfb\u52a0\u81ea\u5b9a\u4e49\u63d2\u4ef6\uff0c\u60a8\u5fc5\u987b\u9996\u5148\u5f00\u53d1\u60a8\u81ea\u5df1\u7684\u63d2\u4ef6\uff0c\u8bf7\u53c2\u9605 \u5f00\u53d1\u81ea\u5b9a\u4e49\u63d2\u4ef6</p> <p>\u60a8\u53ef\u4ee5\u901a\u8fc7\u70b9\u51fb \u6dfb\u52a0\u63d2\u4ef6 \u6309\u94ae\u6765\u6dfb\u52a0\u60a8\u7684\u63d2\u4ef6\uff0c\u8fd9\u5c06\u6253\u5f00\u4e00\u4e2a\u65b0\u7a97\u53e3\uff0c\u5728\u5176\u4e2d\u60a8\u53ef\u4ee5\u4e0a\u4f20\u60a8\u7684\u63d2\u4ef6\u3002</p> <ol> <li>\u7ed9\u63d2\u4ef6\u63d0\u4f9b \u540d\u79f0 \u548c \u63cf\u8ff0\u3002</li> <li>\u9009\u62e9 \u63d2\u4ef6\u7c7b\u578b\uff0c</li> <li>\u589e\u5f3a\uff1a\u7528\u4e8e\u5411SDK\uff08\u65e0\u8bba\u662fClickstream SDK\u8fd8\u662f\u7b2c\u4e09\u65b9SDK\uff09\u6536\u96c6\u7684\u4e8b\u4ef6\u6570\u636e\u4e2d\u6dfb\u52a0\u5b57\u6bb5\u7684\u63d2\u4ef6</li> <li> <p>\u8f6c\u6362\uff1a\u7528\u4e8e\u5c06\u7b2c\u4e09\u65b9SDK\u7684\u539f\u59cb\u6570\u636e\u8f6c\u6362\u4e3a\u89e3\u51b3\u65b9\u6848\u5185\u7f6e\u6a21\u5f0f\u7684\u63d2\u4ef6</p> </li> <li> <p>\u4e0a\u4f20\u63d2\u4ef6\u7684java JAR\u6587\u4ef6\u3002</p> </li> <li> <p>(\u53ef\u9009)\u5982\u679c\u6709\u7684\u8bdd\uff0c\u4e0a\u4f20\u4f9d\u8d56\u6587\u4ef6\u3002</p> </li> <li> <p>\u4e3b\u8981\u529f\u80fd\u7c7b\uff1a\u586b\u5199\u60a8\u7684\u63d2\u4ef6\u7c7b\u540d\u7684\u5b8c\u6574\u7c7b\u540d\uff0c\u4f8b\u5982 <code>com.example.sol.CustomTransformer</code>\u3002</p> </li> </ol>"},{"location":"pipeline-mgmt/data-processing/configure-plugin/#_4","title":"\u5f00\u53d1\u81ea\u5b9a\u4e49\u63d2\u4ef6","text":"<p>\u5f00\u53d1\u81ea\u5b9a\u4e49\u63d2\u4ef6\u7684\u6700\u7b80\u5355\u65b9\u5f0f\u662f\u57fa\u4e8e\u6211\u4eec\u7684\u793a\u4f8b\u9879\u76ee\u8fdb\u884c\u66f4\u6539\u3002</p> <ol> <li>\u514b\u9686/\u6d3e\u751f\u793a\u4f8b\u9879\u76ee\u3002</li> </ol> <pre><code>git clone https://github.com/awslabs/clickstream-analytics-on-aws.git\n\ncd examples/custom-plugins\n</code></pre> <ul> <li>\u5bf9\u4e8e\u589e\u5f3a\u63d2\u4ef6\uff0c\u8bf7\u53c2\u8003\u793a\u4f8b\uff1a<code>custom-enrich/</code></li> <li> <p>\u5bf9\u4e8e\u8f6c\u6362\u5668\u63d2\u4ef6\uff0c\u8bf7\u53c2\u8003\u793a\u4f8b\uff1a<code>custom-sdk-transformer/</code></p> </li> <li> <p>\u6839\u636e\u60a8\u7684\u9700\u8981\u66f4\u6539\u5305\u548c\u7c7b\u7684\u540d\u79f0\u3002</p> </li> <li> <p>\u5b9e\u73b0\u65b9\u6cd5 <code>public Dataset&lt;row&gt; transform(Dataset&lt;row&gt; dataset)</code> \u6765\u8fdb\u884c\u8f6c\u6362\u6216\u589e\u5f3a\u3002</p> </li> <li> <p>\uff08\u53ef\u9009\uff09\u7f16\u5199\u6d4b\u8bd5\u4ee3\u7801\u3002</p> </li> <li> <p>\u8fd0\u884cgradle\u5c06\u4ee3\u7801\u6253\u5305\u6210jar <code>./gradlew clean build</code>\u3002</p> </li> <li> <p>\u5728\u6784\u5efa\u8f93\u51fa\u76ee\u5f55 <code>./build/libs/</code> \u4e2d\u83b7\u53d6jar\u6587\u4ef6\u3002</p> </li> </ul>"},{"location":"pipeline-mgmt/data-processing/data-schema/","title":"\u6570\u636e\u6a21\u5f0f","text":"<p>\u672c\u6587\u89e3\u91ca\u4e86\u5728\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u70b9\u51fb\u6d41\u5206\u6790\u4e2d\u7684\u6570\u636e\u6a21\u5f0f\u548c\u683c\u5f0f\u3002\u6b64\u89e3\u51b3\u65b9\u6848\u4f7f\u7528\u57fa\u4e8e\u4e8b\u4ef6\u7684\u6570\u636e\u6a21\u578b\u6765\u5b58\u50a8\u548c\u5206\u6790\u70b9\u51fb\u6d41\u6570\u636e\uff0c\u5ba2\u6237\u7aef\u4e0a\u7684\u6bcf\u4e00\u9879\u6d3b\u52a8\uff08\u4f8b\u5982\uff0c\u70b9\u51fb\uff0c\u67e5\u770b\uff09\u90fd\u88ab\u6a21\u578b\u5316\u4e3a\u5177\u6709\u591a\u4e2a\u7ef4\u5ea6\u7684\u4e8b\u4ef6\u3002\u6240\u6709\u4e8b\u4ef6\u90fd\u6709\u516c\u5171\u7ef4\u5ea6\uff0c\u4f46\u662f\u5ba2\u6237\u53ef\u4ee5\u7075\u6d3b\u5730\u4f7f\u7528JSON\u5bf9\u8c61\u5c06\u503c\u5b58\u50a8\u5230\u67d0\u4e9b\u7ef4\u5ea6\uff08\u4f8b\u5982\uff0c\u4e8b\u4ef6\u53c2\u6570\uff0c\u7528\u6237\u5c5e\u6027\uff09\u4e2d\uff0c\u4ee5\u6ee1\u8db3\u6536\u96c6\u7279\u5b9a\u4e8e\u5176\u4e1a\u52a1\u7684\u4fe1\u606f\u7684\u9700\u6c42\u3002\u8fd9\u4e9bJSON\u5c06\u5b58\u50a8\u5728\u5141\u8bb8\u5ba2\u6237\u5728\u5206\u6790\u5f15\u64ce\u4e2d\u53d6\u6d88\u5d4c\u5957\u503c\u7684\u7279\u6b8a\u6570\u636e\u7c7b\u578b\u4e2d\u3002</p>"},{"location":"pipeline-mgmt/data-processing/data-schema/#_2","title":"\u6570\u636e\u5e93\u548c\u8868","text":"<p>\u5bf9\u4e8e\u6bcf\u4e2a\u9879\u76ee\uff0c\u8be5\u89e3\u51b3\u65b9\u6848\u5728Redshift\u548cAthena\u4e2d\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a<code>&lt;project-id&gt;</code>\u7684\u6570\u636e\u5e93\u3002\u6bcf\u4e2a\u5e94\u7528\u5c06\u5177\u6709\u4e00\u4e2a\u540d\u4e3a<code>app_id</code>\u7684\u6570\u636e\u6a21\u5f0f\uff08schema\uff09\uff0c\u5176\u4e2d\u4e0e\u4e8b\u4ef6\u76f8\u5173\u7684\u6570\u636e\u5b58\u50a8\u5728<code>event</code>\u548c<code>event_parameter</code>\u8868\u4e2d\uff0c\u4e0e\u7528\u6237\u76f8\u5173\u7684\u6570\u636e\u5b58\u50a8\u5728<code>user</code>\u8868\u4e2d\uff0c\u4e0e\u5bf9\u8c61\u76f8\u5173\u7684\u6570\u636e\u5b58\u50a8\u5728<code>item</code>\u8868\u4e2d\u3002\u5728Athena\u4e2d\uff0c\u6240\u6709\u8868\u90fd\u589e\u52a0\u4e86<code>app_id</code>\u3001<code>year</code>\u3001<code>month</code>\u548c<code>day</code>\u7684\u5206\u533a\u3002\u4e0b\u9762\u7684\u56fe\u8868\u8bf4\u660e\u4e86\u8868\u4e4b\u95f4\u7684\u5173\u7cfb\u3002</p> <p></p>"},{"location":"pipeline-mgmt/data-processing/data-schema/#_3","title":"\u5217","text":"<p>\u8868\u4e2d\u7684\u6bcf\u4e00\u5217\u90fd\u8868\u793a\u4e8b\u4ef6\u3001\u7528\u6237\u6216\u5bf9\u8c61\u7684\u7279\u5b9a\u53c2\u6570\u3002\u8bf7\u6ce8\u610f\uff0c\u67d0\u4e9b\u53c2\u6570\u5d4c\u5957\u5728Redshift\u7684Super\u5b57\u6bb5\u4e2d\u6216\u5728Athena\u7684Array\u4e2d\uff0c\u8fd9\u4e9b\u5b57\u6bb5\uff08\u4f8b\u5982\uff0citems\u3001user_properties \u548c item properties\uff09\u5305\u542b\u53ef\u91cd\u590d\u7684\u53c2\u6570\u3002\u8868\u683c\u5217\u7684\u63cf\u8ff0\u5982\u4e0b\u3002</p>"},{"location":"pipeline-mgmt/data-processing/data-schema/#_4","title":"\u4e8b\u4ef6\u5b57\u6bb5","text":"\u5b57\u6bb5\u540d\u79f0 Redshift\u6570\u636e\u7c7b\u578b Athena\u6570\u636e\u7c7b\u578b \u63cf\u8ff0 event_id VARCHAR STRING \u4e8b\u4ef6\u7684\u552f\u4e00\u6807\u8bc6\u7b26\u3002 event_date DATE DATE \u8bb0\u5f55\u4e8b\u4ef6\u7684\u65e5\u671f\uff08\u4ee5UTC\u7684YYYYMMDD\u683c\u5f0f\uff09\u3002 event_timestamp BIGINT BIGINT \u5ba2\u6237\u7aef\u8bb0\u5f55\u4e8b\u4ef6\u7684\u65f6\u95f4\uff08\u5fae\u79d2\uff0cUTC\uff09\u3002 event_previous_timestamp BIGINT BIGINT \u5ba2\u6237\u7aef\u5148\u524d\u8bb0\u5f55\u4e8b\u4ef6\u7684\u65f6\u95f4\uff08\u5fae\u79d2\uff0cUTC\uff09\u3002 event_name VARCHAR STRING \u4e8b\u4ef6\u7684\u540d\u79f0\u3002 event_value_in_usd BIGINT BIGINT \u4e8b\u4ef6\u201cvalue\u201d\u53c2\u6570\u7684\u8d27\u5e01\u8f6c\u6362\u503c\uff08\u4ee5USD\u8ba1\uff09\u3002 event_bundle_sequence_id BIGINT BIGINT \u5305\u542b\u8fd9\u4e9b\u4e8b\u4ef6\u7684\u6346\u7ed1\u7684\u987a\u5e8fID\u3002 ingest_timestamp BIGINT BIGINT \u91c7\u96c6\u65f6\u95f4\u548c\u4e0a\u4f20\u65f6\u95f4\u4e4b\u95f4\u7684\u65f6\u95f4\u6233\u504f\u79fb\uff08\u5fae\u79d2\uff09\u3002 device.mobile_brand_name VARCHAR STRING \u8bbe\u5907\u54c1\u724c\u540d\u79f0\u3002 device.mobile_model_name VARCHAR STRING \u8bbe\u5907\u578b\u53f7\u540d\u79f0\u3002 device.manufacturer VARCHAR STRING \u8bbe\u5907\u5236\u9020\u5546\u540d\u79f0\u3002 device.carrier VARCHAR STRING \u8bbe\u5907\u7f51\u7edc\u63d0\u4f9b\u5546\u540d\u79f0\u3002 device.network_type VARCHAR STRING \u8bbe\u5907\u7684\u7f51\u7edc\u7c7b\u578b\uff0c\u4f8b\u5982WIFI\uff0c5G\u3002 device.operating_system VARCHAR STRING \u8bbe\u5907\u7684\u64cd\u4f5c\u7cfb\u7edf\u3002 device.operating_system_version VARCHAR STRING \u64cd\u4f5c\u7cfb\u7edf\u7248\u672c\u3002 device.vendor_id VARCHAR STRING IDFV\uff08\u4ec5\u5728\u672a\u6536\u96c6IDFA\u65f6\u5b58\u5728\uff09\u3002 device.advertising_id VARCHAR STRING \u5e7f\u544aID/IDFA\u3002 device.system_language VARCHAR STRING \u64cd\u4f5c\u7cfb\u7edf\u8bed\u8a00\u3002 device.time_zone_offset_seconds BIGINT BIGINT \u76f8\u5bf9GMT\u7684\u504f\u79fb\u79d2\u6570\u3002 device.ua_browser VARCHAR STRING \u7528\u6237\u67e5\u770b\u5185\u5bb9\u65f6\u6240\u4f7f\u7528\u7684\u6d4f\u89c8\u5668\uff0c\u6d3e\u751f\u81eaUser Agent\u5b57\u7b26\u4e32\u3002 device.ua_browser_version VARCHAR STRING \u7528\u6237\u67e5\u770b\u5185\u5bb9\u65f6\u6240\u4f7f\u7528\u7684\u6d4f\u89c8\u5668\u7684\u7248\u672c\uff0c\u6d3e\u751f\u81eaUser Agent\u3002 device.ua_device VARCHAR STRING \u7528\u6237\u67e5\u770b\u5185\u5bb9\u65f6\u6240\u4f7f\u7528\u7684\u8bbe\u5907\uff0c\u6d3e\u751f\u81eaUser Agent\u3002 device.ua_device_category VARCHAR STRING \u7528\u6237\u67e5\u770b\u5185\u5bb9\u65f6\u6240\u4f7f\u7528\u7684\u8bbe\u5907\u7c7b\u522b\uff0c\u6d3e\u751f\u81eaUser Agent\u3002 device.screen_width VARCHAR STRING \u8bbe\u5907\u7684\u5c4f\u5e55\u5bbd\u5ea6\u3002 device.screen_height VARCHAR STRING \u8bbe\u5907\u7684\u5c4f\u5e55\u9ad8\u5ea6\u3002 geo.continent VARCHAR STRING \u57fa\u4e8eIP\u5730\u5740\u62a5\u544a\u4e8b\u4ef6\u7684\u5927\u6d32\u3002 geo.sub_continent VARCHAR STRING \u57fa\u4e8eIP\u5730\u5740\u62a5\u544a\u4e8b\u4ef6\u7684\u6b21\u5927\u6d32\u3002 geo.country VARCHAR STRING \u57fa\u4e8eIP\u5730\u5740\u62a5\u544a\u4e8b\u4ef6\u7684\u56fd\u5bb6\u3002 geo.region VARCHAR STRING \u57fa\u4e8eIP\u5730\u5740\u62a5\u544a\u4e8b\u4ef6\u7684\u533a\u57df\u3002 geo.metro VARCHAR STRING \u57fa\u4e8eIP\u5730\u5740\u62a5\u544a\u4e8b\u4ef6\u7684\u5927\u90fd\u5e02\u533a\u3002 geo.city VARCHAR STRING \u57fa\u4e8eIP\u5730\u5740\u62a5\u544a\u4e8b\u4ef6\u7684\u57ce\u5e02\u3002 geo.locale VARCHAR STRING \u4ece\u8bbe\u5907\u83b7\u53d6\u7684\u533a\u57df\u8bbe\u7f6e\u4fe1\u606f\u3002 traffic_source.name VARCHAR STRING \u5728\u62a5\u544a\u4e8b\u4ef6\u65f6\u83b7\u5f97\u7528\u6237\u7684\u8425\u9500\u6d3b\u52a8\u540d\u79f0\u3002 traffic_source.medium VARCHAR STRING \u5728\u62a5\u544a\u4e8b\u4ef6\u65f6\u83b7\u5f97\u7528\u6237\u7684\u5a92\u4ecb\uff08\u4ed8\u8d39\u641c\u7d22\u3001\u6709\u673a\u641c\u7d22\u3001\u7535\u5b50\u90ae\u4ef6\u7b49\uff09\u540d\u79f0\u3002 traffic_source.source VARCHAR STRING \u5728\u62a5\u544a\u4e8b\u4ef6\u65f6\u83b7\u5f97\u7528\u6237\u7684\u7f51\u7edc\u6765\u6e90\u540d\u79f0\u3002 app_info.id VARCHAR STRING \u5e94\u7528\u7a0b\u5e8f\u7684\u5305\u540d\u79f0\u6216\u6346\u7ed1ID\u3002 app_info.app_id VARCHAR STRING \u4e0e\u5e94\u7528\u7a0b\u5e8f\u76f8\u5173\u8054\u7684\u5e94\u7528\u7a0b\u5e8fID\uff08\u7531\u6b64\u89e3\u51b3\u65b9\u6848\u521b\u5efa\uff09\u3002 app_info.install_source VARCHAR STRING \u5b89\u88c5\u5e94\u7528\u7a0b\u5e8f\u7684\u5546\u5e97\u3002 app_info.version VARCHAR STRING \u5e94\u7528\u7a0b\u5e8f\u7684versionName\uff08Android\uff09\u6216\u7b80\u77ed\u7684\u6346\u7ed1\u7248\u672c\u3002 platform VARCHAR STRING \u4e8b\u4ef6\u6765\u6e90\u7684\u6570\u636e\u6d41\u5e73\u53f0\uff08Web\u3001IOS\u6216Android\uff09\u3002 project_id VARCHAR STRING \u4e0e\u5e94\u7528\u7a0b\u5e8f\u76f8\u5173\u8054\u7684\u9879\u76eeID\u3002 items SUPER ARRAY \u5305\u542b\u4e0e\u4e8b\u4ef6\u76f8\u5173\u7684\u9879\u76ee\u4fe1\u606f\u7684\u952e\u503c\u8bb0\u5f55\u3002 user_id VARCHAR STRING \u901a\u8fc7<code>setUserId()</code> API\u5206\u914d\u7ed9\u7528\u6237\u7684\u552f\u4e00ID\u3002 user_pseudo_id VARCHAR STRING SDK\u751f\u6210\u7684\u7528\u6237\u7684\u533f\u540dID\u3002"},{"location":"pipeline-mgmt/data-processing/data-schema/#_5","title":"\u4e8b\u4ef6\u53c2\u6570\u5b57\u6bb5","text":"\u5b57\u6bb5\u540d\u79f0 Redshift \u6570\u636e\u7c7b\u578b Athena \u6570\u636e\u7c7b\u578b \u63cf\u8ff0 event_id VARCHAR STRING \u4e8b\u4ef6\u7684\u552f\u4e00\u6807\u8bc6\u7b26\u3002 event_name VARCHAR STRING \u4e8b\u4ef6\u7684\u540d\u79f0\u3002 event_params SUPER ARRAY \u4e8b\u4ef6\u53c2\u6570\u3002 event_params.key VARCHAR STRING \u4e8b\u4ef6\u53c2\u6570\u7684\u540d\u79f0\u3002 event_params.value SUPER ARRAY \u5305\u542b\u4e8b\u4ef6\u53c2\u6570\u503c\u7684\u8bb0\u5f55\u3002 event_params.value.string_value VARCHAR STRING \u5982\u679c\u4e8b\u4ef6\u53c2\u6570\u7531\u5b57\u7b26\u4e32\u8868\u793a\uff0c\u4f8b\u5982 URL \u6216\u6d3b\u52a8\u540d\u79f0\uff0c\u5219\u5728\u6b64\u5b57\u6bb5\u4e2d\u586b\u5145\u3002 event_params.value.int_value BIGINT INTEGER \u5982\u679c\u4e8b\u4ef6\u53c2\u6570\u7531\u6574\u6570\u8868\u793a\uff0c\u5219\u5728\u6b64\u5b57\u6bb5\u4e2d\u586b\u5145\u3002 event_params.value.double_value DOUBLE PRECISION FLOAT \u5982\u679c\u4e8b\u4ef6\u53c2\u6570\u7531\u53cc\u7cbe\u5ea6\u503c\u8868\u793a\uff0c\u5219\u5728\u6b64\u5b57\u6bb5\u4e2d\u586b\u5145\u3002 event_params.value.float_value DOUBLE PRECISION FLOAT \u5982\u679c\u4e8b\u4ef6\u53c2\u6570\u7531\u6d6e\u70b9\u503c\u8868\u793a\uff0c\u5219\u5728\u6b64\u5b57\u6bb5\u4e2d\u586b\u5145\u3002\u6b64\u5b57\u6bb5\u76ee\u524d\u672a\u4f7f\u7528\u3002"},{"location":"pipeline-mgmt/data-processing/data-schema/#_6","title":"\u7528\u6237\u5b57\u6bb5","text":"\u5b57\u6bb5\u540d\u79f0 \u6570\u636e\u7c7b\u578b - Redshift \u6570\u636e\u7c7b\u578b - Athena \u63cf\u8ff0 event_timestamp BIGINT STRING \u7528\u6237\u5c5e\u6027\u88ab\u6536\u96c6\u7684\u65f6\u95f4\u6233\uff08\u5fae\u79d2\uff09\u3002 user_id VARCHAR STRING \u901a\u8fc7 <code>setUserId()</code> API \u5206\u914d\u7ed9\u7528\u6237\u7684\u552f\u4e00ID\u3002 user_pseudo_id VARCHAR STRING SDK\u4e3a\u7528\u6237\u751f\u6210\u7684\u533f\u540dID\u3002 user_first_touch_timestamp BIGINT BIGINT \u7528\u6237\u9996\u6b21\u6253\u5f00\u5e94\u7528\u6216\u8bbf\u95ee\u7ad9\u70b9\u7684\u65f6\u95f4\uff08\u5fae\u79d2\uff09\u3002 user_properties SUPER ARRAY \u7528\u6237\u7684\u5c5e\u6027\u3002 user_properties.key VARCHAR STRING \u7528\u6237\u5c5e\u6027\u7684\u540d\u79f0\u3002 user_properties.value SUPER ARRAY \u7528\u6237\u5c5e\u6027\u503c\u7684\u8bb0\u5f55\u3002 user_properties.value.string_value VARCHAR STRING \u7528\u6237\u5c5e\u6027\u7684\u5b57\u7b26\u4e32\u503c\u3002 user_properties.value.int_value BIGINT BIGINT \u7528\u6237\u5c5e\u6027\u7684\u6574\u6570\u503c\u3002 user_properties.value.double_value DOUBLE PRECISION FLOAT \u7528\u6237\u5c5e\u6027\u7684\u53cc\u7cbe\u5ea6\u503c\u3002 user_properties.value.float_value DOUBLE PRECISION FLOAT \u6b64\u5b57\u6bb5\u76ee\u524d\u672a\u4f7f\u7528\u3002 user_ltv SUPER ARRAY \u7528\u6237\u7684\u751f\u547d\u5468\u671f\u4ef7\u503c\u3002 _first_visit_date Date Date \u7528\u6237\u9996\u6b21\u8bbf\u95ee\u7684\u65e5\u671f\u3002 _first_referer VARCHAR STRING \u68c0\u6d4b\u5230\u7528\u6237\u7684\u7b2c\u4e00\u4e2a\u5f15\u8350\u6765\u6e90\u3002 _first_traffic_source_type VARCHAR STRING \u83b7\u53d6\u7528\u6237\u7684\u7b2c\u4e00\u4e2a\u88ab\u68c0\u6d4b\u5230\u7684\u7f51\u7edc\u6765\u6e90\uff0c\u4f8b\u5982Google\u3001Baidu\u7b49\u3002 _first_traffic_source_medium VARCHAR STRING \u83b7\u53d6\u7528\u6237\u7684\u7b2c\u4e00\u4e2a\u88ab\u68c0\u6d4b\u5230\u7684\u7f51\u7edc\u6765\u6e90\u7684\u5a92\u4ecb\uff0c\u4f8b\u5982\u4ed8\u8d39\u641c\u7d22\u3001\u6709\u673a\u641c\u7d22\u3001\u7535\u5b50\u90ae\u4ef6\u7b49\u3002 _first_traffic_source_name VARCHAR STRING \u83b7\u53d6\u7528\u6237\u7684\u7b2c\u4e00\u4e2a\u88ab\u68c0\u6d4b\u5230\u7684\u8425\u9500\u6d3b\u52a8\u7684\u540d\u79f0\u3002 device_id_list SUPER ARRAY \u4e0e user_pseudo_id \u5173\u8054\u7684\u6240\u6709 device_id \u7684\u8bb0\u5f55\u3002 _channel VARCHAR STRING \u7528\u6237\u7684\u5b89\u88c5\u6e20\u9053\uff0c\u4f8b\u5982 Google Play\u3002"},{"location":"pipeline-mgmt/data-processing/data-schema/#item","title":"Item \u8868\u5b57\u6bb5","text":"\u5b57\u6bb5\u540d\u79f0 \u6570\u636e\u7c7b\u578b - RedShift \u6570\u636e\u7c7b\u578b - Athena \u63cf\u8ff0 event_timestamp BIGINT STRING \u8bb0\u5f55\u9879\u76ee\u5c5e\u6027\u88ab\u6536\u96c6\u7684\u65f6\u95f4\u6233\uff08\u5fae\u79d2\uff09\u3002 id VARCHAR STRING \u9879\u76ee\u7684ID\u3002 properties SUPER ARRAY \u9879\u76ee\u5c5e\u6027\u503c\u7684\u8bb0\u5f55\u3002 properties.value.string_value VARCHAR STRING \u9879\u76ee\u5c5e\u6027\u7684\u5b57\u7b26\u4e32\u503c\u3002 properties.value.int_value BIGINT BIGINT \u9879\u76ee\u5c5e\u6027\u7684\u6574\u6570\u503c\u3002 properties.value.double_value DOUBLE PRECISION FLOAT \u9879\u76ee\u5c5e\u6027\u7684\u53cc\u7cbe\u5ea6\u503c\u3002 properties.value.float_value DOUBLE PRECISION FLOAT \u9879\u76ee\u5c5e\u6027\u7684\u6d6e\u70b9\u503c\u3002"},{"location":"pipeline-mgmt/ingestion/","title":"\u6570\u636e\u6444\u53d6","text":"<p>\u6570\u636e\u6444\u53d6\u6a21\u5757\u5305\u542b\u4e00\u4e2a Web \u670d\u52a1\uff0c\u5b83\u63d0\u4f9b\u901a\u8fc7 HTTP/HTTPS \u8bf7\u6c42\u6536\u96c6\u6570\u636e\u7684\u7aef\u70b9\uff0c\u4e3b\u8981\u7531 Amazon \u5e94\u7528\u7a0b\u5e8f\u8d1f\u8f7d\u5747\u8861\u5668\u548c Amazon \u5f39\u6027\u5bb9\u5668\u670d\u52a1\u7ec4\u6210\u3002\u5b83\u8fd8\u652f\u6301\u5c06\u6570\u636e\u76f4\u63a5\u6c47\u5165\u5230\u6d41\u670d\u52a1\u6216 S3\u3002</p> <p>\u60a8\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u8bbe\u7f6e\u521b\u5efa\u4e00\u4e2a\u6570\u636e\u6444\u53d6\u6a21\u5757\uff1a</p> <ul> <li> <p>\u6444\u53d6\u7aef\u70b9\u8bbe\u7f6e\uff1a\u521b\u5efa\u4e00\u4e2a Web \u670d\u52a1\u4f5c\u4e3a\u6444\u53d6\u7aef\u70b9\uff0c\u4ee5\u6536\u96c6\u4ece SDK \u53d1\u9001\u7684\u6570\u636e\u3002</p> </li> <li> <p>\u6570\u636e\u5bbf\u8bbe\u7f6e\uff1a\u914d\u7f6e\u89e3\u51b3\u65b9\u6848\u5982\u4f55\u4e3a\u4e0b\u6e38\u6d88\u8d39\u8005\u63a5\u6536\u6570\u636e\u3002\u76ee\u524d\uff0c\u89e3\u51b3\u65b9\u6848\u652f\u6301\u4e09\u79cd\u7c7b\u578b\u7684\u6570\u636e\u5bbf\uff1a</p> <ul> <li>Apache Kafka</li> <li>Amazon S3</li> <li>Amazon Kinesis Data Stream (KDS)</li> </ul> </li> </ul>"},{"location":"pipeline-mgmt/ingestion/#_2","title":"\u9650\u6d41","text":"<p>\u76ee\u524d\uff0c\u672c\u65b9\u6848\u6ca1\u6709\u5185\u7f6e\u7684\u9650\u6d41\u529f\u80fd\u3002\u5982\u679c\u60a8\u9700\u8981\u9650\u6d41\u529f\u80fd\uff0c\u60a8\u53ef\u4ee5\u901a\u8fc7\u914d\u7f6eAWS WAF\u6765\u5b9e\u73b0\u9650\u6d41\u7684\u529f\u80fd\u3002\u8bf7\u53c2\u8003WAF\u6587\u6863\u3002</p>"},{"location":"pipeline-mgmt/ingestion/configure-ingestion-endpoint/","title":"\u6444\u53d6\u7aef\u70b9\u8bbe\u7f6e","text":"<p>\u8be5\u89e3\u51b3\u65b9\u6848\u521b\u5efa\u4e86\u4e00\u4e2a Web \u670d\u52a1\u4f5c\u4e3a\u6444\u53d6\u7aef\u70b9\uff0c\u7528\u4e8e\u6536\u96c6\u4ece\u60a8\u7684 SDK \u53d1\u9001\u7684\u6570\u636e\u3002\u60a8\u53ef\u4ee5\u4e3a\u6444\u53d6\u7aef\u70b9\u8bbe\u7f6e\u4ee5\u4e0b\u914d\u7f6e\uff1a</p> <ul> <li> <p>\u516c\u5171\u5b50\u7f51\uff1a\u9009\u62e9\u81f3\u5c11\u4e24\u4e2a\u73b0\u6709\u7684 VPC \u516c\u5171\u5b50\u7f51\uff0cAmazon \u5e94\u7528\u7a0b\u5e8f\u8d1f\u8f7d\u5747\u8861\u5668 (ALB) \u5c06\u90e8\u7f72\u5728\u8fd9\u4e9b\u5b50\u7f51\u4e2d\u3002</p> </li> <li> <p>\u79c1\u6709\u5b50\u7f51\uff1a\u9009\u62e9\u81f3\u5c11\u4e24\u4e2a\u73b0\u6709\u7684 VPC \u79c1\u6709\u5b50\u7f51\uff0c\u8fd0\u884c\u5728 ECS \u4e2d\u7684 EC2 \u5b9e\u4f8b\u5c06\u90e8\u7f72\u5728\u8fd9\u4e9b\u5b50\u7f51\u4e2d\u3002</p> <p>\u63d0\u793a</p> <p>\u516c\u5171\u5b50\u7f51\u6240\u5728\u7684\u53ef\u7528\u533a\u5fc5\u987b\u4e0e\u79c1\u6709\u5b50\u7f51\u7684\u53ef\u7528\u533a\u4fdd\u6301\u4e00\u81f4\u3002</p> </li> <li> <p>\u6444\u53d6\u5bb9\u91cf\uff1a\u6b64\u914d\u7f6e\u8bbe\u7f6e\u6444\u53d6\u670d\u52a1\u5668\u7684\u5bb9\u91cf\uff0c\u6444\u53d6\u670d\u52a1\u5668\u5c06\u6839\u636e\u5904\u7406 CPU \u7684\u5229\u7528\u7387\u81ea\u52a8\u6269\u5c55\u6216\u7f29\u51cf\u3002</p> <ul> <li> <p>\u6700\u5c0f\u5bb9\u91cf\uff1a\u6444\u53d6\u670d\u52a1\u5668\u5c06\u7f29\u51cf\u5230\u7684\u6700\u5c0f\u5bb9\u91cf\u3002</p> </li> <li> <p>\u6700\u5927\u5bb9\u91cf\uff1a\u6444\u53d6\u670d\u52a1\u5668\u5c06\u6269\u5c55\u5230\u7684\u6700\u5927\u5bb9\u91cf\u3002</p> </li> <li> <p>\u70ed\u6c60\uff1a\u70ed\u6c60\u4f7f\u60a8\u80fd\u591f\u51cf\u5c11\u5177\u6709\u5f02\u5e38\u957f\u5f15\u5bfc\u65f6\u95f4\u7684\u5e94\u7528\u7a0b\u5e8f\u7684\u5ef6\u8fdf\u3002\u6709\u5173\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605Amazon EC2 Auto Scaling \u7684\u70ed\u6c60\u3002</p> </li> </ul> </li> <li> <p>\u542f\u7528 HTTPS\uff1a\u7528\u6237\u53ef\u4ee5\u9009\u62e9 Ingestion \u7aef\u70b9\u7684 HTTPS/HTTP \u534f\u8bae\u3002</p> <ul> <li> <p>\u542f\u7528 HTTPS\uff1a\u5982\u679c\u7528\u6237\u9009\u62e9\u542f\u7528 HTTPS\uff0c\u5219\u6444\u53d6\u670d\u52a1\u5668\u5c06\u63d0\u4f9b HTTPS \u7aef\u70b9\u3002</p> <ul> <li> <p>\u57df\u540d\uff1a\u8f93\u5165\u57df\u540d\u3002\u4e00\u65e6\u6444\u53d6\u670d\u52a1\u5668\u521b\u5efa\u5b8c\u6210\uff0c\u4f7f\u7528\u81ea\u5b9a\u4e49\u7aef\u70b9\u5728\u60a8\u7684\u57df\u540d\u7cfb\u7edf (DNS) \u4e2d\u521b\u5efa\u522b\u540d\u6216 CNAME \u6620\u5c04\u3002</p> </li> <li> <p>SSL \u8bc1\u4e66\uff1a\u7528\u6237\u9700\u8981\u9009\u62e9\u4e0e\u8f93\u5165\u7684\u57df\u540d\u76f8\u5bf9\u5e94\u7684 ACM \u8bc1\u4e66\u3002\u5982\u679c\u6ca1\u6709 ACM \u8bc1\u4e66\uff0c\u8bf7\u53c2\u8003\u521b\u5efa\u516c\u5171\u8bc1\u4e66\u6765\u521b\u5efa\u3002</p> </li> </ul> </li> <li> <p>\u7981\u7528 HTTPS\uff1a\u5982\u679c\u7528\u6237\u9009\u62e9\u7981\u7528 HTTPS\uff0c\u5219\u6444\u53d6\u670d\u52a1\u5668\u5c06\u63d0\u4f9b HTTP \u7aef\u70b9\u3002</p> <p>\u91cd\u8981\u63d0\u793a</p> <p>\u4f7f\u7528 HTTP \u534f\u8bae\u662f\u4e0d\u5b89\u5168\u7684\uff0c\u56e0\u4e3a\u6570\u636e\u5c06\u5728\u6ca1\u6709\u4efb\u4f55\u52a0\u5bc6\u7684\u60c5\u51b5\u4e0b\u53d1\u9001\uff0c\u6570\u636e\u5728\u4f20\u8f93\u8fc7\u7a0b\u4e2d\u5b58\u5728\u6cc4\u6f0f\u6216\u7be1\u6539\u7684\u9ad8\u98ce\u9669\u3002\u8bf7\u786e\u8ba4\u98ce\u9669\u540e\u518d\u8fdb\u884c\u64cd\u4f5c\u3002</p> </li> </ul> </li> <li> <p>\u8de8\u6e90\u8d44\u6e90\u5171\u4eab (CORS): \u60a8\u53ef\u4ee5\u542f\u7528 CORS \u6765\u9650\u5236\u6765\u81ea\u7279\u5b9a\u57df\u7684\u6570\u636e\u6444\u53d6 API \u7684\u8bf7\u6c42\u3002\u8bf7\u6ce8\u610f\uff0c\u4f60\u9700\u8981\u8f93\u5165\u4e00\u4e2a\u5b8c\u6574\u7684\u4e92\u8054\u7f51\u5730\u5740\uff0c\u4f8b\u5982 https://www.example.com\u3001http://localhost:8080\u3002\u5982\u679c\u60a8\u6709\u591a\u4e2a\u57df\u7528\u4e8e\u6b64\u8bbe\u7f6e\uff0c\u8bf7\u4f7f\u7528\u9017\u53f7\u5206\u9694\u57df\u3002</p> <p>Warning</p> <p>\u5982\u679c\u60a8\u8981\u4ece\u7f51\u7ad9\u6536\u96c6\u6570\u636e\uff0c\u5219\u5fc5\u987b\u8bbe\u7f6e CORS\u3002\u5982\u679c\u60a8\u672a\u4e3a\u6b64\u53c2\u6570\u8bbe\u7f6e\u503c\uff0c\u5219\u6444\u53d6\u670d\u52a1\u5668\u5c06\u62d2\u7edd\u6240\u6709\u4ece\u7f51\u9875\u5e73\u53f0\u6765\u7684\u8bf7\u6c42\u3002</p> </li> <li> <p>\u5176\u4ed6\u8bbe\u7f6e</p> <ul> <li> <p>\u8bf7\u6c42\u8def\u5f84\uff1a\u7528\u6237\u53ef\u4ee5\u8f93\u5165\u6444\u53d6\u7aef\u70b9\u7684\u8def\u5f84\u6765\u6536\u96c6\u6570\u636e\uff0c\u7f3a\u7701\u8def\u5f84\u4e3a\u201c/collect\u201d\u3002</p> </li> <li> <p>AWS \u5168\u7403\u52a0\u901f\u5668\uff1a\u7528\u6237\u53ef\u4ee5\u9009\u62e9\u521b\u5efa\u52a0\u901f\u5668\u6765\u83b7\u53d6\u5145\u5f53\u5168\u5c40\u56fa\u5b9a\u5165\u53e3\u70b9\u7684\u9759\u6001 IP \u5730\u5740\uff0c\u4ee5\u63d0\u9ad8\u6444\u53d6\u670d\u52a1\u5668\u7684\u53ef\u7528\u6027\u548c\u6027\u80fd\u3002 </p> </li> </ul> <p>\u6ce8\u610f\uff1a\u989d\u5916\u7684\u8d39\u7528\u9002\u7528\u3002</p> <ul> <li> <p>\u9274\u6743\uff1a\u7528\u6237\u53ef\u4ee5\u4f7f\u7528 OIDC \u63d0\u4f9b\u7a0b\u5e8f\u5bf9\u53d1\u9001\u5230\u60a8\u7684\u6444\u53d6\u670d\u52a1\u5668\u7684\u8bf7\u6c42\u8fdb\u884c\u8eab\u4efd\u9a8c\u8bc1\u3002\u5982\u679c\u60a8\u8ba1\u5212\u542f\u7528 OIDC\uff0c\u8bf7\u5728 OIDC \u63d0\u4f9b\u7a0b\u5e8f\u4e2d\u521b\u5efa\u4e00\u4e2a OIDC \u5ba2\u6237\u7aef\uff0c\u7136\u540e\u5728 AWS Secret Manager \u4e2d\u521b\u5efa\u4e00\u4e2a\u5305\u542b\u4ee5\u4e0b\u4fe1\u606f\u7684\u5bc6\u94a5\uff1a</p> <ul> <li> <p>issuer</p> </li> <li> <p>token endpoint</p> </li> <li> <p>User endpoint</p> </li> <li> <p>Authorization endpoint</p> </li> <li> <p>App client ID</p> </li> <li> <p>App Client Secret</p> </li> </ul> <p>\u683c\u5f0f\u5982\u4e0b\uff1a <pre><code>  {\n    \"issuer\":\"xxx\",\n    \"userEndpoint\":\"xxx\",\n    \"authorizationEndpoint\":\"xxx\",\n    \"tokenEndpoint\":\"xxx\",\n    \"appClientId\":\"xxx\",\n    \"appClientSecret\":\"xxx\"\n  }\n</code></pre> \u6ce8\u610f\uff1a\u5728 OIDC \u63d0\u4f9b\u7a0b\u5e8f\u4e2d\uff0c\u60a8\u9700\u8981\u5c06 <code>https://&lt;ingestion server endpoint&gt;/oauth2/idpresponse</code> \u6dfb\u52a0\u5230\u201c\u5141\u8bb8\u56de\u8c03 URL\u201d\u3002</p> </li> <li> <p>\u8bbf\u95ee\u65e5\u5fd7\uff1aALB \u652f\u6301\u63d0\u4f9b\u5176\u63a5\u6536\u7684\u6240\u6709\u8bf7\u6c42\u7684\u8be6\u7ec6\u65e5\u5fd7\u3002\u5982\u679c\u60a8\u542f\u7528\u6b64\u9009\u9879\uff0c\u5219\u89e3\u51b3\u65b9\u6848\u5c06\u81ea\u52a8\u4e3a\u60a8\u542f\u7528\u8bbf\u95ee\u65e5\u5fd7\uff0c\u5e76\u5c06\u65e5\u5fd7\u5b58\u50a8\u5728\u60a8\u4e4b\u524d\u9009\u62e9\u7684 S3 \u5b58\u50a8\u6876\u4e2d\u3002</p> <p>\u63d0\u793a</p> <p>\u5b58\u50a8\u6876\u5fc5\u987b\u5177\u6709 \u6388\u6743 Elastic Load Balancing \u5199\u5165\u5b58\u50a8\u6876\u7684\u5b58\u50a8\u6876\u7b56\u7565\u3002</p> <p>\u4e0b\u9762\u662f 2022 \u5e74 8 \u6708\u4e4b\u524d\u53ef\u7528\u7684\u533a\u57df \u5b58\u50a8\u6876\u7684\u793a\u4f8b\u7b56\u7565\uff1a</p> <pre><code>{\n  \"Version\": \"2012-10-17\",\n  \"Statement\": [\n    {\n      \"Effect\": \"Allow\",\n      \"Principal\": {\n        \"AWS\": \"arn:aws:iam::&lt;elb-account-id&gt;:root\"\n      },\n      \"Action\": \"s3:PutObject\",\n      \"Resource\": \"arn:aws:s3:::&lt;BUCKET&gt;/clickstream/*\"\n    }\n  ]\n}\n</code></pre> <p>\u5c06 <code>elb-account-id</code> \u66ff\u6362\u4e3a\u7528\u4e8e\u6240\u5728\u533a\u57df Elastic Load Balancing \u7684 Amazon Web Services \u8d26\u6237 \u7684 ID\uff1a</p> <ul> <li>\u7f8e\u56fd\u4e1c\u90e8\uff08\u5f17\u5409\u5c3c\u4e9a\u5dde\u5317\u90e8\uff09\u2013 127311923021</li> <li>\u7f8e\u56fd\u4e1c\u90e8\uff08\u4fc4\u4ea5\u4fc4\u5dde\uff09\u2013 033677994240</li> <li>\u7f8e\u56fd\u897f\u90e8\uff08\u5317\u52a0\u5229\u798f\u5c3c\u4e9a\uff09\u2013 027434742980</li> <li>\u7f8e\u56fd\u897f\u90e8\uff08\u4fc4\u52d2\u5188\u5dde\uff09\u2013 797873946194</li> <li>\u975e\u6d32\uff08\u5f00\u666e\u6566\uff09\u2013 098369216593</li> <li>\u4e9a\u592a\u5730\u533a\uff08\u9999\u6e2f\uff09\u2013 754344448648</li> <li>\u4e9a\u592a\u5730\u533a\uff08\u96c5\u52a0\u8fbe\uff09\u2013 589379963580</li> <li>\u4e9a\u592a\u5730\u533a\uff08\u5b5f\u4e70\uff09\u2013 718504428378</li> <li>\u4e9a\u592a\u5730\u533a\uff08\u5927\u962a\uff09\u2013 383597477331</li> <li>\u4e9a\u592a\u5730\u533a\uff08\u9996\u5c14\uff09\u2013 600734575887</li> <li>\u4e9a\u592a\u5730\u533a\uff08\u65b0\u52a0\u5761\uff09\u2013 114774131450</li> <li>\u4e9a\u592a\u5730\u533a\uff08\u6089\u5c3c\uff09\u2013 783225319266</li> <li>\u4e9a\u592a\u5730\u533a\uff08\u4e1c\u4eac\uff09\u2013 582318560864</li> <li>\u52a0\u62ff\u5927\uff08\u4e2d\u90e8\uff09\u2013 985666609251</li> <li>\u6b27\u6d32\uff08\u6cd5\u5170\u514b\u798f\uff09\u2013 054676820928</li> <li>\u6b27\u6d32\uff08\u7231\u5c14\u5170\uff09\u2013 156460612806</li> <li>\u6b27\u6d32\uff08\u4f26\u6566\uff09\u2013 652711504416</li> <li>\u6b27\u6d32\uff08\u7c73\u5170\uff09\u2013 635631232127</li> <li>\u6b27\u6d32\uff08\u5df4\u9ece\uff09\u2013 009996457667</li> <li>\u6b27\u6d32\uff08\u65af\u5fb7\u54e5\u5c14\u6469\uff09\u2013 897822967062</li> <li>\u4e2d\u4e1c\uff08\u5df4\u6797\uff09\u2013 076674570225</li> <li>\u5357\u7f8e\u6d32\uff08\u5723\u4fdd\u7f57\uff09\u2013 507241528517</li> <li>\u4e2d\u56fd\uff08\u5317\u4eac\uff09\u2013 638102146993</li> <li>\u4e2d\u56fd\uff08\u5b81\u590f\uff09\u2013 037604701340</li> </ul> </li> </ul> </li> </ul>"},{"location":"pipeline-mgmt/ingestion/create-data-sink-w-kafka/","title":"Apache Kafka","text":"<p>\u8be5\u6570\u636e\u5bbf\u5c06\u4ece\u6444\u53d6\u7aef\u70b9\u6536\u96c6\u7684\u70b9\u51fb\u6d41\u6570\u636e\u6d41\u5f0f\u4f20\u8f93\u5230 Kafka \u96c6\u7fa4\u4e2d\u7684\u4e00\u4e2a\u4e3b\u9898\u3002 \u76ee\u524d\uff0c\u8be5\u89e3\u51b3\u65b9\u6848\u652f\u6301 Amazon Managed Streaming for Apache Kafka (Amazon MSK)\u548c\u81ea\u6258\u7ba1 Kafka \u96c6\u7fa4\u3002</p>"},{"location":"pipeline-mgmt/ingestion/create-data-sink-w-kafka/#amazon-msk","title":"Amazon MSK","text":"<ul> <li> <p>\u9009\u62e9\u73b0\u6709\u7684 Amazon MSK \u96c6\u7fa4\u3002 \u4ece\u4e0b\u62c9\u5217\u8868\u4e2d\u9009\u62e9\u4e00\u4e2a MSK \u96c6\u7fa4\uff0c\u8be5 MSK \u96c6\u7fa4\u9700\u8981\u6ee1\u8db3\u4ee5\u4e0b\u8981\u6c42\uff1a</p> <ul> <li>MSK \u96c6\u7fa4\u548c\u6b64\u89e3\u51b3\u65b9\u6848\u9700\u8981\u5728\u540c\u4e00\u4e2a VPC \u4e2d\u3002</li> <li>\u5728\u8bbf\u95ee\u63a7\u5236\u65b9\u6cd5\u4e2d\u542f\u7528\u65e0\u8eab\u4efd\u9a8c\u8bc1\u8bbf\u95ee\u3002</li> <li>\u5728\u52a0\u5bc6\u4e2d\u542f\u7528\u660e\u6587\u3002</li> <li>\u5728 MSK \u96c6\u7fa4\u914d\u7f6e\u4e2d\u5c06 auto.create.topics.enable \u8bbe\u7f6e\u4e3a <code>true</code>\u3002\u6b64\u914d\u7f6e\u8bbe\u7f6e MSK \u96c6\u7fa4\u662f\u5426\u53ef\u4ee5\u81ea\u52a8\u521b\u5efa\u4e3b\u9898\u3002\u6216\u8005\u5728\u521b\u5efa\u6570\u636e\u7ba1\u9053\u4e4b\u524d\uff0c\u60a8\u9700\u8981\u5728Kafka\u96c6\u7fa4\u4e2d\u63d0\u524d\u521b\u5efa\u7279\u5b9a\u7684\u4e3b\u9898\u3002</li> <li>default.replication.factor \u7684\u503c\u4e0d\u80fd\u5927\u4e8e MKS \u96c6\u7fa4\u4ee3\u7406\u7684\u6570\u91cf\u3002</li> </ul> <p>\u6ce8\u610f\uff1a\u5982\u679c\u6ca1\u6709 MSK \u96c6\u7fa4\uff0c\u7528\u6237\u9700\u8981\u6309\u7167\u4ee5\u4e0a\u8981\u6c42\u521b\u5efa\u4e00\u4e2a MSK \u96c6\u7fa4\u3002</p> </li> <li> <p>\u4e3b\u9898\uff1a \u7528\u6237\u53ef\u4ee5\u6307\u5b9a\u4e3b\u9898\u540d\u79f0\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u8be5\u89e3\u51b3\u65b9\u6848\u5c06\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a\u201cproject-id\u201d\u7684\u4e3b\u9898\u3002</p> </li> </ul>"},{"location":"pipeline-mgmt/ingestion/create-data-sink-w-kafka/#_1","title":"\u81ea\u6258\u7ba1\u96c6\u7fa4","text":"<p>\u7528\u6237\u8fd8\u53ef\u4ee5\u4f7f\u7528\u81ea\u6258\u7ba1\u7684Kafka\u96c6\u7fa4\u3002\u4e3a\u4e86\u5c06\u89e3\u51b3\u65b9\u6848\u4e0eKafka\u96c6\u7fa4\u96c6\u6210\uff0c\u8bf7\u63d0\u4f9b\u4ee5\u4e0b\u914d\u7f6e\uff1a</p> <ul> <li> <p>Broker \u94fe\u63a5: \u8f93\u5165\u60a8\u8981\u8fde\u63a5\u7684Kafka\u96c6\u7fa4\u7684brokers\u94fe\u63a5\uff0cKafka\u96c6\u7fa4\u9700\u8981\u6ee1\u8db3\u4ee5\u4e0b\u8981\u6c42\uff1a</p> <ul> <li>Kafka\u96c6\u7fa4\u548c\u672c\u65b9\u6848\u9700\u8981\u5728\u540c\u4e00\u4e2aVPC</li> <li>Kafka\u96c6\u7fa4broker\u6570\u91cf\u4e0d\u80fd\u5c11\u4e8e2\u4e2a</li> </ul> </li> <li> <p>\u4e3b\u9898: \u7528\u6237\u53ef\u4ee5\u6307\u5b9a\u5b58\u50a8\u6570\u636e\u7684\u4e3b\u9898\u3002</p> </li> <li>Security Group: \u8be5VPC\u5b89\u5168\u7ec4\u5b9a\u4e49\u4e86\u54ea\u4e9b\u5b50\u7f51\u548cIP\u8303\u56f4\u53ef\u4ee5\u8bbf\u95eeKafka\u96c6\u7fa4\u3002</li> </ul>"},{"location":"pipeline-mgmt/ingestion/create-data-sink-w-kafka/#_2","title":"\u8fde\u63a5\u5668","text":"<p>\u542f\u7528\u89e3\u51b3\u65b9\u6848\u521b\u5efa Kafka \u8fde\u63a5\u5668\u548c\u81ea\u5b9a\u4e49\u63d2\u4ef6\u3002\u6b64\u8fde\u63a5\u5668\u5c06\u4ece Kafka \u96c6\u7fa4\u4e2d\u7684\u6570\u636e\u6c47\u5165 S3 \u5b58\u50a8\u6876\u4e2d\u3002</p>"},{"location":"pipeline-mgmt/ingestion/create-data-sink-w-kafka/#_3","title":"\u5176\u4ed6\u8bbe\u7f6e\uff1a","text":"<ul> <li>\u63a5\u6536\u5668\u6700\u5927\u95f4\u9694\uff1a \u6307\u5b9a\u5728\u6d41\u5f0f\u4f20\u8f93\u5230 AWS \u670d\u52a1\u4e4b\u524d\u8bb0\u5f55\u5e94\u7f13\u51b2\u7684\u6700\u957f\u65f6\u95f4\uff08\u4ee5\u79d2\u4e3a\u5355\u4f4d\uff09\u3002</li> <li>\u6279\u5904\u7406\u5927\u5c0f\uff1a \u5728\u5355\u4e2a\u6279\u6b21\u4e2d\u4f20\u9001\u7684\u8bb0\u5f55\u6570\u7684\u6700\u5927\u503c\u3002</li> </ul>"},{"location":"pipeline-mgmt/ingestion/create-data-sink-w-kinesis/","title":"Amazon Kinesis Data Stream","text":"<p>\u8be5\u6570\u636e\u5bbf\u5c06\u4ece\u6444\u53d6\u7aef\u70b9\u6536\u96c6\u7684\u70b9\u51fb\u6d41\u6570\u636e\u6d41\u5f0f\u4f20\u8f93\u5230 KDS\u3002\u8be5\u89e3\u51b3\u65b9\u6848\u5c06\u6839\u636e\u60a8\u7684\u89c4\u683c\u5728\u60a8\u7684 AWS \u8d26\u6237\u4e2d\u521b\u5efa\u4e00\u4e2a KDS\u3002</p>"},{"location":"pipeline-mgmt/ingestion/create-data-sink-w-kinesis/#_1","title":"\u914d\u7f6e\u6a21\u5f0f","text":"<p>\u63d0\u4f9b\u4e24\u79cd\u6a21\u5f0f\uff1a\u6309\u9700\u548c\u9884\u914d\u7f6e</p> <ul> <li> <p>\u6309\u9700\uff1a\u5728\u6b64\u6a21\u5f0f\u4e0b\uff0cKDS \u5206\u7247\u662f\u6839\u636e\u7814\u8ba8\u4f1a\u81ea\u52a8\u914d\u7f6e\u7684\u3002\u6309\u9700\u6a21\u5f0f\u9002\u7528\u4e8e\u5177\u6709\u4e0d\u53ef\u9884\u6d4b\u548c\u9ad8\u5ea6\u53ef\u53d8\u6d41\u91cf\u6a21\u5f0f\u7684\u5de5\u4f5c\u8d1f\u8f7d\u3002</p> </li> <li> <p>\u9884\u914d\u7f6e\uff1a\u5728\u6b64\u6a21\u5f0f\u4e0b\uff0cKDS \u5206\u7247\u5728\u521b\u5efa\u65f6\u8bbe\u7f6e\u3002\u9884\u914d\u7f6e\u6a21\u5f0f\u9002\u7528\u4e8e\u5177\u6709\u5bb9\u91cf\u9700\u6c42\u6613\u4e8e\u9884\u6d4b\u7684\u53ef\u9884\u6d4b\u6d41\u91cf\u3002\u5982\u679c\u60a8\u60f3\u5bf9\u6570\u636e\u5728\u5206\u7247\u4e4b\u95f4\u7684\u5206\u5e03\u65b9\u5f0f\u8fdb\u884c\u7cbe\u7ec6\u63a7\u5236\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528\u9884\u914d\u7f6e\u6a21\u5f0f\u3002</p> <ul> <li>\u5206\u7247\u6570\uff1a\u5728\u9884\u914d\u7f6e\u6a21\u5f0f\u4e0b\uff0c\u60a8\u5fc5\u987b\u6307\u5b9a\u6570\u636e\u6d41\u7684\u5206\u7247\u6570\u91cf\u3002\u6709\u5173\u5206\u7247\u7684\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605\u9884\u914d\u7f6e\u6a21\u5f0f\u3002</li> </ul> </li> </ul>"},{"location":"pipeline-mgmt/ingestion/create-data-sink-w-kinesis/#_2","title":"\u5176\u4ed6\u8bbe\u7f6e","text":"<ul> <li>\u63a5\u6536\u5668\u6700\u5927\u95f4\u9694\uff1a \u4f7f\u7528\u6b64\u914d\u7f6e\uff0c\u60a8\u53ef\u4ee5\u6307\u5b9a\u8bb0\u5f55\u5728\u6d41\u5f0f\u4f20\u8f93\u5230 AWS \u670d\u52a1\u4e4b\u524d\u5e94\u7f13\u51b2\u7684\u6700\u957f\u65f6\u95f4\uff08\u4ee5\u79d2\u4e3a\u5355\u4f4d\uff09\u3002</li> <li>\u6279\u5904\u7406\u5927\u5c0f\uff1a \u4f7f\u7528\u6b64\u914d\u7f6e\uff0c\u60a8\u53ef\u4ee5\u6307\u5b9a\u5355\u4e2a\u6279\u6b21\u4e2d\u4f20\u9012\u7684\u8bb0\u5f55\u6570\u7684\u6700\u5927\u503c\u3002</li> </ul>"},{"location":"pipeline-mgmt/ingestion/create-data-sink-w-s3/","title":"Amazon S3","text":"<p>\u5728\u6b64\u9009\u9879\u4e2d\uff0c\u70b9\u51fb\u6d41\u6570\u636e\u5728\u6444\u53d6\u670d\u52a1\u5668\u7684\u5185\u5b58\u4e2d\u8fdb\u884c\u7f13\u51b2\uff0c\u7136\u540e\u6c47\u5165\u5230 S3 \u5b58\u50a8\u6876\u4e2d\u3002\u5982\u679c\u4e0d\u9700\u8981\u5b9e\u65f6\u6570\u636e\u6d88\u8017\uff0c\u5219\u6b64\u9009\u9879\u63d0\u4f9b\u4e86\u6700\u4f73\u7684\u6027\u4ef7\u6bd4\u3002</p> <p>\u6ce8\u610f</p> <p>\u4e0e Kafka \u548c KDS \u6570\u636e\u5bbf\u4e0d\u540c\uff0c\u6b64\u9009\u9879\u5728\u6444\u53d6\u670d\u52a1\u5668\u4e2d\u7f13\u51b2\u6570\u636e\uff0c\u5e76\u5728\u6570\u636e\u6c47\u5165 S3 \u524d\u5411 SDK \u5ba2\u6237\u7aef\u54cd\u5e94 200 \u72b6\u6001\u7801\uff0c\u56e0\u6b64\u5728\u6444\u53d6\u670d\u52a1\u5668\u5931\u8d25\u4e14\u81ea\u52a8\u6269\u5c55\u673a\u5668\u6b63\u5728\u521b\u5efa\u8fc7\u7a0b\u4e2d\uff0c\u6570\u636e\u53ef\u80fd\u4f1a\u4e22\u5931\u3002\u4f46\u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0c\u7531\u4e8e\u89e3\u51b3\u65b9\u6848\u5177\u6709\u9ad8\u53ef\u7528\u6027\u8bbe\u8ba1\uff0c\u8fd9\u79cd\u53ef\u80fd\u6027\u975e\u5e38\u4f4e\u3002</p> <ul> <li>\u7f13\u5b58\u5927\u5c0f\uff1a \u6307\u5b9a\u53d1\u9001\u5230 Amazon S3 \u4e4b\u524d\u8981\u7f13\u51b2\u7684\u6570\u636e\u5927\u5c0f\u3002\u66f4\u9ad8\u7684\u7f13\u51b2\u5927\u5c0f\u53ef\u80fd\u5177\u6709\u66f4\u4f4e\u7684\u6210\u672c\u548c\u66f4\u9ad8\u7684\u5ef6\u8fdf\uff0c\u800c\u8f83\u4f4e\u7684\u7f13\u51b2\u5927\u5c0f\u5c06\u5728\u66f4\u77ed\u7684\u4ea4\u4ed8\u65f6\u95f4\u5185\u63d0\u4f9b\u66f4\u5feb\u7684\u4ea4\u4ed8\u901f\u5ea6\u4f46\u6210\u672c\u66f4\u9ad8\u3002\u6700\u5c0f\u503c\uff1a1 MiB\uff0c\u6700\u5927\u503c\uff1a50 MiB\u3002</li> <li>\u7f13\u5b58\u95f4\u9694\uff1a \u6307\u5b9a\u5c06\u7f13\u5b58\u4fdd\u5b58\u5230 S3 \u7684\u6700\u5927\u65f6\u95f4\u95f4\u9694\uff08\u79d2\uff09\u3002\u66f4\u9ad8\u7684\u95f4\u9694\u5141\u8bb8\u66f4\u591a\u65f6\u95f4\u6765\u6536\u96c6\u6570\u636e\uff0c\u6570\u636e\u5927\u5c0f\u53ef\u80fd\u66f4\u5927\u3002\u8f83\u4f4e\u7684\u95f4\u9694\u66f4\u9891\u7e41\u5730\u53d1\u9001\u6570\u636e\uff0c\u5e76\u4e14\u5728\u67e5\u770b\u8f83\u77ed\u5468\u671f\u7684\u6570\u636e\u6d3b\u52a8\u65f6\u53ef\u80fd\u66f4\u6709\u4f18\u52bf\u3002\u6700\u5c0f\u503c\uff1a60 \u79d2\uff0c\u6700\u5927\u503c\uff1a3600 \u79d2\u3002</li> </ul>"},{"location":"pipeline-mgmt/quicksight/configure-quicksight/","title":"\u914d\u7f6e\u62a5\u8868","text":""},{"location":"pipeline-mgmt/quicksight/configure-quicksight/#quicksight","title":"QuickSight","text":"<p>\u4e00\u65e6\u6570\u636e\u7531\u6570\u636e\u7ba1\u9053\u8fdb\u884c\u5904\u7406\u548c\u5efa\u6a21\uff0c\u89e3\u51b3\u65b9\u6848\u652f\u6301\u5728 QuickSight \u4e2d\u521b\u5efa\u5f00\u7bb1\u5373\u7528\u7684\u4eea\u8868\u677f\u3002</p> <p>\u6ce8\u610f</p> <p>\u8981\u542f\u7528\u6b64\u6a21\u5757\uff0c\u60a8\u7684 AWS \u5e10\u6237\u9700\u8981\u8ba2\u9605 QuickSight \u4f01\u4e1a\u7248\u672c\u3002\u5982\u679c\u6ca1\u6709\uff0c\u8bf7\u6309\u7167\u6b64\u6ce8\u518c Amazon QuickSight\u521b\u5efa\u8ba2\u9605\u3002</p>"},{"location":"plan-deployment/cost/","title":"\u6210\u672c","text":"<p>\u91cd\u8981\u63d0\u793a</p> <p>\u4ee5\u4e0b\u7684\u6210\u672c\u4f30\u7b97\u4ec5\u4e3a\u793a\u4f8b\uff0c\u5b9e\u9645\u6210\u672c\u53ef\u80fd\u56e0\u73af\u5883\u800c\u5f02\u3002</p> <p>\u60a8\u9700\u8981\u627f\u62c5\u8fd0\u884c\u6b64\u89e3\u51b3\u65b9\u6848\u65f6\u4f7f\u7528\u7684 AWS \u670d\u52a1\u7684\u8d39\u7528\u3002 \u90e8\u7f72\u6b64\u89e3\u51b3\u65b9\u6848\u53ea\u4f1a\u5728\u60a8\u7684 AWS \u8d26\u6237\u4e2d\u521b\u5efa\u4e00\u4e2a\u89e3\u51b3\u65b9\u6848 Web \u63a7\u5236\u53f0\uff0c\u8be5\u63a7\u5236\u53f0\u662f\u65e0\u670d\u52a1\u5668\u67b6\u6784\uff0c\u901a\u5e38AWS\u7684\u514d\u8d39\u5957\u9910\u53ef\u4ee5\u8986\u76d6\u6210\u672c\u3002</p> <p>\u8be5\u89e3\u51b3\u65b9\u6848\u7684\u5927\u90e8\u5206\u6210\u672c\u662f\u7531\u6570\u636e\u7ba1\u9053\u4ea7\u751f\u7684\u3002 \u622a\u81f3\u672c\u6b21\u4fee\u8ba2\uff0c\u5f71\u54cd\u89e3\u51b3\u65b9\u6848\u6210\u672c\u7684\u4e3b\u8981\u56e0\u7d20\u5305\u62ec\uff1a</p> <ul> <li> <p>\u6444\u5165\u6a21\u5757\uff0c\u8d39\u7528\u53d6\u51b3\u4e8e\u6444\u5165\u670d\u52a1\u5668\u7684\u5927\u5c0f\u548c\u6240\u9009\u62e9\u7684\u6570\u636e\u5bbf\u7c7b\u578b\u3002</p> </li> <li> <p>\u6570\u636e\u5904\u7406\u548c\u5efa\u6a21\u6a21\u5757\uff08\u53ef\u9009\uff09\uff0c\u8d39\u7528\u53d6\u51b3\u4e8e\u60a8\u662f\u5426\u9009\u62e9\u542f\u7528\u6b64\u6a21\u5757\u4ee5\u53ca\u76f8\u5173\u914d\u7f6e\u3002</p> </li> <li> <p>\u542f\u7528\u7684\u4eea\u8868\u677f\uff08\u53ef\u9009\uff09\uff0c\u8d39\u7528\u53d6\u51b3\u4e8e\u60a8\u662f\u5426\u9009\u62e9\u542f\u7528\u6b64\u6a21\u5757\u4ee5\u53ca\u76f8\u5173\u914d\u7f6e\u3002</p> </li> <li> <p>\u70b9\u51fb\u6d41\u6570\u636e\u7684\u6570\u91cf</p> </li> <li> <p>\u9644\u52a0\u529f\u80fd</p> </li> </ul> <p>\u4ee5\u4e0b\u662f\u4ee5\u4e0d\u540c\u6570\u636e\u7ba1\u9053\u914d\u7f6e\u7684\u6bcf\u65e5\u6570\u636e\u91cf\u4e3a10/100/1000\u4e2a\u8bf7\u6c42\u6bcf\u79d2\uff08RPS\uff09\u7684\u6210\u672c\u4f30\u7b97\u3002\u6210\u672c\u4f30\u7b97\u7531\u6a21\u5757\u63d0\u4f9b\u3002\u6839\u636e\u60a8\u7684\u5b9e\u9645\u914d\u7f6e\uff0c\u6309\u6a21\u5757\u7d2f\u52a0\u6210\u672c\u4ee5\u83b7\u5f97\u60a8\u7684\u7528\u4f8b\u7684\u603b\u6210\u672c\u3002</p> <p>\u91cd\u8981\u63d0\u793a</p> <p>\u622a\u81f3\u672c\u4fee\u8ba2\u7248\uff0c\u4ee5\u4e0b\u6210\u672c\u662f\u4f7f\u7528<code>On-Demand</code>\u4ef7\u683c\u5728<code>us-east-1</code>\u533a\u57df\u4ee5\u7f8e\u5143\u8ba1\u91cf\u7684\u3002</p>"},{"location":"plan-deployment/cost/#_1","title":"\u6444\u5165\u6a21\u5757","text":"<p>\u6444\u5165\u6a21\u5757\u5305\u62ec\u4ee5\u4e0b\u6210\u672c\u7ec4\u6210\u90e8\u5206\uff1a</p> <ul> <li>\u5e94\u7528\u7a0b\u5e8f\u8d1f\u8f7d\u5747\u8861\u5668</li> <li>\u7528\u4e8eECS\u7684EC2\u5b9e\u4f8b</li> <li>\u6570\u636e\u5bbf - Data sink\uff08Kinesis Data Streams | Kafka | \u76f4\u63a5\u5230S3\uff09</li> <li>S3\u5b58\u50a8</li> <li>\u6570\u636e\u4f20\u8f93\u51fa\uff08DTO\uff09</li> </ul> <p>\u4e3b\u8981\u5047\u8bbe\u5305\u62ec\uff1a</p> <ul> <li>\u8bf7\u6c42\u6709\u6548\u8f7d\u8377\uff1a1KB\uff08\u538b\u7f29\u540e\uff0c1:10\u7684\u6bd4\u4f8b\uff09</li> <li>MSK\u914d\u7f6e\uff08m5.large * 2\uff09</li> <li>KDS\u914d\u7f6e\uff08\u6309\u9700\uff0c\u9884\u914d - 2 \u5206\u7247\u6570\uff09</li> <li>10/100/1000 RPS</li> </ul> \u6bcf\u65e5\u6570\u636e\u91cf/\u6bcf\u79d2\u8bf7\u6c42\u6570\uff08RPS\uff09 ALB \u8d39\u7528 EC2 \u8d39\u7528 \u7f13\u51b2\u7c7b\u578b\uff08Buffer type\uff09 \u7f13\u51b2\u8d39\u7528\uff08Buffer cost\uff09 S3 \u8d39\u7528 \u603b\u8ba1\uff08\u7f8e\u5143/\u6708\uff09 10RPS $7 $122 Kinesis\uff08\u6309\u9700\uff09 $36 $3 $168 $7 $122 Kinesis (\u9884\u5907 2 shard) $22 $3 $154 $7 $122 MSK (m5.large * 2, connector MCU * 1) $417 $3 $549 $7 $122 \u65e0\u7f13\u51b2 $3 $132 100RPS $43 $122 Kinesis\uff08\u6309\u9700\uff09 $86 $3 $254 $43 $122 Kinesis (\u9884\u5907 2 shard) $26 $3 $194 $43 $122 MSK (m5.large * 2, connector MCU * 1) $417 $3 $585 $43 $122 \u65e0\u7f13\u51b2 $3 $168 1000RPS $396 $122 Kinesis\uff08\u6309\u9700\uff09 $576 $14 $1108 $396 $122 Kinesis (\u9884\u5907 10 shard) $146 $14 $678 $396 $122 MSK (m5.large * 2, connector MCU * 2~3) $530 $14 $1062 $396 $122 \u65e0\u7f13\u51b2 $14 $532"},{"location":"plan-deployment/cost/#_2","title":"\u6570\u636e\u4f20\u8f93","text":"<p>\u5f53\u6570\u636e\u901a\u8fc7EC2\u53d1\u9001\u5230\u4e0b\u6e38\u7684\u6570\u636e\u5bbf\uff0c\u4f1a\u4ea7\u751f\u6570\u636e\u7684\u8d39\u7528\u3002\u4e0b\u9762\u662f\u4ee51000RPS\uff0c\u6bcf\u4e2a\u8bf7\u6c42\u7684\u6709\u6548\u8f7d\u8377\u4e3a1KB\u4e3a\u4f8b\u7684\u8d39\u7528\u3002</p> <ol> <li>EC2 \u7f51\u7edc\u8f93\u5165\uff1a\u6b64\u90e8\u5206\u4e0d\u4ea7\u751f\u8d39\u7528</li> <li> <p>EC2 \u7f51\u7edc\u8f93\u51fa\uff0c\u6709\u5982\u4e0b\u4e09\u79cd\u6570\u636e\u5bbf\u7684\u60c5\u51b5\uff1a</p> \u6570\u636e\u5bbf \u63a5\u5165\u6570\u636e\u5bbf\u65b9\u6cd5 \u8d39\u7528\u8bf4\u660e \u603b\u8ba1\uff08\u7f8e\u5143/\u6708\uff09 S3 S3 Gateway endpoints The S3 Gateway endpoints \u4e0d\u4f1a\u4ea7\u751f\u6570\u636e\u4f20\u8f93\u8d39\u7528 $0 MSK \u6570\u636e\u4f20\u8f93\u8d39\u7528\uff08$0.010 per GB in/out/between EC2 AZs\uff09 $105 KDS NAT NAT \u56fa\u5b9a\u8d39\u7528\uff1a $64\uff082 Availability Zones and a NAT per AZ, $0.045 per NAT Gateway Hour\uff09.  \u6570\u636e\u4f20\u8f93\u8d39\u7528\uff1a$601\uff08$0.045 per GB Data Processed by NAT Gateways\uff09. $665 KDS VPC Endpoint VPC Endpoint \u56fa\u5b9a\u8d39\u7528\uff1a$14.62 \uff08Availability Zones $0.01 per AZ Hour\uff09.  \u6570\u636e\u4f20\u8f93\u8d39\u7528: $133.5($0.01 per GB Data Processed by Interface endpoints). $148.1 <p>\u6211\u4eec\u5efa\u8bae\u901a\u8fc7VPC endpoint\u4f20\u8f93\u6570\u636e\u5230KDS\u3002\u8bf7\u53c2\u8003VPC endpoint\u83b7\u53d6\u66f4\u591a\u4fe1\u606f\u3002       </p> </li> </ol>"},{"location":"plan-deployment/cost/#_3","title":"\u6570\u636e\u5904\u7406\u4e0e\u5efa\u6a21\u6a21\u5757","text":"<p>\u5982\u679c\u542f\u7528\u6570\u636e\u5904\u7406\u4e0e\u5efa\u6a21\u6a21\u5757\uff0c\u5c06\u5305\u62ec\u4ee5\u4e0b\u8d39\u7528\u7ec4\u6210\u90e8\u5206\uff1a</p> <ul> <li> <p>EMR Serverless</p> </li> <li> <p>Redshift</p> </li> </ul> <p>\u4e3b\u8981\u5047\u8bbe\u5305\u62ec\uff1a</p> <ul> <li>10/100/1000 RPS</li> <li>\u6570\u636e\u5904\u7406\u95f4\u9694\uff1a\u6bcf\u5c0f\u65f6/\u6bcf6\u5c0f\u65f6/\u6bcf\u65e5</li> <li>EMR\u8fd0\u884c\u4e09\u4e2a\u5185\u7f6e\u63d2\u4ef6\u6765\u5904\u7406\u6570\u636e</li> </ul> \u6bcf\u65e5\u6570\u636e\u91cf/\u6bcf\u79d2\u8bf7\u6c42\u6570 (RPS) EMR\u8c03\u5ea6\u95f4\u9694 EMR \u8d39\u7528 Redshift\u7c7b\u578b Redshift \u8d39\u7528 \u603b\u8ba1 (\u7f8e\u5143/\u6708) 10RPS \u6bcf\u5c0f\u65f6 $28 \u65e0\u670d\u52a1\u5668 (\u57fa\u4e8e8\u4e2aRPU) $68 $96 \u6bcf6\u5c0f\u65f6 $10.8 \u65e0\u670d\u52a1\u5668 (\u57fa\u4e8e8\u4e2aRPU) $11 $21.8 \u6bcf\u65e5 $9.6 \u65e0\u670d\u52a1\u5668 (\u57fa\u4e8e8\u4e2aRPU) $3 $12.6 100RPS \u6bcf\u5c0f\u65f6 $72 \u65e0\u670d\u52a1\u5668 (\u57fa\u4e8e8\u4e2aRPU) $70 $142 \u6bcf6\u5c0f\u65f6 $61.2 \u65e0\u670d\u52a1\u5668 (\u57fa\u4e8e8\u4e2aRPU) $17.2 $78.4 \u6bcf\u65e5 $43.7 \u65e0\u670d\u52a1\u5668 (\u57fa\u4e8e8\u4e2aRPU) $12.4 $56.1 1000RPS \u6bcf\u5c0f\u65f6 $842 \u65e0\u670d\u52a1\u5668 (\u57fa\u4e8e8\u4e2aRPU) $172 $1014 \u6bcf6\u5c0f\u65f6 $579 \u65e0\u670d\u52a1\u5668 (\u57fa\u4e8e8\u4e2aRPU) $137 $716 \u672c\u6761\u76ee\u7684EMR\u4f7f\u7528\u4e86\u4e0b\u9762\u7684\u914d\u7f6e \u6bcf\u65e5 $642 \u65e0\u670d\u52a1\u5668 (\u57fa\u4e8e8\u4e2aRPU) $94 $736 <p>\u63d0\u793a</p> <p>\u5bf9\u4e8e1000 PRS \u6bcf\u65e5\u7684\u8d39\u7528\uff0c\u4e3a\u4f7f\u7528\u4e86\u5982\u4e0bEMR\u914d\u7f6e\u7684\u8d39\u7528\u3002</p> <pre><code>{\n\"sparkConfig\": [\n        \"spark.emr-serverless.executor.disk=200g\",\n        \"spark.executor.instances=16\",\n        \"spark.dynamicAllocation.initialExecutors=16\",\n        \"spark.executor.memory=100g\",\n        \"spark.executor.cores=16\",\n        \"spark.network.timeout=10000000\",\n        \"spark.executor.heartbeatInterval=10000000\",\n        \"spark.shuffle.registration.timeout=120000\",\n        \"spark.shuffle.registration.maxAttempts=5\",\n        \"spark.shuffle.file.buffer=2m\",\n        \"spark.shuffle.unsafe.file.output.buffer=1m\"\n    ],\n    \"inputRePartitions\": 800\n}\n</code></pre>"},{"location":"plan-deployment/cost/#_4","title":"\u4eea\u8868\u677f","text":"<p>\u5982\u679c\u60a8\u9009\u62e9\u542f\u7528\uff0c\u4eea\u8868\u677f\u6a21\u5757\u5305\u62ec\u4ee5\u4e0b\u6210\u672c\u7ec4\u6210\u90e8\u5206\uff1a</p> <ul> <li>QuickSight</li> </ul> <p>\u5173\u952e\u5047\u8bbe\u5305\u62ec\uff1a</p> <ul> <li>QuickSight\u4f01\u4e1a\u7248</li> <li>\u4e0d\u5305\u62ecQ\u6210\u672c</li> <li>\u4e24\u4e2a\u4f5c\u8005\u6bcf\u6708\u8ba2\u9605</li> <li>\u5341\u4e2a\u8bfb\u8005\uff0c\u6bcf\u6708\u5de5\u4f5c22\u5929\uff0c\u5176\u4e2d5%\u4e3a\u6d3b\u8dc3\u8bfb\u8005\uff0c50%\u4e3a\u7ecf\u5e38\u8bfb\u8005\uff0c25%\u4e3a\u5076\u5c14\u8bfb\u8005\uff0c20%\u4e3a\u4e0d\u6d3b\u8dc3\u8bfb\u8005</li> <li>10GB\u7684SPICE\u5bb9\u91cf</li> </ul> \u6bcf\u65e5\u6570\u636e\u91cf/\u6bcf\u79d2\u8bf7\u6c42\u6570 (RPS) \u4f5c\u8005 \u8bfb\u8005 SPICE \u603b\u8ba1\uff08\u7f8e\u5143/\u6708\uff09 \u6240\u6709\u5927\u5c0f 48 18.80 0 $66.80 <p>\u63d0\u793a</p> <p>\u6240\u6709\u6570\u636e\u7ba1\u9053\u90fd\u9002\u7528\u4e8e\u4ee5\u4e0a QuickSight \u8d39\u7528\uff0c\u5373\u4f7f\u662f\u5728\u89e3\u51b3\u65b9\u6848\u4e4b\u5916\u7ba1\u7406\u7684\u53ef\u89c6\u5316\u5185\u5bb9\u4e5f\u662f\u5982\u6b64\u3002</p>"},{"location":"plan-deployment/cost/#_5","title":"\u65e5\u5fd7\u548c\u76d1\u63a7","text":"<p>\u65b9\u6848\u4f7f\u7528CloudWatch Logs\uff0cCloudWatch Metrics\u548cCloudWatch Dashboard\u6765\u5b9e\u73b0\u65e5\u5fd7\uff0c\u76d1\u63a7\uff0c\u5c55\u793a\u529f\u80fd\uff0c\u5408\u8ba1\u8d39\u7528\u7ea6\u4e3a\u6bcf\u6708\u7ea614\u7f8e\u5143\uff0c\u6839\u636eLogs\u7684\u4f7f\u7528\u91cf\u548cMetrics\u7684\u6570\u91cf\u4f1a\u6709\u4e00\u5b9a\u6d6e\u52a8\u3002</p>"},{"location":"plan-deployment/cost/#_6","title":"\u989d\u5916\u529f\u80fd","text":"<p>\u53ea\u6709\u5728\u60a8\u9009\u62e9\u542f\u7528\u4ee5\u4e0b\u529f\u80fd\u65f6\uff0c\u60a8\u624d\u4f1a\u88ab\u6536\u53d6\u989d\u5916\u8d39\u7528\u3002</p>"},{"location":"plan-deployment/cost/#secrets-manager","title":"Secrets Manager","text":"<ul> <li> <p>\u5982\u679c\u60a8\u542f\u7528\u4e86\u62a5\u544a\u529f\u80fd\uff0c\u8be5\u89e3\u51b3\u65b9\u6848\u5c06\u5728 Secrets Manager \u4e2d\u521b\u5efa\u4e00\u4e2a\u5bc6\u94a5\uff0c\u7528\u4e8e\u5b58\u50a8 QuickSight \u53ef\u89c6\u5316\u4f7f\u7528\u7684 Redshift \u51ed\u636e\u3002\u8d39\u7528\uff1a0.4 \u7f8e\u5143/\u6708\u3002</p> </li> <li> <p>\u5982\u679c\u60a8\u542f\u7528\u4e86\u6444\u5165\u6a21\u5757\u7684\u8eab\u4efd\u9a8c\u8bc1\u529f\u80fd\uff0c\u60a8\u9700\u8981\u5728 Secrets Manager \u4e2d\u521b\u5efa\u4e00\u4e2a\u5bc6\u94a5\uff0c\u7528\u4e8e\u5b58\u50a8 OIDC \u7684\u4fe1\u606f\u3002\u8d39\u7528\uff1a0.4 \u7f8e\u5143/\u6708\u3002</p> </li> </ul>"},{"location":"plan-deployment/cost/#amazon","title":"Amazon\u5168\u7403\u52a0\u901f\u5668","text":"<p>\u5b83\u4ea7\u751f\u56fa\u5b9a\u7684\u6309\u5c0f\u65f6\u8d39\u7528\u548c\u6309\u6bcf\u65e5\u6570\u636e\u4f20\u8f93\u91cf\u7684\u8d39\u7528\u3002</p> <p>\u5173\u952e\u5047\u8bbe\uff1a</p> <ul> <li>\u63a5\u5165\u90e8\u7f72\u5728<code>us-east-1</code></li> </ul> \u6bcf\u65e5\u6570\u636e\u91cf/RPS \u56fa\u5b9a\u6bcf\u5c0f\u65f6\u8d39\u7528 \u6570\u636e\u4f20\u8f93\u8d39\u7528 \u603b\u8d39\u7528\uff08\u7f8e\u5143/\u6708\uff09 10RPS $18 $0.3 $18.3 100RPS $18 $3 $21 1000RPS $18 $30 $48"},{"location":"plan-deployment/cost/#_7","title":"\u5e94\u7528\u8d1f\u8f7d\u5747\u8861\u5668\u8bbf\u95ee\u65e5\u5fd7","text":"<p>\u60a8\u9700\u8981\u4e3a Amazon S3 \u7684\u5b58\u50a8\u8d39\u7528\u4ed8\u8d39\uff0c\u4f46\u65e0\u9700\u4e3a Elastic Load Balancing \u7528\u4e8e\u5c06\u65e5\u5fd7\u6587\u4ef6\u53d1\u9001\u5230 Amazon S3 \u7684\u5e26\u5bbd\u4f7f\u7528\u4ed8\u8d39\u3002\u6709\u5173\u5b58\u50a8\u8d39\u7528\u7684\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605 Amazon S3 \u5b9a\u4ef7\u3002</p> \u6bcf\u65e5\u6570\u636e\u91cf/RPS \u65e5\u5fd7\u5927\u5c0f S3 \u8d39\u7528\uff08\u7f8e\u5143/\u6708\uff09 10 RPS 16.5 $0.38 100 RPS 165 $3.8 1000 RPS 1650 $38"},{"location":"plan-deployment/regions/","title":"\u652f\u6301\u7684AWS\u533a\u57df","text":""},{"location":"plan-deployment/regions/#_1","title":"\u533a\u57df\u90e8\u7f72","text":"<p>\u6b64\u89e3\u51b3\u65b9\u6848\u4f7f\u7528\u7684\u670d\u52a1\u53ef\u80fd\u5c1a\u672a\u5728\u6240\u6709 AWS \u533a\u57df\u63d0\u4f9b\u3002\u8bf7\u5728\u63d0\u4f9b\u6240\u9700\u670d\u52a1\u7684 AWS \u533a\u57df\u4e2d\u542f\u52a8\u6b64\u89e3\u51b3\u65b9\u6848\u3002\u6709\u5173\u5404\u4e2a\u533a\u57df\u7684\u6700\u65b0\u53ef\u7528\u6027\uff0c\u8bf7\u53c2\u9605AWS \u533a\u57df\u670d\u52a1\u5217\u8868\u3002</p> <p>AWS \u4e0a\u7684 Clickstream Analytics \u63d0\u4f9b\u4e86\u4e24\u79cd\u8eab\u4efd\u9a8c\u8bc1\u65b9\u5f0f\uff0cCognito \u7528\u6237\u6c60\u548cOpenID Connect (OIDC) \u63d0\u4f9b\u5546\u3002\u60a8\u5fc5\u987b\u9009\u62e9\u4f7f\u7528 OpenID Connect \u6765\u542f\u52a8\u89e3\u51b3\u65b9\u6848\uff0c\u5982\u679c\u6ee1\u8db3\u4ee5\u4e0b\u60c5\u51b5\u4e4b\u4e00\uff1a</p> <ul> <li>\u5728\u60a8\u7684 AWS \u533a\u57df\u4e2d\u4e0d\u53ef\u7528 Cognito \u7528\u6237\u6c60\u3002</li> <li>\u60a8\u5df2\u7ecf\u62e5\u6709\u4e00\u4e2a OpenID Connect \u63d0\u4f9b\u5546\uff0c\u5e76\u5e0c\u671b\u4f7f\u7528\u5176\u8fdb\u884c\u8eab\u4efd\u9a8c\u8bc1\u3002</li> </ul> <p>\u652f\u6301 Web \u63a7\u5236\u53f0\u90e8\u7f72\u7684\u533a\u57df</p> \u533a\u57df\u540d\u79f0 \u4f7f\u7528 Cognito \u7528\u6237\u6c60\u542f\u52a8 \u4f7f\u7528 OpenID Connect \u542f\u52a8 \u7f8e\u56fd\u4e1c\u90e8\uff08\u5f17\u5409\u5c3c\u4e9a\u5317\u90e8\uff09 \u7f8e\u56fd\u4e1c\u90e8\uff08\u4fc4\u4ea5\u4fc4\u5dde\uff09 \u7f8e\u56fd\u897f\u90e8\uff08\u52a0\u5229\u798f\u5c3c\u4e9a\u5317\u90e8\uff09 \u7f8e\u56fd\u897f\u90e8\uff08\u4fc4\u52d2\u5188\u5dde\uff09 \u975e\u6d32\uff08\u5f00\u666e\u6566\uff09 \u4e9a\u592a\u5730\u533a\uff08\u9999\u6e2f\uff09 \u4e9a\u592a\u5730\u533a\uff08\u5b5f\u4e70\uff09 \u4e9a\u592a\u5730\u533a\uff08\u5927\u962a\uff09 \u4e9a\u592a\u5730\u533a\uff08\u9996\u5c14\uff09 \u4e9a\u592a\u5730\u533a\uff08\u65b0\u52a0\u5761\uff09 \u4e9a\u592a\u5730\u533a\uff08\u6089\u5c3c\uff09 \u4e9a\u592a\u5730\u533a\uff08\u4e1c\u4eac\uff09 \u52a0\u62ff\u5927\uff08\u4e2d\u90e8\uff09 \u6b27\u6d32\uff08\u6cd5\u5170\u514b\u798f\uff09 \u6b27\u6d32\uff08\u7231\u5c14\u5170\uff09 \u6b27\u6d32\uff08\u4f26\u6566\uff09 \u6b27\u6d32\uff08\u7c73\u5170\uff09 \u6b27\u6d32\uff08\u5df4\u9ece\uff09 \u6b27\u6d32\uff08\u65af\u5fb7\u54e5\u5c14\u6469\uff09 \u4e2d\u4e1c\uff08\u5df4\u6797\uff09 \u5357\u7f8e\u6d32\uff08\u5723\u4fdd\u7f57\uff09 \u4e2d\u56fd\uff08\u5317\u4eac\uff09\u7531 Sinnet \u8fd0\u8425\u7684\u533a\u57df \u4e2d\u56fd\uff08\u5b81\u590f\uff09\u7531 NWCD \u8fd0\u8425\u7684\u533a\u57df <p>\u8be5\u89e3\u51b3\u65b9\u6848\u63d0\u4f9b\u4e86\u6a21\u5757\u5316\u7ec4\u4ef6\uff0c\u7528\u4e8e\u652f\u6301\u4e0d\u540c\u7684\u6570\u636e\u7ba1\u9053\u67b6\u6784\u3002\u6570\u636e\u5904\u7406\u3001\u6570\u636e\u5efa\u6a21\u548c\u62a5\u8868\u6a21\u5757\u662f\u53ef\u9009\u7684\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u5982\u679c\u9700\u8981\uff0c\u60a8\u53ef\u4ee5\u521b\u5efa\u4e00\u4e2a\u6ca1\u6709\u6570\u636e\u5904\u7406\u3001\u6570\u636e\u5efa\u6a21\u548c\u62a5\u8868\u6a21\u5757\u7684\u6570\u636e\u7ba1\u9053\u3002</p> <p>\u7ba1\u9053\u6a21\u5757\u7684\u53ef\u7528\u6027</p> \u5730\u533a\u540d\u79f0 \u4f7f\u7528 MSK \u4f5c\u4e3a\u7f13\u51b2\u8fdb\u884c\u6570\u636e\u6444\u53d6 \u4f7f\u7528 KDS \u4f5c\u4e3a\u7f13\u51b2\u8fdb\u884c\u6570\u636e\u6444\u53d6 \u4f7f\u7528 S3 \u4f5c\u4e3a\u7f13\u51b2\u8fdb\u884c\u6570\u636e\u6444\u53d6 \u6570\u636e\u5904\u7406 \u4f7f\u7528 Redshift \u65e0\u670d\u52a1\u5668\u8fdb\u884c\u6570\u636e\u5efa\u6a21 \u4f7f\u7528\u9884\u7f6e Redshift \u8fdb\u884c\u6570\u636e\u5efa\u6a21 \u4f7f\u7528 QuickSight \u8fdb\u884c\u62a5\u544a \u7f8e\u56fd\u4e1c\u90e8\uff08\u5f17\u5409\u5c3c\u4e9a\u5317\u90e8\uff09 \u7f8e\u56fd\u4e1c\u90e8\uff08\u4fc4\u4ea5\u4fc4\u5dde\uff09 \u7f8e\u56fd\u897f\u90e8\uff08\u52a0\u5229\u798f\u5c3c\u4e9a\u5317\u90e8\uff09 \u7f8e\u56fd\u897f\u90e8\uff08\u4fc4\u52d2\u5188\uff09 \u975e\u6d32\uff08\u5f00\u666e\u6566\uff09 \u4e9a\u592a\u5730\u533a\uff08\u9999\u6e2f\uff09 \u4e9a\u592a\u5730\u533a\uff08\u5b5f\u4e70\uff09 \u4e9a\u592a\u533a\u57df\uff08\u5927\u962a\uff09 \u4e9a\u592a\u533a\u57df\uff08\u9996\u5c14\uff09 \u4e9a\u592a\u533a\u57df\uff08\u65b0\u52a0\u5761\uff09 \u4e9a\u592a\u533a\u57df\uff08\u6089\u5c3c\uff09 \u4e9a\u592a\u533a\u57df\uff08\u4e1c\u4eac\uff09 \u52a0\u62ff\u5927\u533a\u57df\uff08\u4e2d\u90e8\uff09 \u6b27\u6d32\u533a\u57df\uff08\u6cd5\u5170\u514b\u798f\uff09 \u6b27\u6d32\uff08\u7231\u5c14\u5170\uff09 \u6b27\u6d32\uff08\u4f26\u6566\uff09 \u6b27\u6d32\uff08\u7c73\u5170\uff09 \u6b27\u6d32\uff08\u5df4\u9ece\uff09 \u6b27\u6d32\uff08\u65af\u5fb7\u54e5\u5c14\u6469\uff09 \u4e2d\u4e1c\uff08\u5df4\u6797\uff09 \u5357\u7f8e\u6d32\uff08\u5723\u4fdd\u7f57\uff09 \u4e2d\u56fd\uff08\u5317\u4eac\uff09\u5730\u533a\uff0c\u7531 Sinnet \u8fd0\u8425* \u4e2d\u56fd\uff08\u5b81\u590f\uff09\u5730\u533a\uff0c\u7531 NWCD \u8fd0\u8425* <p>\u6ce8\u610f(*)</p> <p>AWS \u4e2d\u56fd\u533a\u57df\u4e0d\u652f\u6301\u4f7f\u7528 AWS \u5168\u7403\u52a0\u901f\u5668\u52a0\u901f\u6570\u636e\u6444\u5165\u7aef\u70b9\u3002</p>"},{"location":"plan-deployment/security/","title":"\u5b89\u5168\u6027","text":"<p>\u5f53\u60a8\u5728AWS\u57fa\u7840\u67b6\u6784\u4e0a\u6784\u5efa\u7cfb\u7edf\u65f6\uff0c\u5b89\u5168\u8d23\u4efb\u7531\u60a8\u548cAWS\u5171\u540c\u627f\u62c5\u3002\u8fd9\u79cd\u5171\u4eab\u8d23\u4efb\u6a21\u578b\u53ef\u4ee5\u51cf\u8f7b\u60a8\u7684\u8fd0\u8425\u8d1f\u62c5\uff0c\u56e0\u4e3aAWS\u8d1f\u8d23\u64cd\u4f5c\u3001\u7ba1\u7406\u548c\u63a7\u5236\u7ec4\u4ef6\uff0c\u5305\u62ec\u4e3b\u673a\u64cd\u4f5c\u7cfb\u7edf\u3001\u865a\u62df\u5316\u5c42\u4ee5\u53ca\u670d\u52a1\u6240\u5728\u8bbe\u65bd\u7684\u7269\u7406\u5b89\u5168\u3002 \u6709\u5173AWS\u5b89\u5168\u6027\u7684\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605AWS\u4e91\u5b89\u5168\u3002</p>"},{"location":"plan-deployment/security/#iam","title":"IAM\u89d2\u8272","text":"<p>AWS\u8eab\u4efd\u548c\u8bbf\u95ee\u7ba1\u7406\uff08IAM\uff09\u89d2\u8272\u5141\u8bb8\u5ba2\u6237\u4e3aAWS\u4e91\u4e0a\u7684\u670d\u52a1\u548c\u7528\u6237\u5206\u914d\u7ec6\u7c92\u5ea6\u7684\u8bbf\u95ee\u7b56\u7565\u548c\u6743\u9650\u3002 \u6b64\u89e3\u51b3\u65b9\u6848\u521b\u5efa\u4e86IAM\u89d2\u8272\uff0c\u6388\u4e88\u89e3\u51b3\u65b9\u6848\u7684AWS Lambda\u51fd\u6570\u3001Amazon API Gateway\u548cAmazon Cognito\u6216OpenID Connect\u8bbf\u95ee\u6743\u9650\uff0c\u7528\u4e8e\u521b\u5efa\u533a\u57df\u8d44\u6e90\u3002</p>"},{"location":"plan-deployment/security/#amazon-vpc","title":"Amazon VPC","text":"<p>\u6b64\u89e3\u51b3\u65b9\u6848\u53ef\u9009\u62e9\u5728\u60a8\u7684VPC\u4e2d\u90e8\u7f72Web\u63a7\u5236\u53f0\u3002 \u60a8\u53ef\u4ee5\u901a\u8fc7Bastion\u4e3b\u673a\u3001VPN\u6216Direct Connect\u6765\u9694\u79bb\u5bf9Web\u63a7\u5236\u53f0\u7684\u8bbf\u95ee\u3002 \u60a8\u53ef\u4ee5\u521b\u5efaVPC\u7ec8\u7aef\u8282\u70b9\uff0c\u4ee5\u4f7fAmazon VPC\u4e0eAWS\u670d\u52a1\u4e4b\u95f4\u7684\u6d41\u91cf\u4e0d\u79bb\u5f00Amazon\u7f51\u7edc\uff0c\u4ee5\u6ee1\u8db3\u5408\u89c4\u6027\u8981\u6c42\u3002</p>"},{"location":"plan-deployment/security/#_2","title":"\u5b89\u5168\u7ec4","text":"<p>\u6b64\u89e3\u51b3\u65b9\u6848\u521b\u5efa\u7684\u5b89\u5168\u7ec4\u65e8\u5728\u63a7\u5236\u548c\u9694\u79bb\u89e3\u51b3\u65b9\u6848\u7ec4\u4ef6\u4e4b\u95f4\u7684\u7f51\u7edc\u6d41\u91cf\u3002 \u6211\u4eec\u5efa\u8bae\u60a8\u5728\u90e8\u7f72\u5b8c\u6210\u540e\u6839\u636e\u9700\u8981\u5ba1\u67e5\u5b89\u5168\u7ec4\u5e76\u8fdb\u4e00\u6b65\u9650\u5236\u8bbf\u95ee\u3002</p>"},{"location":"plan-deployment/security/#amazon-cloudfront","title":"Amazon CloudFront","text":"<p>\u6b64\u89e3\u51b3\u65b9\u6848\u53ef\u9009\u62e9\u5728Amazon S3\u5b58\u50a8\u6876\u548cAmazon API Gateway\u4e2d\u6258\u7ba1Web\u63a7\u5236\u53f0\u3002 \u4e3a\u4e86\u51cf\u5c11\u5ef6\u8fdf\u5e76\u63d0\u9ad8\u5b89\u5168\u6027\uff0c\u6b64\u89e3\u51b3\u65b9\u6848\u5305\u62ec\u4e00\u4e2a\u5e26\u6709Origin Access Control\uff08OAC\uff09\u7684Amazon CloudFront\u5206\u53d1\uff0c OAC\u662f\u4e00\u4e2aCloudFront\u7528\u6237\uff0c\u63d0\u4f9b\u5bf9\u89e3\u51b3\u65b9\u6848\u7f51\u7ad9\u5b58\u50a8\u6876\u5185\u5bb9\u7684\u516c\u5171\u8bbf\u95ee\u6743\u9650\u3002 \u6709\u5173\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605Amazon CloudFront\u5f00\u53d1\u4eba\u5458\u6307\u5357\u4e2d\u7684\u9650\u5236\u5bf9Amazon S3\u6e90\u7684\u8bbf\u95ee\u6743\u9650\u3002</p>"},{"location":"resources/upload-ssl-certificate/","title":"\u5c06 SSL \u8bc1\u4e66\u4e0a\u4f20\u5230 IAM","text":"<p>\u901a\u8fc7\u8fd0\u884c\u7c7b\u4f3c\u4ee5\u4e0b\u7684 AWS CLI \u547d\u4ee4 <code>upload-server-certificate</code> \u6765\u4e0a\u4f20 SSL \u8bc1\u4e66\uff1a</p> <pre><code>aws iam upload-server-certificate --path /cloudfront/ \\\n--server-certificate-name YourCertificate \\\n--certificate-body file://Certificate.pem \\\n--certificate-chain file://CertificateChain.pem \\\n--private-key file://PrivateKey.pem\n</code></pre> <p>\u66ff\u6362\u6587\u4ef6\u540d\u548c YourCertificate \u4e3a\u60a8\u4e0a\u4f20\u6587\u4ef6\u548c\u8bc1\u4e66\u7684\u540d\u79f0\u3002 \u5728 API \u8bf7\u6c42\u4e2d\u7684 certificate-body\u3001certificate-chain \u548c private-key \u53c2\u6570\u4e2d\uff0c\u5fc5\u987b\u4f7f\u7528 <code>file://</code> \u524d\u7f00\u3002 \u5426\u5219\uff0c\u8bf7\u6c42\u5c06\u5931\u8d25\uff0c\u5e76\u663e\u793a <code>MalformedCertificate: Unknown</code> \u9519\u8bef\u6d88\u606f\u3002</p> <p>\u6ce8\u610f</p> <p>\u60a8\u5fc5\u987b\u4f7f\u7528 --path \u9009\u9879\u6307\u5b9a\u4e00\u4e2a\u8def\u5f84\u3002\u8be5\u8def\u5f84\u5fc5\u987b\u4ee5 /cloudfront \u5f00\u5934\uff0c\u5e76\u4e14\u5fc5\u987b\u5305\u542b\u5c3e\u90e8\u659c\u6760\uff08\u4f8b\u5982\uff0c/cloudfront/test/\uff09\u3002</p> <p>\u8bc1\u4e66\u4e0a\u4f20\u5b8c\u6210\u540e\uff0cAWS \u547d\u4ee4 <code>upload-server-certificate</code> \u5c06\u8fd4\u56de\u5df2\u4e0a\u4f20\u8bc1\u4e66\u7684\u5143\u6570\u636e\uff0c\u5305\u62ec\u8bc1\u4e66\u7684 Amazon \u8d44\u6e90\u540d\u79f0\uff08ARN\uff09\u3001\u53cb\u597d\u540d\u79f0\u3001\u6807\u8bc6\u7b26\uff08ID\uff09\u548c\u5230\u671f\u65e5\u671f\u3002</p> <p>\u8981\u67e5\u770b\u5df2\u4e0a\u4f20\u7684\u8bc1\u4e66\uff0c\u8bf7\u8fd0\u884c AWS CLI \u547d\u4ee4 <code>list-server-certificates</code>\uff1a</p> <pre><code>aws iam list-server-certificates\n</code></pre> <p>\u6709\u5173\u66f4\u591a\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605 \u4e0a\u4f20\u670d\u52a1\u5668\u8bc1\u4e66 \u81f3 IAM\u3002</p>"},{"location":"sdk-manual/","title":"\u6982\u8ff0","text":"<p>\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u70b9\u51fb\u6d41\u5206\u6790 \u63d0\u4f9b\u4e0d\u540c\u7684\u5ba2\u6237\u7aefSDK\uff0c\u53ef\u5e2e\u52a9\u60a8\u66f4\u8f7b\u677e\u5730\u5411\u89e3\u51b3\u65b9\u6848\u4e2d\u521b\u5efa\u7684\u6570\u636e\u7ba1\u9053\u62a5\u544a\u4e8b\u4ef6\u3002\u76ee\u524d\uff0c\u8be5\u89e3\u51b3\u65b9\u6848\u652f\u6301\u4ee5\u4e0b\u5e73\u53f0\uff1a</p> <ul> <li>Android</li> <li>Swift</li> <li>Web</li> <li>Flutter</li> <li>WeChat Miniprogram</li> </ul> <p>\u53e6\u5916\uff0c\u6211\u4eec\u8fd8\u63d0\u4f9b\u4e86 HTTP API\uff0c\u8ba9\u60a8\u53ef\u4ee5\u901a\u8fc7http\u8bf7\u6c42\u6765\u6536\u96c6\u5176\u4ed6\u5e73\u53f0\uff08\u4f8b\u5982\uff1a\u670d\u52a1\u7aef\uff09\u7684\u6570\u636e\u3002</p>"},{"location":"sdk-manual/#_1","title":"\u4e3b\u8981\u529f\u80fd\u548c\u4f18\u52bf","text":"<ul> <li>\u81ea\u52a8\u6570\u636e\u6536\u96c6\u3002Clickstream SDK\u63d0\u4f9b\u5185\u7f6e\u529f\u80fd\uff0c\u53ef\u81ea\u52a8\u6536\u96c6\u5e38\u89c1\u4e8b\u4ef6\uff0c\u4f8b\u5982\u5c4f\u5e55\u89c6\u56fe\u3001\u4f1a\u8bdd\u548c\u7528\u6237\u53c2\u4e0e\u5ea6\uff0c\u56e0\u6b64\u60a8\u53ea\u9700\u8981\u4e13\u6ce8\u4e8e\u8bb0\u5f55\u4e1a\u52a1\u7279\u5b9a\u4e8b\u4ef6\u3002</li> <li>\u6613\u4e8e\u4f7f\u7528\u3002Clickstream SDK\u63d0\u4f9b\u591a\u4e2aAPI\u548c\u914d\u7f6e\u9009\u9879\uff0c\u4ee5\u7b80\u5316\u4e8b\u4ef6\u62a5\u544a\u548c\u5c5e\u6027\u8bbe\u7f6e\u8fc7\u7a0b\u3002</li> <li>\u8de8\u5e73\u53f0\u5206\u6790\u3002Clickstream SDK\u5728\u4e8b\u4ef6\u6570\u636e\u7ed3\u6784\u3001\u5c5e\u6027\u9a8c\u8bc1\u89c4\u5219\u548c\u4e8b\u4ef6\u53d1\u9001\u673a\u5236\u4e0a\u4fdd\u6301\u4e00\u81f4\uff0c\u56e0\u6b64\u6570\u636e\u53ef\u4ee5\u4ee5\u76f8\u540c\u7684\u7ed3\u6784\u89c4\u8303\u5316\uff0c\u4ee5\u8fdb\u884c\u8de8\u5e73\u53f0\u5206\u6790\u3002</li> </ul> <p>\u6ce8\u610f</p> <p>\u6240\u6709Clickstream SDK\u5747\u5728GitHub\u4e0a\u4ee5Apache 2.0\u8bb8\u53ef\u8bc1\u5f00\u6e90\u3002\u5982\u679c\u9700\u8981\uff0c\u60a8\u53ef\u4ee5\u81ea\u5b9a\u4e49SDK\u3002</p>"},{"location":"sdk-manual/android/","title":"Clickstream Android SDK","text":""},{"location":"sdk-manual/android/#_1","title":"\u7b80\u4ecb","text":"<p>Clickstream Android SDK \u53ef\u4ee5\u5e2e\u52a9\u60a8\u8f7b\u677e\u5730\u4ece Android \u8bbe\u5907\u6536\u96c6\u548c\u53d1\u9001\u5e94\u7528\u5185\u4e8b\u4ef6\u5230\u60a8\u914d\u7f6e\u7684\u89e3\u51b3\u65b9\u6848\u6570\u636e\u7ba1\u9053\u3002</p> <p>\u8be5 SDK \u57fa\u4e8e Amplify for Android SDK \u6838\u5fc3\u5e93\u5f00\u53d1\uff0c\u5e76\u6839\u636e Amplify Android SDK \u63d2\u4ef6\u89c4\u8303\u8fdb\u884c\u4e86\u6269\u5c55\u3002\u6b64\u5916\uff0c\u8be5 SDK \u8fd8\u5177\u6709\u81ea\u52a8\u6536\u96c6\u5e38\u89c1\u7528\u6237\u4e8b\u4ef6\u548c\u5c5e\u6027\uff08\u4f8b\u5982\uff0c\u5c4f\u5e55\u67e5\u770b\u548c\u9996\u6b21\u6253\u5f00\uff09\u7684\u529f\u80fd\uff0c\u4ee5\u7b80\u5316\u7528\u6237\u7684\u6570\u636e\u6536\u96c6\u8fc7\u7a0b\u3002</p>"},{"location":"sdk-manual/android/#_2","title":"\u5e73\u53f0\u652f\u6301","text":"<p>Clickstream Android SDK \u652f\u6301 Android 4.1\uff08API \u7ea7\u522b 16\uff09\u53ca\u66f4\u9ad8\u7248\u672c\u3002</p>"},{"location":"sdk-manual/android/#sdk","title":"\u96c6\u6210 SDK","text":""},{"location":"sdk-manual/android/#1-sdk","title":"1. \u6dfb\u52a0 SDK","text":"<p>\u5728\u60a8 <code>app</code> \u6a21\u5757\u7684 <code>build.gradle</code> \u6587\u4ef6\u4e2d\u6dfb\u52a0 Clickstream SDK \u4f9d\u8d56\uff0c\u4f8b\u5982\uff1a</p> <pre><code>dependencies {\n    implementation 'software.aws.solution:clickstream:0.9.0'\n}\n</code></pre> <p>\u60a8\u53ef\u4ee5\u5c06SDK\u540c\u6b65\u4e3a\u6700\u65b0\u7248\u672c\uff1a</p>"},{"location":"sdk-manual/android/#2","title":"2. \u914d\u7f6e\u53c2\u6570","text":"<p>\u5728 <code>project/app/src/main</code> \u4e0b\u627e\u5230 <code>res</code> \u76ee\u5f55\uff0c\u5e76\u5728 <code>res</code> \u76ee\u5f55\u4e2d\u624b\u52a8\u521b\u5efa\u4e00\u4e2a raw \u6587\u4ef6\u5939\u3002</p> <p></p> <p>\u4ece Clickstream web\u63a7\u5236\u53f0\u4e0b\u8f7d\u60a8\u7684 <code>amplifyconfiguration.json</code> \u6587\u4ef6\uff0c\u5e76\u5c06\u5176\u7c98\u8d34\u5230 raw \u6587\u4ef6\u5939\u4e2d\uff0cJSON \u6587\u4ef6\u7684\u5185\u5bb9\u5982\u4e0b\u6240\u793a\uff1a</p> <pre><code>{\n  \"analytics\": {\n    \"plugins\": {\n      \"awsClickstreamPlugin\": {\n        \"appId\": \"your appId\",\n        \"endpoint\": \"https://example.com/collect\",\n        \"isCompressEvents\": true,\n        \"autoFlushEventsInterval\": 10000,\n        \"isTrackAppExceptionEvents\": false\n      }\n    }\n  }\n}\n</code></pre> <p>\u5728\u6587\u4ef6\u4e2d\uff0c\u60a8\u7684 <code>appId</code> \u548c <code>endpoint</code> \u5df2\u7ecf\u914d\u7f6e\u597d\u3002\u6bcf\u4e2a\u5c5e\u6027\u7684\u8bf4\u660e\u5982\u4e0b\uff1a</p> <ul> <li>appId\uff08\u5fc5\u9700\u7684\uff09\uff1a\u63a7\u5236\u5e73\u9762\u4e0a\u9879\u76ee\u7684\u5e94\u7528\u7a0b\u5e8f ID\u3002</li> <li>endpoint\uff08\u5fc5\u9700\u7684\uff09\uff1a\u5c06\u4e8b\u4ef6\u4e0a\u4f20\u5230 AWS \u670d\u52a1\u5668\u7684\u7aef\u70b9 URL\u3002</li> <li>isCompressEvents\uff1a\u4e0a\u4f20\u4e8b\u4ef6\u65f6\u662f\u5426\u538b\u7f29\u4e8b\u4ef6\u5185\u5bb9\uff0c\u9ed8\u8ba4\u503c\u4e3a <code>true</code>\u3002</li> <li>autoFlushEventsInterval\uff1a\u4e8b\u4ef6\u53d1\u9001\u95f4\u9694\uff0c\u9ed8\u8ba4\u503c\u4e3a <code>10s</code>\u3002</li> <li>isTrackAppExceptionEvents\uff1a\u662f\u5426\u81ea\u52a8\u8ddf\u8e2a\u5e94\u7528\u7a0b\u5e8f\u4e2d\u7684\u5f02\u5e38\u4e8b\u4ef6\uff0c\u9ed8\u8ba4\u503c\u4e3a <code>false</code>\u3002</li> </ul>"},{"location":"sdk-manual/android/#3-sdk","title":"3. \u521d\u59cb\u5316 SDK","text":"<p>\u5728\u5e94\u7528\u7a0b\u5e8f\u7684 <code>onCreate()</code> \u65b9\u6cd5\u4e2d\u521d\u59cb\u5316 SDK\u3002</p> <pre><code>import software.aws.solution.clickstream.ClickstreamAnalytics;\n\npublic void onCreate() {\n    super.onCreate();\n\n    try{\n        ClickstreamAnalytics.init(getApplicationContext());\n        Log.i(\"MyApp\", \"Initialized ClickstreamAnalytics\");\n    } catch (AmplifyException error){\n        Log.e(\"MyApp\", \"Could not initialize ClickstreamAnalytics\", error);\n    } \n}\n</code></pre>"},{"location":"sdk-manual/android/#4","title":"4. \u5f00\u59cb\u4f7f\u7528","text":""},{"location":"sdk-manual/android/#_3","title":"\u8bb0\u5f55\u4e8b\u4ef6","text":"<p>\u5728\u9700\u8981\u62a5\u544a\u4e8b\u4ef6\u7684\u4f4d\u7f6e\u6dfb\u52a0\u4ee5\u4e0b\u4ee3\u7801\u3002</p> <pre><code>import software.aws.solution.clickstream.ClickstreamAnalytics;\nimport software.aws.solution.clickstream.ClickstreamEvent;\n\n// \u8bb0\u5f55\u5e26\u6709\u81ea\u5b9a\u4e49\u53c2\u6570\u7684\u4e8b\u4ef6\nClickstreamEvent event = ClickstreamEvent.builder()\n    .name(\"button_click\")\n    .add(\"category\", \"shoes\")\n    .add(\"currency\", \"CNY\")\n    .add(\"value\", 279.9)\n    .build();\nClickstreamAnalytics.recordEvent(event);\n\n// \u76f4\u63a5\u8bb0\u5f55\u4e8b\u4ef6\u540d\nClickstreamAnalytics.recordEvent(\"button_click\");\n</code></pre>"},{"location":"sdk-manual/android/#_4","title":"\u6dfb\u52a0\u5168\u5c40\u5c5e\u6027","text":"<pre><code>import software.aws.solution.clickstream.ClickstreamAttribute;\nimport software.aws.solution.clickstream.ClickstreamAnalytics;\n\nClickstreamAttribute globalAttribute = ClickstreamAttribute.builder()\n    .add(\"channel\", \"Play Store\")\n    .add(\"level\", 5.1)\n    .add(\"class\", 6)\n    .add(\"isOpenNotification\", true)\n    .build();\nClickstreamAnalytics.addGlobalAttributes(globalAttribute);\n\n// \u5220\u9664\u5168\u5c40\u5c5e\u6027\nClickstreamAnalytics.deleteGlobalAttributes(\"level\");\n</code></pre> <p>\u8bf7\u5728SDK\u521d\u59cb\u5316\u5b8c\u6210\u540e\u6dfb\u52a0\u5168\u5c40\u5c5e\u6027\uff0c\u5168\u5c40\u5c5e\u6027\u5c06\u6dfb\u52a0\u5230\u6240\u6709\u4e8b\u4ef6\u7684\u5c5e\u6027\u5bf9\u8c61\u4e2d\u3002</p>"},{"location":"sdk-manual/android/#_5","title":"\u767b\u5f55\u548c\u767b\u51fa","text":"<pre><code>import software.aws.solution.clickstream.ClickstreamAnalytics;\n\n// \u5f53\u7528\u6237\u767b\u5f55\u6210\u529f\u65f6\u8bbe\u7f6e\nClickstreamAnalytics.setUserId(\"UserId\");\n\n// \u5f53\u7528\u6237\u9000\u51fa\u767b\u5f55\u65f6\u8bbe\u7f6e\nClickstreamAnalytics.setUserId(null);\n</code></pre>"},{"location":"sdk-manual/android/#_6","title":"\u6dfb\u52a0\u7528\u6237\u5c5e\u6027","text":"<pre><code>import software.aws.solution.clickstream.ClickstreamAnalytcs;\nimport software.aws.solution.clickstream.ClickstreamUserAttribute;\n\nClickstreamUserAttribute clickstreamUserAttribute = ClickstreamUserAttribute.builder()\n    .add(\"_user_age\", 21)\n    .add(\"_user_name\", \"carl\")\n    .build();\nClickstreamAnalytics.addUserAttributes(clickstreamUserAttribute);\n</code></pre> <p>\u5f53\u524d\u767b\u5f55\u7528\u6237\u7684\u5c5e\u6027\u4f1a\u8fdb\u884c\u7f13\u5b58\uff0c\u56e0\u6b64\u5728\u4e0b\u6b21App\u6253\u5f00\u65f6\u4e0d\u9700\u8981\u518d\u6b21\u8bbe\u7f6e\u6240\u6709\u7684\u7528\u6237\u5c5e\u6027\uff0c\u5f53\u7136\u60a8\u53ef\u4ee5\u4f7f\u7528\u76f8\u540c\u7684 api <code>ClickstreamAnalytics.addUserAttributes()</code> \u5728\u5f53\u7528\u6237\u5c5e\u6027\u6539\u53d8\u65f6\u6765\u66f4\u65b0\u5f53\u524d\u7528\u6237\u7684\u5c5e\u6027\u3002</p> <p>\u91cd\u8981\u63d0\u793a</p> <p>\u5982\u679c\u60a8\u7684\u5e94\u7528\u5df2\u7ecf\u4e0a\u7ebf\uff0c\u8fd9\u65f6\u5927\u90e8\u5206\u7528\u6237\u5df2\u7ecf\u767b\u5f55\u8fc7\uff0c\u5219\u7b2c\u4e00\u6b21\u63a5\u5165Clickstrema SDK\u65f6\u8bf7\u624b\u52a8\u8bbe\u7f6e\u4e00\u6b21\u7528\u6237\u5c5e\u6027\uff0c\u786e\u4fdd\u540e\u7eed\u4e8b\u4ef6\u90fd\u5e26\u6709\u7528\u6237\u5c5e\u6027\u3002</p>"},{"location":"sdk-manual/android/#_7","title":"\u5b9e\u65f6\u53d1\u9001\u4e8b\u4ef6","text":"<pre><code>// \u5b9e\u65f6\u53d1\u9001\u4e8b\u4ef6\nClickstreamAnalytics.flushEvent();\n</code></pre>"},{"location":"sdk-manual/android/#sdk_1","title":"\u7981\u7528 SDK","text":"<p>\u60a8\u53ef\u4ee5\u6839\u636e\u9700\u8981\u7981\u7528 SDK \u3002\u7981\u7528\u540e SDK \u5c06\u4e0d\u4f1a\u5904\u7406\u4efb\u4f55\u4e8b\u4ef6\u7684\u8bb0\u5f55\u548c\u53d1\u9001\uff0c\u540c\u65f6\u60a8\u53ef\u4ee5\u5728\u9700\u8981\u7ee7\u7eed\u8bb0\u5f55\u4e8b\u4ef6\u65f6\u518d\u6b21\u542f\u7528SDK\u3002</p> <p>\u8bf7\u6ce8\u610f\uff0c\u7981\u7528\u548c\u542f\u7528\u7684\u4ee3\u7801\u9700\u8981\u5728\u4e3b\u7ebf\u7a0b\u4e2d\u8fd0\u884c\u3002</p> <pre><code>import software.aws.solution.clickstream.ClickstreamAnalytics;\n\n// \u7981\u7528 SDK\nClickstreamAnalytics.disable();\n\n// \u542f\u7528 SDK\nClickstreamAnalytics.enable();\n</code></pre>"},{"location":"sdk-manual/android/#sdk_2","title":"SDK \u914d\u7f6e\u66f4\u65b0","text":"<p>\u5728\u521d\u59cb\u5316 SDK \u540e\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u4ee3\u7801\u5bf9\u5176\u8fdb\u884c\u81ea\u5b9a\u4e49\u914d\u7f6e\u3002</p> <p>\u91cd\u8981\u63d0\u793a</p> <p>\u6b64\u914d\u7f6e\u5c06\u8986\u76d6 <code>amplifyconfiguration.json</code> \u6587\u4ef6\u4e2d\u7684\u9ed8\u8ba4\u914d\u7f6e\u3002</p> <pre><code>import software.aws.solution.clickstream.ClickstreamAnalytics;\n\n// \u5728\u521d\u59cb\u5316\u540e\u66f4\u65b0SDK\u914d\u7f6e\nClickstreamAnalytics.getClickStreamConfiguration()\n        .withAppId(\"your appId\")\n        .withEndpoint(\"https://example.com/collect\")\n        .withAuthCookie(\"your authentication cookie\")\n        .withSendEventsInterval(10000)\n        .withSessionTimeoutDuration(1800000)\n        .withTrackScreenViewEvents(false)\n        .withTrackUserEngagementEvents(false)\n        .withTrackAppExceptionEvents(false)\n        .withLogEvents(true)\n        .withCustomDns(CustomOkhttpDns.getInstance())\n        .withCompressEvents(true);\n</code></pre> <p>\u4ee5\u4e0b\u662f\u6bcf\u4e2a\u65b9\u6cd5\u7684\u8bf4\u660e</p> \u65b9\u6cd5\u540d \u53c2\u6570\u7c7b\u578b \u662f\u5426\u5fc5\u9700 \u9ed8\u8ba4\u503c \u63cf\u8ff0 withAppId() String \u662f -- \u5728\u89e3\u51b3\u65b9\u6848\u63a7\u5236\u5e73\u9762\u4e2d\u60a8\u5e94\u7528\u7a0b\u5e8f\u7684 ID withEndpoint() String \u662f -- \u60a8\u5c06\u4e8b\u4ef6\u4e0a\u4f20\u5230 Clickstream \u6444\u53d6\u670d\u52a1\u5668\u7684URL\u8bf7\u6c42\u8def\u5f84 withAuthCookie() String \u5426 -- \u60a8\u7684 AWS \u5e94\u7528\u7a0b\u5e8f\u8d1f\u8f7d\u5747\u8861\u5668\u8eab\u4efd\u9a8c\u8bc1 cookie withSendEventsInterval() long \u5426 100000 \u4e8b\u4ef6\u53d1\u9001\u95f4\u9694\uff08\u6beb\u79d2\uff09 withSessionTimeoutDuration() long \u5426 1800000 \u4f1a\u8bdd\u8d85\u65f6\u7684\u65f6\u957f\uff08\u6beb\u79d2\uff09 withTrackScreenViewEvents() boolean \u5426 true \u662f\u5426\u81ea\u52a8\u8bb0\u5f55 screen view\uff08\u5c4f\u5e55\u6d4f\u89c8\uff09 \u4e8b\u4ef6 withTrackUserEngagementEvents() boolean \u5426 true \u662f\u5426\u81ea\u52a8\u8bb0\u5f55 user engagement\uff08\u7528\u6237\u53c2\u4e0e\uff09 \u4e8b\u4ef6 withTrackAppExceptionEvents() boolean \u5426 true \u662f\u5426\u81ea\u52a8\u8bb0\u5f55\u5e94\u7528\u5d29\u6e83\u4e8b\u4ef6 withLogEvents() boolean \u5426 true \u662f\u5426\u81ea\u52a8\u6253\u5370\u4e8b\u4ef6 json\u4ee5\u8c03\u8bd5\u4e8b\u4ef6, \u4e86\u89e3\u66f4\u591a withCustomDns() String \u5426 -- \u8bbe\u7f6e\u81ea\u5b9a\u4e49 DNS \u7684\u65b9\u6cd5, \u4e86\u89e3\u66f4\u591a withCompressEvents() boolean \u5426 true \u4e0a\u4f20\u4e8b\u4ef6\u65f6\u662f\u5426\u901a\u8fc7gzip\u538b\u7f29\u4e8b\u4ef6\u5185\u5bb9"},{"location":"sdk-manual/android/#_8","title":"\u8c03\u8bd5\u4e8b\u4ef6","text":"<p>\u60a8\u53ef\u4ee5\u6309\u7167\u4ee5\u4e0b\u6b65\u9aa4\u67e5\u770b\u4e8b\u4ef6\u539f\u59cb json \u5e76\u8c03\u8bd5\u60a8\u7684\u4e8b\u4ef6\u3002</p> <p>1.\u4f7f\u7528 <code>ClickstreamAnalytics.getClickStreamConfiguration()</code> \u5e76\u5728\u8c03\u8bd5\u6a21\u5f0f\u4e0b\u5c06 <code>withLogEvents()</code> \u65b9\u6cd5\u8bbe\u7f6e\u4e3a true\uff0c\u4f8b\u5982\uff1a</p> <pre><code>import software.aws.solution.clickstream.ClickstreamAnalytics;\n\n// \u5728\u8c03\u8bd5\u6a21\u5f0f\u4e0b\u6253\u5f00\u4e8b\u4ef6json\u5185\u5bb9\u7684\u6253\u5370\nClickstreamAnalytics.getClickStreamConfiguration()\n        .withLogEvents(BuildConfig.DEBUG);\n</code></pre> <p>2.\u96c6\u6210 SDK \u5e76\u901a\u8fc7 Android Studio \u542f\u52a8\u60a8\u7684\u5e94\u7528\u7a0b\u5e8f\uff0c\u7136\u540e\u6253\u5f00 Logcat \u7a97\u53e3\u3002</p> <p>3.\u5728filter\u4e2d\u8f93\u5165<code>EventRecorder</code>\uff0c\u60a8\u5c06\u770b\u5230Clickstream Android SDK\u8bb0\u5f55\u7684\u6240\u6709\u4e8b\u4ef6\u7684json\u5185\u5bb9\u3002</p>"},{"location":"sdk-manual/android/#dns","title":"\u914d\u7f6e\u81ea\u5b9a\u4e49DNS","text":"<pre><code>import software.aws.solution.clickstream.ClickstreamAnalytics;\n\n// \u914d\u7f6e\u81ea\u5b9a\u4e49DNS\nClickstreamAnalytics.getClickStreamConfiguration()\n        .withCustomDns(CustomOkhttpDns.getInstance());\n</code></pre> <p>\u5982\u679c\u4f60\u60f3\u4f7f\u7528\u81ea\u5b9a\u4e49DNS\u8fdb\u884c\u7f51\u7edc\u8bf7\u6c42\uff0c\u4f60\u53ef\u4ee5\u521b\u5efa\u4f60\u7684 <code>CustomOkhttpDns</code>\u5e76\u7ee7\u627f<code>okhttp3.Dns</code> \uff0c\u7136\u540e\u914d\u7f6e <code>.withCustomDns(CustomOkhttpDns.getInstance())</code> \u4f7f\u5176\u5de5\u4f5c\uff0c\u60a8\u53ef\u4ee5\u53c2\u8003 \u793a\u4f8b\u4ee3\u7801 \u3002</p>"},{"location":"sdk-manual/android/#_9","title":"\u6570\u636e\u683c\u5f0f\u5b9a\u4e49","text":""},{"location":"sdk-manual/android/#_10","title":"\u6570\u636e\u7c7b\u578b","text":"<p>Clickstream Android SDK \u652f\u6301\u4ee5\u4e0b\u6570\u636e\u7c7b\u578b\uff1a</p> \u6570\u636e\u7c7b\u578b \u8303\u56f4 \u793a\u4f8b int -2147483648 \uff5e 2147483647 12 long -9223372036854775808 \uff5e 9223372036854775807 26854775808 double 4.9E-324 \uff5e 1.7976931348623157E308 3.14 boolean true \u6216 false true String \u6700\u5927 1024 \u4e2a\u5b57\u7b26 \"Clickstream\""},{"location":"sdk-manual/android/#_11","title":"\u547d\u540d\u89c4\u5219","text":"<p>1. \u4e8b\u4ef6\u540d\u79f0\u548c\u5c5e\u6027\u540d\u79f0\u4e0d\u80fd\u4ee5\u6570\u5b57\u5f00\u5934\uff0c\u53ea\u80fd\u5305\u542b\u5927\u5199\u5b57\u6bcd\u3001\u5c0f\u5199\u5b57\u6bcd\u3001\u6570\u5b57\u548c\u4e0b\u5212\u7ebf\u3002\u5982\u679c\u4e8b\u4ef6\u540d\u79f0\u65e0\u6548\uff0c\u5c06\u629b\u51fa <code>IllegalArgumentException</code> \u3002\u5982\u679c\u5c5e\u6027\u540d\u79f0\u6216\u7528\u6237\u5c5e\u6027\u540d\u79f0\u65e0\u6548\uff0c\u5c06\u4e22\u5f03\u8be5\u5c5e\u6027\u5e76\u8bb0\u5f55\u9519\u8bef\u3002</p> <ol> <li> <p>\u4e0d\u8981\u5728\u4e8b\u4ef6\u540d\u79f0\u6216\u5c5e\u6027\u540d\u79f0\u524d\u4f7f\u7528 <code>_</code> \u4f5c\u4e3a\u524d\u7f00\uff0c\u56e0\u4e3a <code>_</code> \u524d\u7f00\u4fdd\u7559\u7ed9\u89e3\u51b3\u65b9\u6848\u4f7f\u7528\u3002</p> </li> <li> <p>\u4e8b\u4ef6\u540d\u79f0\u548c\u5c5e\u6027\u540d\u79f0\u533a\u5206\u5927\u5c0f\u5199\uff0c\u56e0\u6b64 <code>Add_to_cart</code> \u548c <code>add_to_cart</code> \u5c06\u88ab\u8bc6\u522b\u4e3a\u4e24\u4e2a\u4e0d\u540c\u7684\u4e8b\u4ef6\u540d\u79f0\u3002</p> </li> </ol>"},{"location":"sdk-manual/android/#_12","title":"\u4e8b\u4ef6\u548c\u5c5e\u6027\u9650\u5236","text":"<p>\u4e3a\u4e86\u63d0\u9ad8\u67e5\u8be2\u548c\u5206\u6790\u7684\u6548\u7387\uff0c\u6211\u4eec\u9700\u8981\u5bf9\u4e8b\u4ef6\u8fdb\u884c\u4ee5\u4e0b\u9650\u5236\uff1a</p> \u540d\u79f0 \u5efa\u8bae \u786c\u9650\u5236 \u8d85\u8fc7\u9650\u5236\u7684\u5904\u7406\u7b56\u7565 \u9519\u8bef\u7801 \u4e8b\u4ef6\u540d\u79f0\u5408\u89c4 -- -- \u4e22\u5f03\u8be5\u4e8b\u4ef6\uff0c\u6253\u5370\u65e5\u5fd7\u5e76\u8bb0\u5f55<code>_clickstream_error</code>\u4e8b\u4ef6 1001 \u4e8b\u4ef6\u540d\u79f0\u957f\u5ea6 25 \u4e2a\u5b57\u7b26\u4ee5\u4e0b 50 \u4e2a\u5b57\u7b26 \u4e22\u5f03\u8be5\u4e8b\u4ef6\uff0c\u6253\u5370\u65e5\u5fd7\u5e76\u8bb0\u5f55<code>_clickstream_error</code>\u4e8b\u4ef6 1002 \u4e8b\u4ef6\u5c5e\u6027\u540d\u79f0\u7684\u957f\u5ea6 25 \u4e2a\u5b57\u7b26\u4ee5\u4e0b 50 \u4e2a\u5b57\u7b26 \u4e22\u5f03\u8be5\u5c5e\u6027\u3001\u6253\u5370\u65e5\u5fd7\u5e76\u5728\u4e8b\u4ef6\u5c5e\u6027\u4e2d\u8bb0\u5f55\u9519\u8bef 2001 \u5c5e\u6027\u540d\u79f0\u5408\u89c4 -- -- \u4e22\u5f03\u8be5\u5c5e\u6027\u3001\u6253\u5370\u65e5\u5fd7\u5e76\u5728\u4e8b\u4ef6\u5c5e\u6027\u4e2d\u8bb0\u5f55\u9519\u8bef 2002 \u4e8b\u4ef6\u5c5e\u6027\u503c\u7684\u957f\u5ea6 \u5c11\u4e8e 100 \u4e2a\u5b57\u7b26 1024 \u4e2a\u5b57\u7b26 \u4e22\u5f03\u8be5\u5c5e\u6027\u3001\u6253\u5370\u65e5\u5fd7\u5e76\u5728\u4e8b\u4ef6\u5c5e\u6027\u4e2d\u8bb0\u5f55\u9519\u8bef 2003 \u6bcf\u4e2a\u4e8b\u4ef6\u7684\u4e8b\u4ef6\u5c5e\u6027 50 \u5c5e\u6027\u4ee5\u4e0b 500 evnet \u5c5e\u6027 \u4e22\u5f03\u8d85\u8fc7\u9650\u5236\u7684\u5c5e\u6027\u3001\u6253\u5370\u65e5\u5fd7\u5e76\u5728\u4e8b\u4ef6\u5c5e\u6027\u4e2d\u8bb0\u5f55\u9519\u8bef 2004 \u7528\u6237\u5c5e\u6027\u6570 25\u5c81\u4ee5\u4e0b\u5c5e\u6027 100\u4e2a\u7528\u6237\u5c5e\u6027 \u4e22\u5f03\u8d85\u8fc7\u9650\u5236\u7684\u5c5e\u6027\u3001\u6253\u5370\u65e5\u5fd7\u5e76\u8bb0\u5f55<code>_clickstream_error</code>\u4e8b\u4ef6 3001 \u7528\u6237\u5c5e\u6027\u540d\u79f0\u7684\u957f\u5ea6 25 \u4e2a\u5b57\u7b26\u4ee5\u4e0b 50 \u4e2a\u5b57\u7b26 \u4e22\u5f03\u8be5\u5c5e\u6027\u3001\u6253\u5370\u65e5\u5fd7\u5e76\u8bb0\u5f55<code>_clickstream_error</code>\u4e8b\u4ef6 3002 \u7528\u6237\u5c5e\u6027\u540d\u79f0\u5408\u89c4 -- -- \u4e22\u5f03\u8be5\u5c5e\u6027\u3001\u6253\u5370\u65e5\u5fd7\u5e76\u8bb0\u5f55<code>_clickstream_error</code>\u4e8b\u4ef6 3003 \u7528\u6237\u5c5e\u6027\u503c\u7684\u957f\u5ea6 50 \u4e2a\u5b57\u7b26\u4ee5\u4e0b 256 \u4e2a\u5b57\u7b26 \u4e22\u5f03\u8be5\u5c5e\u6027\u3001\u6253\u5370\u65e5\u5fd7\u5e76\u8bb0\u5f55<code>_clickstream_error</code>\u4e8b\u4ef6 3004 <p>\u91cd\u8981\u63d0\u793a</p> <ul> <li>\u5b57\u7b26\u9650\u5236\u5bf9\u4e8e\u5355\u5b57\u8282\u5b57\u7b26\u8bed\u8a00\uff08\u4f8b\u5982\u82f1\u8bed\uff09\u548c\u53cc\u5b57\u8282\u5b57\u7b26\u8bed\u8a00\uff08\u4f8b\u5982\u4e2d\u6587\uff09\u662f\u76f8\u540c\u7684\u3002</li> <li>\u4e8b\u4ef6\u5c5e\u6027\u6570\u5305\u62ec\u4e8b\u4ef6\u4e2d\u516c\u5171\u5c5e\u6027\u548c\u9884\u8bbe\u5c5e\u6027\u3002</li> <li>\u5982\u679c\u6dfb\u52a0\u4e86\u5177\u6709\u76f8\u540c\u540d\u79f0\u7684\u5c5e\u6027\u6216\u7528\u6237\u5c5e\u6027\u8d85\u8fc7\u4e24\u6b21\uff0c\u5c06\u4f7f\u7528\u6700\u65b0\u7684\u503c\u3002</li> <li>\u8d85\u8fc7\u9650\u5236\u7684\u6240\u6709\u9519\u8bef\u90fd\u4f1a\u5728\u4e8b\u4ef6attributes\u91cc\u8bb0\u5f55 <code>_error_code</code> \u548c <code>_error_message</code> \u8fd9\u4e24\u4e2a\u5b57\u6bb5\u3002</li> </ul>"},{"location":"sdk-manual/android/#_13","title":"\u9884\u7f6e\u4e8b\u4ef6","text":""},{"location":"sdk-manual/android/#_14","title":"\u81ea\u52a8\u6536\u96c6\u7684\u4e8b\u4ef6","text":"\u4e8b\u4ef6\u540d\u79f0 \u89e6\u53d1\u65f6\u673a \u4e8b\u4ef6\u5c5e\u6027 _first_open \u5f53\u7528\u6237\u5b89\u88c5\u540e\u7b2c\u4e00\u6b21\u542f\u52a8\u5e94\u7528\u7a0b\u5e8f\u65f6 _session_start \u5f53\u7528\u6237\u9996\u6b21\u6253\u5f00App\u6216\u7528\u6237\u5728 30 \u5206\u949f\u4e0d\u6d3b\u52a8\u540e\u8fd4\u56deApp\u65f6\uff0c\u4e86\u89e3\u66f4\u591a 1. _session_id 2. _session_start_timestamp _screen_view \u5f53\u65b0\u7684\u5c4f\u5e55\u6253\u5f00\u65f6\uff0c\u4e86\u89e3\u66f4\u591a 1. _screen_name 2. _screen_id 3. _screen_unique_id 4. _previous_screen_name5. _previous_screen_id6. _previous_screen_unique_id7. _entrances8. _previous_timestamp9. _engagement_time_msec _user_engagement \u5f53\u7528\u6237\u79bb\u5f00\u5f53\u524d\u5c4f\u5e55\u5e76\u4e14\u5c4f\u5e55\u5904\u4e8e\u7126\u70b9\u72b6\u6001\u81f3\u5c11\u4e00\u79d2\u949f\u65f6\uff0c\u4e86\u89e3\u66f4\u591a 1. _engagement_time_msec _app_start \u6bcf\u6b21App\u53d8\u4e3a\u53ef\u89c1\u65f6 1. _is_first_time(\u5f53\u5e94\u7528\u7a0b\u5e8f\u542f\u52a8\u540e\u7b2c\u4e00\u4e2a <code>_app_start</code> \u4e8b\u4ef6\u65f6\uff0c\u503c\u4e3a <code>true</code> ) _app_end \u6bcf\u6b21App\u53d8\u4e3a\u4e0d\u53ef\u89c1\u65f6 _profile_set \u5f53\u8c03\u7528 <code>addUserAttributes()</code> \u6216 <code>setUserId()</code> API \u65f6 _app_exception \u5f53\u5e94\u7528\u7a0b\u5e8f\u5d29\u6e83\u65f6 1. _exception_message2. _exception_stack _app_update \u5f53App\u66f4\u65b0\u5230\u65b0\u7248\u672c\u5e76\u518d\u6b21\u542f\u52a8\u65f6 1. _previous_app_version _os_update \u5f53Android\u64cd\u4f5c\u7cfb\u7edf\u66f4\u65b0\u5230\u65b0\u7248\u672c\u65f6 1. _previous_os_version _clickstream_error event_name \u65e0\u6548\u6216\u7528\u6237\u5c5e\u6027\u65e0\u6548\u65f6 1. _error_code 2. _error_message"},{"location":"sdk-manual/android/#_15","title":"\u4f1a\u8bdd\u5b9a\u4e49","text":"<p>\u5728 Clickstream Android SDK \u4e2d\uff0c\u6211\u4eec\u4e0d\u9650\u5236\u4f1a\u8bdd\u7684\u603b\u65f6\u95f4\uff0c\u53ea\u8981App\u4e0b\u6b21\u8fdb\u5165\u548c\u6700\u540e\u4e00\u6b21\u9000\u51fa\u4e4b\u95f4\u7684\u65f6\u95f4\u5728\u5141\u8bb8\u7684\u8d85\u65f6\u65f6\u95f4\u5185\uff0c\u6211\u4eec\u5c31\u8ba4\u4e3a\u5f53\u524d\u4f1a\u8bdd\u662f\u8fde\u7eed\u7684\u3002</p> <p>\u5f53App\u7b2c\u4e00\u6b21\u6253\u5f00\uff0c\u6216\u8005App\u6253\u5f00\u5230\u524d\u53f0\u5e76\u4e14\u6700\u540e\u4e00\u6b21\u9000\u51fa\u4e4b\u95f4\u7684\u65f6\u95f4\u8d85\u8fc7\u4e86 <code>session_time_out</code> \u7684\u65f6\u957f\u65f6\uff0c\u4f1a\u89e6\u53d1 <code>_session_start</code> \u4e8b\u4ef6\u3002 \u4ee5\u4e0b\u662f\u4e0esession\u76f8\u5173\u7684\u5c5e\u6027\u3002</p> <ol> <li>_session_id\uff1a\u6211\u4eec\u901a\u8fc7uniqueId\u7684\u540e8\u4e2a\u5b57\u7b26\u548c\u5f53\u524d\u6beb\u79d2\u503c\u62fc\u63a5\u6765\u8ba1\u7b97\u4f1a\u8bddid\uff0c\u4f8b\u5982: dc7a7a18-20230905-131926703</li> <li>_session_duration\uff1a \u6211\u4eec\u901a\u8fc7 <code>_session_start_timestamp</code> \u51cf\u53bb\u5f53\u524d\u4e8b\u4ef6\u521b\u5efa\u65f6\u95f4\u6233\u6765\u8ba1\u7b97\u4f1a\u8bdd\u6301\u7eed\u65f6\u95f4\uff0c\u8be5\u5c5e\u6027\u5c06\u6dfb\u52a0\u5230\u4f1a\u8bdd\u671f\u95f4\u7684\u6bcf\u4e2a\u4e8b\u4ef6\u4e2d\u3002</li> <li>_session_number\uff1a\u5f53\u524d\u8bbe\u5907\u7684\u4f1a\u8bdd\u6570\u7684\u81ea\u52a8\u9012\u589e\u503c\uff0c\u521d\u59cb\u503c\u4e3a1</li> <li>Session timeout duration\uff1a\u9ed8\u8ba4\u4e3a30\u5206\u949f\uff0c\u53ef\u4ee5\u901a\u8fc7\u66f4\u65b0\u914d\u7f6e api\u6765\u81ea\u5b9a\u4e49\u3002</li> </ol>"},{"location":"sdk-manual/android/#_16","title":"\u5c4f\u5e55\u6d4f\u89c8\u5b9a\u4e49","text":"<p>\u5728Clickstream Android SDK\u4e2d\uff0c\u6211\u4eec\u5c06 <code>_screen_view</code> \u5b9a\u4e49\u4e3a\u8bb0\u5f55\u7528\u6237\u5c4f\u5e55\u6d4f\u89c8\u8def\u5f84\u7684\u4e8b\u4ef6\uff0c\u5f53\u5c4f\u5e55\u5207\u6362\u5f00\u59cb\u65f6\uff0c\u6ee1\u8db3\u4ee5\u4e0b\u4efb\u4f55\u6761\u4ef6\u65f6\u5c06\u4f1a\u8bb0\u5f55 <code>_screen_view</code> \u4e8b\u4ef6\uff1a</p> <ol> <li>\u4e4b\u524d\u6ca1\u6709\u8bbe\u7f6e\u8fc7\u5c4f\u5e55\u3002</li> <li>\u65b0\u7684\u5c4f\u5e55\u7c7b\u540d\u4e0e\u4e4b\u524d\u7684\u5c4f\u5e55\u7c7b\u540d\u4e0d\u540c\u3002</li> <li>\u65b0\u7684\u5c4f\u5e55\u7684\u8def\u5f84\u4e0e\u4e4b\u524d\u7684\u5c4f\u5e55\u7684\u8def\u5f84\u4e0d\u540c\u3002</li> <li>\u65b0\u7684\u5c4f\u5e55\u552f\u4e00id\u4e0e\u4e4b\u524d\u7684\u5c4f\u5e55\u552f\u4e00id\u4e0d\u540c\u3002</li> </ol> <p>\u8be5\u4e8b\u4ef6\u76d1\u542cActivity\u7684 <code>onResume</code> \u751f\u547d\u5468\u671f\u65b9\u6cd5\u6765\u5224\u65ad\u5c4f\u5e55\u5207\u6362\u3002 \u4e3a\u4e86\u8ddf\u8e2a\u5c4f\u5e55\u6d4f\u89c8\u8def\u5f84\uff0c\u6211\u4eec\u4f7f\u7528 <code>_previous_screen_name</code> \u3001 <code>_previous_screen_id</code> \u548c <code>_previous_screen_unique_id</code> \u6765\u5173\u8054\u524d\u4e00\u4e2a\u5c4f\u5e55\u3002 \u6b64\u5916\uff0c\u5c4f\u5e55\u6d4f\u89c8\u4e8b\u4ef6\u4e2d\u8fd8\u6709\u4e00\u4e9b\u5176\u4ed6\u5c5e\u6027\u3002</p> <ol> <li>_screen_unique_id\uff1a\u6211\u4eec\u901a\u8fc7\u83b7\u53d6\u5f53\u524d\u5c4f\u5e55\u7684\u54c8\u5e0c\u503c\u6765\u8ba1\u7b97\u5c4f\u5e55\u552f\u4e00id\uff0c\u4f8b\u5982\uff1a\"126861252\"\u3002</li> <li>_entrances\uff1a \u4f1a\u8bdd\u4e2d\u7684\u7b2c\u4e00\u4e2a\u5c4f\u5e55\u6d4f\u89c8\u4e8b\u4ef6\u8be5\u503c\u4e3a 1\uff0c\u5176\u4ed6\u5219\u4e3a 0</li> <li>_previous_timestamp: \u4e0a\u4e00\u4e2a <code>screen_view</code> \u4e8b\u4ef6\u7684\u65f6\u95f4\u6233\u3002</li> <li>_engagement_time_msec: \u4e0a\u4e2a\u5c4f\u5e55\u6700\u540e\u4e00\u6b21\u7528\u6237\u53c2\u4e0e\u4e8b\u4ef6\u65f6\u957f\u7684\u6beb\u79d2\u6570\u3002</li> </ol>"},{"location":"sdk-manual/android/#_17","title":"\u7528\u6237\u53c2\u4e0e\u5ea6\u5b9a\u4e49","text":"<p>\u5728Clickstream Android SDK\u4e2d\uff0c\u6211\u4eec\u5c06 <code>_user_engagement</code> \u5b9a\u4e49\u4e3a\u8bb0\u5f55\u5c4f\u5e55\u6d4f\u89c8\u65f6\u95f4\u7684\u4e8b\u4ef6\uff0c\u5e76\u4e14\u4ec5\u5f53\u7528\u6237\u79bb\u5f00\u5c4f\u5e55\u5e76\u4e14\u5728\u8be5\u5c4f\u5e55\u505c\u7559\u81f3\u5c11\u4e00\u79d2\u65f6\u53d1\u9001\u3002</p> <p>\u6211\u4eec\u5b9a\u4e49\u7528\u6237\u5728\u4ee5\u4e0b\u60c5\u51b5\u4e0b\u79bb\u5f00\u5c4f\u5e55\u3002</p> <ol> <li>\u5f53\u7528\u6237\u5bfc\u822a\u5230\u53e6\u4e00\u4e2a\u5c4f\u5e55\u65f6\u3002</li> <li>\u7528\u6237\u5c06App\u9000\u5230\u540e\u53f0\u65f6\u3002</li> <li>\u7528\u6237\u9000\u51faApp\uff0c\u6216\u8005\u6740\u6b7bApp\u8fdb\u7a0b\u65f6\u3002</li> </ol> <p>engagement_time_msec\uff1a\u4ece\u5c4f\u5e55\u53ef\u89c1\u5230\u7528\u6237\u79bb\u5f00\u5c4f\u5e55\u7684\u6beb\u79d2\u6570\u3002</p>"},{"location":"sdk-manual/android/#_18","title":"\u4e8b\u4ef6\u5c5e\u6027","text":""},{"location":"sdk-manual/android/#_19","title":"\u4e8b\u4ef6\u7ed3\u6784\u793a\u4f8b","text":"<pre><code>{\n  \"hashCode\": \"80452b0\",\n  \"unique_id\": \"c84ad28d-16a8-4af4-a331-f34cdc7a7a18\",\n  \"event_type\": \"add_to_cart\",\n  \"event_id\": \"460daa08-0717-4385-8f2e-acb5bd019ee7\",\n  \"timestamp\": 1667877566697,\n  \"device_id\": \"f24bec657ea8eff7\",\n  \"platform\": \"Android\",\n  \"os_version\": \"10\",\n  \"make\": \"Samsung\",\n  \"brand\": \"Samsung\",\n  \"model\": \"TAS-AN00\",\n  \"locale\": \"zh_CN_#Hans\",\n  \"carrier\": \"CDMA\",\n  \"network_type\": \"Mobile\",\n  \"screen_height\": 2259,\n  \"screen_width\": 1080,\n  \"zone_offset\": 28800000,\n  \"system_language\": \"zh\",\n  \"country_code\": \"CN\",\n  \"sdk_version\": \"0.7.1\",\n  \"sdk_name\": \"aws-solution-clickstream-sdk\",\n  \"app_version\": \"1.0\",\n  \"app_package_name\": \"com.notepad.app\",\n  \"app_title\": \"Notepad\",\n  \"app_id\": \"notepad-4a929eb9\",\n  \"user\": {\n    \"_user_id\": {\n      \"value\": \"312121\",\n      \"set_timestamp\": 1667877566697\n    },\n    \"_user_name\": {\n      \"value\": \"carl\",\n      \"set_timestamp\": 1667877566697\n    },\n    \"_user_first_touch_timestamp\": {\n      \"value\": 1667877267895,\n      \"set_timestamp\": 1667877566697\n    }\n  },\n  \"attributes\": {\n    \"event_category\": \"recommended\",\n    \"currency\": \"CNY\",\n    \"_session_id\": \"dc7a7a18-20221108-031926703\",\n    \"_session_start_timestamp\": 1667877566703,\n    \"_session_duration\": 391809,\n    \"_session_number\": 1,\n    \"_screen_name\": \"ProductDetailActivity\",\n    \"_screen_unique_id\": \"126861252\"\n  }\n}\n</code></pre> <p>\u6240\u6709\u7528\u6237\u5c5e\u6027\u90fd\u5c06\u5b58\u50a8\u5728 <code>user</code> \u5bf9\u8c61\u4e2d\uff0c\u6240\u6709\u81ea\u5b9a\u4e49\u548c\u5168\u5c40\u5c5e\u6027\u90fd\u5b58\u50a8\u5728 <code>attributes</code> \u5bf9\u8c61\u4e2d\u3002</p>"},{"location":"sdk-manual/android/#_20","title":"\u516c\u5171\u5c5e\u6027","text":"\u5c5e\u6027\u540d \u6570\u636e\u7c7b\u578b \u63cf\u8ff0 \u5982\u4f55\u751f\u6210 \u7528\u9014\u548c\u76ee\u7684 hashCode String \u4e8b\u4ef6\u5bf9\u8c61\u7684\u54c8\u5e0c\u503c \u901a\u8fc7<code>Integer.toHexString(AnalyticsEvent.hashCode())</code>\u751f\u6210 \u533a\u5206\u4e0d\u540c\u7684\u4e8b\u4ef6 app_id String \u60a8\u5e94\u7528\u7684app id app id \u662f\u5728\u60a8\u5c06\u5e94\u7528\u7a0b\u5e8f\u6ce8\u518c\u5230\u6570\u636e\u7ba1\u9053\u65f6\u7531\u70b9\u51fb\u6d41\u89e3\u51b3\u65b9\u6848\u751f\u6210\u7684 \u533a\u5206\u4e0d\u540capp\u7684\u4e8b\u4ef6 unique_id String \u7528\u6237\u552f\u4e00id \u5728 SDK \u9996\u6b21\u521d\u59cb\u5316\u671f\u95f4\u7531  <code>UUID.randomUUID().toString()</code> \u751f\u6210\u5982\u679c\u7528\u6237\u6ce8\u9500\u7136\u540e\u767b\u5f55\u65b0\u7528\u6237\uff0c\u5b83\u5c06\u88ab\u66f4\u6539\u3002 \u5f53\u7528\u6237\u5728\u540c\u4e00\u8bbe\u5907\u4e2d\u91cd\u65b0\u767b\u5f55\u5230\u4ee5\u524d\u7684\u7528\u6237\u65f6\uff0cunique_id \u5c06\u91cd\u7f6e\u4e3a\u4e4b\u524d\u7684 unique_id \u552f\u4e00id\u6765\u6807\u8bc6\u4e0d\u540c\u7684\u7528\u6237\u5e76\u5173\u8054\u767b\u5f55\u548c\u672a\u767b\u5f55\u7684\u884c\u4e3a device_id String \u8bbe\u5907\u552f\u4e00id \u901a\u8fc7<code>Settings.System.getString(context.getContentResolver(), Settings.Secure.ANDROID_ID)</code>\u751f\u6210, \u5982\u679c Android ID \u4e3a null \u6216\u201c\u201d\uff0c\u6211\u4eec\u5c06\u4f7f\u7528 UUID \u4ee3\u66ff\u3002 \u533a\u5206\u4e0d\u540c\u8bbe\u5907 event_type String \u4e8b\u4ef6\u540d\u79f0 \u7531\u5f00\u53d1\u8005\u6216SDK\u8bbe\u7f6e \u533a\u5206\u4e0d\u540c\u7684\u4e8b\u4ef6\u540d\u79f0 event_id String \u4e8b\u4ef6\u7684\u552f\u4e00id \u4e8b\u4ef6\u521b\u5efa\u65f6\u901a\u8fc7<code>UUID.randomUUID().toString()</code>\u751f\u6210 \u533a\u5206\u6bcf\u4e2a\u4e8b\u4ef6 timestamp long \u4e8b\u4ef6\u521b\u5efa\u65f6\u95f4\u6233 \u4e8b\u4ef6\u521b\u5efa\u65f6\u7531<code>System.currentTimeMillis()</code>\u751f\u6210 \u6570\u636e\u5206\u6790\u9700\u8981 platform String \u5e73\u53f0\u540d\u79f0 Android \u8bbe\u5907\u59cb\u7ec8\u4e3a\"Android\" \u6570\u636e\u5206\u6790\u9700\u8981 os_version String \u7cfb\u7edf\u7248\u672c\u53f7 \u901a\u8fc7<code>Build.VERSION.RELEASE</code>\u751f\u6210 \u6570\u636e\u5206\u6790\u9700\u8981 make String \u8bbe\u5907\u5236\u9020\u5546 \u901a\u8fc7<code>Build.MANUFACTURER</code>\u751f\u6210 \u6570\u636e\u5206\u6790\u9700\u8981 brand String \u8bbe\u5907\u54c1\u724c \u901a\u8fc7<code>Build.BRAND</code>\u751f\u6210 \u6570\u636e\u5206\u6790\u9700\u8981 model String \u8bbe\u5907\u578b\u53f7 \u901a\u8fc7<code>Build.MODEL</code>\u751f\u6210 \u6570\u636e\u5206\u6790\u9700\u8981 carrier String \u8bbe\u5907\u7f51\u7edc\u8fd0\u8425\u5546\u540d\u79f0 \u901a\u8fc7<code>TelephonyManager.getNetworkOperatorName()</code>\u751f\u6210 \u9ed8\u8ba4\u4e3a\uff1a\"UNKNOWN\" \u6570\u636e\u5206\u6790\u9700\u8981 network_type String \u5f53\u524d\u8bbe\u5907\u7f51\u7edc\u7c7b\u578b \u201c\u79fb\u52a8\u201d\u3001\u201cWIFI\u201d\u6216\u201c\u672a\u77e5\u201d \u901a\u8fc7<code>android.netConnectivityManager</code>\u751f\u6210 \u6570\u636e\u5206\u6790\u9700\u8981 screen_height int \u5c4f\u5e55\u9ad8\u5ea6\uff08\u4ee5\u50cf\u7d20\u4e3a\u5355\u4f4d\uff09 \u901a\u8fc7<code>applicationContext.resources.displayMetrics.heightPixels</code>\u751f\u6210 \u6570\u636e\u5206\u6790\u9700\u8981 screen_width int \u5c4f\u5e55\u5bbd\u5ea6\uff08\u4ee5\u50cf\u7d20\u4e3a\u5355\u4f4d\uff09 \u901a\u8fc7<code>applicationContext.resources.displayMetrics.widthPixels</code>\u751f\u6210 \u6570\u636e\u5206\u6790\u9700\u8981 zone_offset int device \u4e0e GMT \u7684\u539f\u59cb\u504f\u79fb\u91cf\uff08\u4ee5\u6beb\u79d2\u4e3a\u5355\u4f4d\uff09 \u901a\u8fc7<code>java.util.Calendar.get(Calendar.ZONE_OFFSET)</code>\u751f\u6210 \u6570\u636e\u5206\u6790\u9700\u8981 locale String tJava \u865a\u62df\u673a\u6b64\u8bbe\u5907\u7684\u9ed8\u8ba4\u533a\u57df\u8bbe\u7f6e\uff08\u8bed\u8a00\u3001\u56fd\u5bb6/\u5730\u533a\u548c\u53d8\u4f53\uff09 \u901a\u8fc7\u201cjava.util.Local.getDefault()\u201d\u751f\u6210 \u6570\u636e\u5206\u6790\u9700\u8981 system_language String \u8bbe\u5907\u8bed\u8a00\u4ee3\u7801 \u901a\u8fc7<code>java.util.Local.getLanguage()</code>\u751f\u6210 \u9ed8\u8ba4\u4e3a\uff1a\"UNKNOWN\" \u6570\u636e\u5206\u6790\u9700\u8981 country_code String \u8be5\u8bbe\u5907\u7684\u56fd\u5bb6/\u5730\u533a\u4ee3\u7801 \u901a\u8fc7<code>java.util.Local.getCountry()</code>\u751f\u6210 \u9ed8\u8ba4\u4e3a\uff1a\"UNKNOWN\" \u6570\u636e\u5206\u6790\u9700\u8981 sdk_version String \u70b9\u51fb\u6d41SDK\u7248\u672c \u901a\u8fc7<code>BuildConfig.VERSION_NAME</code>\u751f\u6210 \u6570\u636e\u5206\u6790\u9700\u8981 sdk_name String Clickstream SDK \u540d\u79f0 \u59cb\u7ec8\u662f<code>aws-solution-clickstream-sdk</code> \u6570\u636e\u5206\u6790\u9700\u8981 app_version String \u7528\u6237\u5e94\u7528\u7a0b\u5e8f\u7684\u5e94\u7528\u7a0b\u5e8f\u7248\u672c\u540d\u79f0 \u901a\u8fc7<code>android.content.pm.PackageInfo.versionName</code>\u751f\u6210 \u9ed8\u8ba4\u4e3a\uff1a\"UNKNOWN\" \u6570\u636e\u5206\u6790\u9700\u8981 app_package_name String \u7528\u6237\u5e94\u7528\u7684\u5e94\u7528\u7a0b\u5e8f\u5305\u540d\u79f0 \u901a\u8fc7<code>android.content.pm.PackageInfo.packageName</code>\u751f\u6210 \u9ed8\u8ba4\u4e3a\uff1a\"UNKNOWN\" \u6570\u636e\u5206\u6790\u9700\u8981 app_title String \u5e94\u7528\u7a0b\u5e8f\u7684\u663e\u793a\u540d\u79f0 \u901a\u8fc7<code>android.content.pm.getApplicationLabel(appInfo)</code>\u751f\u6210 \u6570\u636e\u5206\u6790\u9700\u8981"},{"location":"sdk-manual/android/#_21","title":"\u7528\u6237\u5c5e\u6027","text":"\u5c5e\u6027\u540d\u79f0 \u63cf\u8ff0 _user_id \u4fdd\u7559\u7528\u4e8e\u5206\u914d\u7ed9\u5e94\u7528\u7a0b\u5e8f\u7684\u7528\u6237 ID _user_ltv_revenue \u4fdd\u7559\u7528\u4e8e\u7528\u6237\u7ec8\u8eab\u4ef7\u503c _user_ltv_currency \u4fdd\u7559\u7528\u4e8e\u7528\u6237\u7ec8\u8eab\u4ef7\u503c\u8d27\u5e01 _user_first_touch_timestamp \u7528\u6237\u9996\u6b21\u6253\u5f00\u5e94\u7528\u7a0b\u5e8f\u6216\u8bbf\u95ee\u7ad9\u70b9\u7684\u65f6\u95f4\uff08\u4ee5\u6beb\u79d2\u4e3a\u5355\u4f4d\uff09\uff0c\u5728 <code>user</code> \u5bf9\u8c61\u7684\u6bcf\u4e2a\u4e8b\u4ef6\u4e2d\u90fd\u5305\u542b\u6b64\u5c5e\u6027"},{"location":"sdk-manual/android/#_22","title":"\u4e8b\u4ef6\u5c5e\u6027","text":"\u5c5e\u6027\u540d\u79f0 \u6570\u636e\u7c7b\u578b \u662f\u5426\u81ea\u52a8\u91c7\u96c6 \u63cf\u8ff0 _traffic_source_medium String \u5426 \u4fdd\u7559\u7ed9\u6d41\u91cf\u5a92\u4ecb\uff0c\u4f7f\u7528\u6b64\u5c5e\u6027\u5b58\u50a8\u4e8b\u4ef6\u8bb0\u5f55\u65f6\u83b7\u53d6\u7528\u6237\u7684\u5a92\u4ecb\uff0c\u4f8b\u5982\uff1a\u7535\u5b50\u90ae\u4ef6\u3001\u4ed8\u8d39\u641c\u7d22\u3001\u641c\u7d22\u5f15\u64ce _traffic_source_name String \u5426 \u4fdd\u7559\u7ed9\u6d41\u91cf\u540d\u79f0\uff0c\u4f7f\u7528\u6b64\u5c5e\u6027\u5b58\u50a8\u4e8b\u4ef6\u8bb0\u5f55\u65f6\u83b7\u53d6\u7528\u6237\u7684\u8425\u9500\u6d3b\u52a8\uff0c\u4f8b\u5982\uff1a\u590f\u5b63\u4fc3\u9500 _traffic_source_source String \u5426 \u4fdd\u7559\u7ed9\u6d41\u91cf\u6765\u6e90\uff0c\u4e8b\u4ef6\u62a5\u544a\u65f6\u83b7\u53d6\u7684\u7f51\u7edc\u6765\u6e90\u7684\u540d\u79f0\uff0c\u4f8b\u5982\uff1aGoogle, Facebook, Bing, Baidu _channel String \u5426 \u9884\u7559\u5b89\u88c5\u6e90\uff0capp\u4e0b\u8f7d\u7684\u6e20\u9053 _session_id String \u662f \u5728\u6240\u6709\u4e8b\u4ef6\u4e2d\u6dfb\u52a0 _session_start_timestamp long \u662f \u5728\u6240\u6709\u4e8b\u4ef6\u4e2d\u6dfb\u52a0 _session_duration long \u662f \u5728\u6240\u6709\u4e8b\u4ef6\u4e2d\u6dfb\u52a0 _session_number int \u662f \u5728\u6240\u6709\u4e8b\u4ef6\u4e2d\u6dfb\u52a0 _screen_name String \u662f \u5728\u6240\u6709\u4e8b\u4ef6\u4e2d\u6dfb\u52a0 _screen_unique_id String \u662f \u5728\u6240\u6709\u4e8b\u4ef6\u4e2d\u6dfb\u52a0"},{"location":"sdk-manual/android/#sdk_3","title":"SDK\u66f4\u65b0\u65e5\u5fd7","text":"<p>\u53c2\u8003\uff1aGitHub \u66f4\u65b0\u65e5\u5fd7</p>"},{"location":"sdk-manual/android/#_23","title":"\u53c2\u8003\u94fe\u63a5","text":"<p>SDK \u6e90\u7801</p> <p>SDK \u95ee\u9898</p>"},{"location":"sdk-manual/flutter/","title":"Clickstream Flutter SDK","text":""},{"location":"sdk-manual/flutter/#_1","title":"\u7b80\u4ecb","text":"<p>Clickstream Flutter SDK \u53ef\u4ee5\u5e2e\u52a9\u60a8\u8f7b\u677e\u5730\u4ece\u79fb\u52a8\u8bbe\u5907\u6536\u96c6\u548c\u53d1\u9001\u5e94\u7528\u5185\u4e8b\u4ef6\u5230\u60a8\u914d\u7f6e\u7684\u89e3\u51b3\u65b9\u6848\u6570\u636e\u7ba1\u9053\u3002</p> <p>\u8be5 SDK \u57fa\u4e8e Clickstream Android SDK \u548c Clickstream Swift SDK \u6784\u5efa. \u56e0\u6b64, flutter SDK \u8fd8\u652f\u6301\u81ea\u52a8\u6536\u96c6\u5e38\u89c1\u7684\u7528\u6237\u4e8b\u4ef6\u548c\u5c5e\u6027\uff08\u4f8b\u5982\u4f1a\u8bdd\u5f00\u59cb\u3001\u9996\u6b21\u6253\u5f00\uff09\u3002 \u6b64\u5916\uff0c\u6211\u4eec\u8fd8\u6dfb\u52a0\u4e86\u6613\u4e8e\u4f7f\u7528\u7684 API \u6765\u7b80\u5316 Flutter \u5e94\u7528\u7a0b\u5e8f\u4e2d\u7684\u6570\u636e\u6536\u96c6\u3002</p>"},{"location":"sdk-manual/flutter/#_2","title":"\u5e73\u53f0\u652f\u6301","text":"<p>Android: 4.1\uff08API \u7ea7\u522b 16\uff09\u53ca\u66f4\u9ad8\u7248\u672c\u3002</p> <p>iOS: 13 \u53ca\u66f4\u9ad8\u7248\u672c\u3002</p>"},{"location":"sdk-manual/flutter/#sdk","title":"\u96c6\u6210 SDK","text":""},{"location":"sdk-manual/flutter/#1-sdk","title":"1. \u6dfb\u52a0 SDK","text":"<pre><code>flutter pub add clickstream_analytics\n</code></pre> <p>\u5b8c\u6210\u540e\uff0c\u4f7f\u7528\u5982\u4e0b\u547d\u4ee4\u91cd\u65b0\u6784\u5efa\u60a8\u7684 Flutter \u5e94\u7528\u7a0b\u5e8f\uff1a</p> <pre><code>flutter run\n</code></pre>"},{"location":"sdk-manual/flutter/#2-sdk","title":"2. \u521d\u59cb\u5316 SDK","text":"<p>\u4ece\u70b9\u51fb\u6d41\u89e3\u51b3\u65b9\u6848 Web \u63a7\u5236\u53f0\u590d\u5236\u914d\u7f6e\u4ee3\u7801\uff0c\u914d\u7f6e\u4ee3\u7801\u5e94\u5982\u4e0b\u6240\u793a\u3002 \u5728\u89e3\u51b3\u65b9\u6848\u63a7\u5236\u53f0\u4e2d\u5c06\u5e94\u7528\u7a0b\u5e8f\u6ce8\u518c\u5230\u6570\u636e\u7ba1\u9053\u540e\uff0c\u60a8\u8fd8\u53ef\u4ee5\u624b\u52a8\u6dfb\u52a0\u6b64\u4ee3\u7801\u6bb5\u5e76\u66ff\u6362 appId \u548c endpoint \u7684\u503c\u3002</p> <pre><code>import 'package:clickstream_analytics/clickstream_analytics.dart';\n\nfinal analytics = ClickstreamAnalytics();\nanalytics.init(\n  appId: \"your appId\",\n  endpoint: \"https://example.com/collect\"\n);\n</code></pre> <p>Important</p> <ul> <li>\u60a8\u7684 appId \u548c endpoint \u5df2\u5728\u5176\u4e2d\u8bbe\u7f6e\u597d\u4e86\u3002</li> <li>\u6211\u4eec\u53ea\u9700\u8981\u5728\u5e94\u7528\u7a0b\u5e8f\u542f\u52a8\u540e\u521d\u59cb\u5316\u4e00\u6b21SDK\u3002 \u5efa\u8bae\u60a8\u5728\u5e94\u7528\u7a0b\u5e8f\u7684\u4e3b\u51fd\u6570\u4e2d\u6267\u884c\u6b64\u64cd\u4f5c\u3002</li> <li>\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528 <code>bool result = await analytics.init()</code> \u6765\u83b7\u53d6\u521d\u59cb\u5316\u7ed3\u679c\u7684\u5e03\u5c14\u503c\u3002</li> </ul>"},{"location":"sdk-manual/flutter/#3","title":"3. \u5f00\u59cb\u4f7f\u7528","text":""},{"location":"sdk-manual/flutter/#_3","title":"\u8bb0\u5f55\u4e8b\u4ef6","text":"<p>\u5728\u9700\u8981\u8bb0\u5f55\u4e8b\u4ef6\u7684\u5730\u65b9\u6dfb\u52a0\u4ee5\u4e0b\u4ee3\u7801\u3002</p> <pre><code>import 'package:clickstream_analytics/clickstream_analytics.dart';\n\nfinal analytics = ClickstreamAnalytics();\n\n// \u8bb0\u5f55\u5e26\u5c5e\u6027\u7684\u4e8b\u4ef6\nanalytics.record(name: 'button_click', attributes: {\n  \"event_category\": \"shoes\",\n  \"currency\": \"CNY\",\n  \"value\": 279.9\n});\n\n// \u8bb0\u5f55\u53ea\u5e26\u6709\u4e8b\u4ef6\u540d\u7684\u4e8b\u4ef6\nanalytics.record(name: \"button_click\");\n</code></pre>"},{"location":"sdk-manual/flutter/#_4","title":"\u767b\u5f55\u548c\u767b\u51fa","text":"<pre><code>// \u5f53\u7528\u6237\u767b\u5f55\u6210\u529f\u540e\u8c03\u7528\nanalytics.setUserId(\"userId\");\n\n// \u5f53\u7528\u6237\u9000\u51fa\u767b\u5f55\u65f6\u8c03\u7528\nanalytics.setUserId(null);\n</code></pre>"},{"location":"sdk-manual/flutter/#_5","title":"\u6dfb\u52a0\u7528\u6237\u5c5e\u6027","text":"<pre><code>analytics.setUserAttributes({\n  \"userName\":\"carl\",\n  \"userAge\": 22\n});\n</code></pre> <p>\u5f53\u524d\u767b\u5f55\u7528\u6237\u7684\u5c5e\u6027\u4f1a\u8fdb\u884c\u7f13\u5b58\uff0c\u56e0\u6b64\u5728\u4e0b\u6b21App\u6253\u5f00\u65f6\u4e0d\u9700\u8981\u518d\u6b21\u8bbe\u7f6e\u6240\u6709\u7684\u7528\u6237\u5c5e\u6027\uff0c\u5f53\u7136\u60a8\u53ef\u4ee5\u4f7f\u7528\u76f8\u540c\u7684 api <code>analytics.setUserAttributes()</code> \u5728\u5f53\u7528\u6237\u5c5e\u6027\u6539\u53d8\u65f6\u6765\u66f4\u65b0\u5f53\u524d\u7528\u6237\u7684\u5c5e\u6027\u3002</p>"},{"location":"sdk-manual/flutter/#_6","title":"\u6dfb\u52a0\u5168\u5c40\u5c5e\u6027","text":"<pre><code>analytics.addGlobalAttributes({\n  \"_traffic_source_medium\": \"Search engine\",\n  \"_traffic_source_name\": \"Summer promotion\",\n  \"level\": 10\n});\n// \u5220\u9664\u5168\u5c40\u5c5e\u6027\nanalytics.deleteGlobalAttributes([\"level\"]);\n</code></pre> <p>\u5efa\u8bae\u6bcf\u6b21 SDK \u521d\u59cb\u5316\u540e\u8bbe\u7f6e\u5168\u5c40\u5c5e\u6027\uff0c\u5168\u5c40\u5c5e\u6027\u5c06\u5305\u542b\u5728\u8bbe\u7f6e\u540e\u4ea7\u751f\u7684\u6240\u6709\u4e8b\u4ef6\u4e2d\u3002</p>"},{"location":"sdk-manual/flutter/#_7","title":"\u5176\u4ed6\u914d\u7f6e\u9879","text":"<p>\u9664\u4e86\u5fc5\u9700\u7684 <code>appId</code> \u548c <code>endpoint</code> \u4e4b\u5916\uff0c\u60a8\u8fd8\u53ef\u4ee5\u914d\u7f6e\u5176\u4ed6\u53c2\u6570\u4ee5\u6ee1\u8db3\u66f4\u591a\u5b9a\u5236\u5316\u7684\u4f7f\u7528\uff1a</p> <pre><code>final analytics = ClickstreamAnalytics();\nanalytics.init(\n  appId: \"your appId\",\n  endpoint: \"https://example.com/collect\",\n  isLogEvents: false,\n  isCompressEvents: false,\n  sendEventsInterval: 10000,\n  isTrackScreenViewEvents: true,\n  isTrackUserEngagementEvents: true,\n  isTrackAppExceptionEvents: false,\n  authCookie: \"your auth cookie\",\n  sessionTimeoutDuration: 1800000\n);\n</code></pre> <p>\u4ee5\u4e0b\u662f\u6bcf\u4e2a\u53c2\u6570\u7684\u8bf4\u660e</p> \u53c2\u6570\u540d\u79f0 \u662f\u5426\u5fc5\u9700 \u9ed8\u8ba4\u503c \u89e3\u91ca appId \u662f -- \u5728\u89e3\u51b3\u65b9\u6848\u63a7\u5236\u5e73\u9762\u4e2d\u60a8\u5e94\u7528\u7a0b\u5e8f\u7684 ID endpoint \u662f -- \u60a8\u5c06\u4e8b\u4ef6\u4e0a\u4f20\u5230 Clickstream \u6444\u53d6\u670d\u52a1\u5668\u7684 URL \u8bf7\u6c42\u8def\u5f84 isLogEvents \u5426 false \u662f\u5426\u81ea\u52a8\u6253\u5370\u4e8b\u4ef6 JSON \u4ee5\u8c03\u8bd5\u4e8b\u4ef6\uff0c\u4e86\u89e3\u66f4\u591a isCompressEvents \u5426 true \u4e0a\u4f20\u4e8b\u4ef6\u65f6\u662f\u5426\u901a\u8fc7gzip\u538b\u7f29\u4e8b\u4ef6\u5185\u5bb9 sendEventsInterval \u5426 10000 \u4e8b\u4ef6\u53d1\u9001\u95f4\u9694\uff08\u6beb\u79d2\uff09 isTrackScreenViewEvents \u5426 true \u662f\u5426\u81ea\u52a8\u8bb0\u5f55 screen view\uff08\u5c4f\u5e55\u6d4f\u89c8\uff09 \u4e8b\u4ef6 isTrackUserEngagementEvents \u5426 true \u662f\u5426\u81ea\u52a8\u8bb0\u5f55 user engagement\uff08\u7528\u6237\u53c2\u4e0e\uff09 \u4e8b\u4ef6 isTrackAppExceptionEvents \u5426 false \u662f\u5426\u81ea\u52a8\u8bb0\u5f55\u5e94\u7528\u5d29\u6e83\u4e8b\u4ef6 authCookie \u5426 -- \u60a8\u7684 AWS \u5e94\u7528\u7a0b\u5e8f\u8d1f\u8f7d\u5747\u8861\u5668\u8eab\u4efd\u9a8c\u8bc1 cookie sessionTimeoutDuration \u5426 1800000 \u4f1a\u8bdd\u8d85\u65f6\u7684\u65f6\u957f\uff08\u6beb\u79d2\uff09"},{"location":"sdk-manual/flutter/#_8","title":"\u66f4\u65b0\u914d\u7f6e","text":"<p>\u60a8\u53ef\u4ee5\u5728\u521d\u59cb\u5316 SDK \u540e\u66f4\u65b0\u9ed8\u8ba4\u914d\u7f6e\uff0c\u4ee5\u4e0b\u662f\u60a8\u53ef\u4ee5\u66f4\u65b0\u7684\u914d\u7f6e\u53c2\u6570\u3002</p> <pre><code>final analytics = ClickstreamAnalytics();\nanalytics.updateConfigure(\n    appId: \"your appId\",\n    endpoint: \"https://example.com/collect\",\n    isLogEvents: true,\n    isCompressEvents: false,\n    isTrackScreenViewEvents: false\n    isTrackUserEngagementEvents: false,\n    isTrackAppExceptionEvents: false,\n    sessionTimeoutDuration: 100000,\n    authCookie: \"test cookie\");\n</code></pre>"},{"location":"sdk-manual/flutter/#_9","title":"\u5b9e\u65f6\u53d1\u9001\u4e8b\u4ef6","text":"<pre><code>final analytics = ClickstreamAnalytics();\nanalytics.flushEvents();\n</code></pre>"},{"location":"sdk-manual/flutter/#sdk_1","title":"\u7981\u7528 SDK","text":"<p>\u60a8\u53ef\u4ee5\u6839\u636e\u9700\u8981\u7981\u7528\u8be5SDK\u3002\u7981\u7528 SDK \u540e\uff0cSDK \u5c06\u4e0d\u4f1a\u5904\u7406\u65e5\u5fd7\u8bb0\u5f55\u548c\u53d1\u9001\u4efb\u4f55\u4e8b\u4ef6\u3002\u5f53\u7136\uff0c\u5f53\u60a8\u9700\u8981\u7ee7\u7eed\u8bb0\u5f55\u4e8b\u4ef6\u65f6\uff0c\u60a8\u53ef\u4ee5\u518d\u6b21\u542f\u7528 SDK\u3002</p> <pre><code>final analytics = ClickstreamAnalytics();\n\n// \u7981\u7528 SDK\nanalytics.disable();\n\n// \u542f\u7528 SDK\nanalytics.enable();\n</code></pre>"},{"location":"sdk-manual/flutter/#_10","title":"\u8c03\u8bd5\u4e8b\u4ef6","text":"<p>\u60a8\u53ef\u4ee5\u6309\u7167\u4ee5\u4e0b\u6b65\u9aa4\u67e5\u770b\u4e8b\u4ef6\u539f\u59cb JSON \u5e76\u8c03\u8bd5\u60a8\u7684\u4e8b\u4ef6\u3002</p> <ol> <li> <p>\u4f7f\u7528 <code>analytics.updateConfigure()</code> \u5e76\u5728\u8c03\u8bd5\u6a21\u5f0f\u4e0b\u5c06 <code>isLogEvents</code> \u8bbe\u7f6e\u6210\u4e3a true, \u4f8b\u5982:     <pre><code>// \u5728\u8c03\u8bd5\u6a21\u5f0f\u4e0b\u6253\u5f00\u4e8b\u4ef6 JSON \u5185\u5bb9\u7684\u6253\u5370\nanalytics.updateConfigure(isLogEvents: true);\n</code></pre></p> </li> <li> <p>\u96c6\u6210 SDK \u5e76\u542f\u52a8\u60a8\u7684\u5e94\u7528\u7a0b\u5e8f\u3002</p> <ol> <li>\u5bf9\u4e8eAndroid\u5e94\u7528\u7a0b\u5e8f\u65e5\u5fd7\uff0c\u6211\u4eec\u53ef\u4ee5\u76f4\u63a5\u5728\u7ec8\u7aef\u7a97\u53e3\u4e2d\u770b\u5230\u3002 \u60a8\u8fd8\u53ef\u4ee5\u4f7f\u7528 Android Studio Logcat \u7a97\u53e3\u4e2d\u7684\u8fc7\u6ee4\u5668\u6765\u67e5\u770b\u65e5\u5fd7\u3002</li> <li>\u5bf9\u4e8eiOS\u5e94\u7528\u7a0b\u5e8f\u65e5\u5fd7\uff0c\u6211\u4eec\u9700\u8981\u901a\u8fc7 Xcode \u542f\u52a8 App \u540e\u5e76\u6253\u5f00\u65e5\u5fd7\u9762\u677f\u6765\u67e5\u770b\u5b83\u3002</li> </ol> </li> <li> <p>\u5728 filter \u4e2d\u8f93\u5165 <code>EventRecorder</code>\uff0c\u60a8\u5c06\u770b\u5230 Clickstream Flutter SDK \u8bb0\u5f55\u7684\u6240\u6709\u4e8b\u4ef6\u7684 JSON \u5185\u5bb9\u3002</p> </li> </ol>"},{"location":"sdk-manual/flutter/#_11","title":"\u6570\u636e\u683c\u5f0f\u5b9a\u4e49","text":""},{"location":"sdk-manual/flutter/#_12","title":"\u6570\u636e\u7c7b\u578b","text":"<p>Clickstream Flutter SDK \u652f\u6301\u4ee5\u4e0b\u6570\u636e\u7c7b\u578b\uff1a</p> \u6570\u636e\u7c7b\u578b \u8303\u56f4 \u793a\u4f8b int -9223372036854775808 \uff5e 9223372036854775807 12 double 5e-324 ~ 1.79e+308 3.14 bool true, false true String max 1024 characters \"Clickstream\""},{"location":"sdk-manual/flutter/#_13","title":"\u547d\u540d\u89c4\u5219","text":"<ol> <li> <p>\u4e8b\u4ef6\u540d\u79f0\u548c\u5c5e\u6027\u540d\u79f0\u4e0d\u80fd\u4ee5\u6570\u5b57\u5f00\u5934\uff0c\u53ea\u80fd\u5305\u542b\u5927\u5199\u5b57\u6bcd\u3001\u5c0f\u5199\u5b57\u6bcd\u3001\u6570\u5b57\u548c\u4e0b\u5212\u7ebf\uff0c\u5982\u679c\u5c5e\u6027\u540d\u79f0\u6216\u7528\u6237\u5c5e\u6027\u540d\u79f0\u65e0\u6548\uff0c\u5c06\u4e22\u5f03\u8be5\u5c5e\u6027\u5e76\u8bb0\u5f55\u9519\u8bef\u3002</p> </li> <li> <p>\u4e0d\u8981\u5728\u4e8b\u4ef6\u540d\u79f0\u6216\u5c5e\u6027\u540d\u79f0\u524d\u4f7f\u7528 <code>_</code> \u4f5c\u4e3a\u524d\u7f00\uff0c\u56e0\u4e3a <code>_</code> \u524d\u7f00\u4fdd\u7559\u7ed9\u89e3\u51b3\u65b9\u6848\u4f7f\u7528\u3002</p> </li> <li> <p>\u4e8b\u4ef6\u540d\u79f0\u548c\u5c5e\u6027\u540d\u79f0\u533a\u5206\u5927\u5c0f\u5199\uff0c\u56e0\u6b64 <code>Add_to_cart</code> \u548c <code>add_to_cart</code> \u5c06\u88ab\u8bc6\u522b\u4e3a\u4e24\u4e2a\u4e0d\u540c\u7684\u4e8b\u4ef6\u540d\u79f0\u3002</p> </li> </ol>"},{"location":"sdk-manual/flutter/#_14","title":"\u4e8b\u4ef6\u548c\u5c5e\u6027\u9650\u5236","text":"<p>\u4e3a\u4e86\u63d0\u9ad8\u67e5\u8be2\u548c\u5206\u6790\u7684\u6548\u7387\uff0c\u6211\u4eec\u9700\u8981\u5bf9\u4e8b\u4ef6\u8fdb\u884c\u4ee5\u4e0b\u9650\u5236\uff1a</p> \u540d\u79f0 \u5efa\u8bae \u786c\u9650\u5236 \u8d85\u8fc7\u9650\u5236\u7684\u5904\u7406\u7b56\u7565 \u9519\u8bef\u7801 \u4e8b\u4ef6\u540d\u79f0\u5408\u89c4 -- -- \u4e22\u5f03\u8be5\u4e8b\u4ef6\uff0c\u6253\u5370\u65e5\u5fd7\u5e76\u8bb0\u5f55<code>_clickstream_error</code>\u4e8b\u4ef6 1001 \u4e8b\u4ef6\u540d\u79f0\u957f\u5ea6 25 \u4e2a\u5b57\u7b26\u4ee5\u4e0b 50 \u4e2a\u5b57\u7b26 \u4e22\u5f03\u8be5\u4e8b\u4ef6\uff0c\u6253\u5370\u65e5\u5fd7\u5e76\u8bb0\u5f55<code>_clickstream_error</code>\u4e8b\u4ef6 1002 \u4e8b\u4ef6\u5c5e\u6027\u540d\u79f0\u7684\u957f\u5ea6 25 \u4e2a\u5b57\u7b26\u4ee5\u4e0b 50 \u4e2a\u5b57\u7b26 \u4e22\u5f03\u8be5\u5c5e\u6027\u3001\u6253\u5370\u65e5\u5fd7\u5e76\u5728\u4e8b\u4ef6\u5c5e\u6027\u4e2d\u8bb0\u5f55\u9519\u8bef 2001 \u5c5e\u6027\u540d\u79f0\u5408\u89c4 -- -- \u4e22\u5f03\u8be5\u5c5e\u6027\u3001\u6253\u5370\u65e5\u5fd7\u5e76\u5728\u4e8b\u4ef6\u5c5e\u6027\u4e2d\u8bb0\u5f55\u9519\u8bef 2002 \u4e8b\u4ef6\u5c5e\u6027\u503c\u7684\u957f\u5ea6 \u5c11\u4e8e 100 \u4e2a\u5b57\u7b26 1024 \u4e2a\u5b57\u7b26 \u4e22\u5f03\u8be5\u5c5e\u6027\u3001\u6253\u5370\u65e5\u5fd7\u5e76\u5728\u4e8b\u4ef6\u5c5e\u6027\u4e2d\u8bb0\u5f55\u9519\u8bef 2003 \u6bcf\u4e2a\u4e8b\u4ef6\u7684\u4e8b\u4ef6\u5c5e\u6027 50 \u5c5e\u6027\u4ee5\u4e0b 500 event \u5c5e\u6027 \u4e22\u5f03\u8d85\u8fc7\u9650\u5236\u7684\u5c5e\u6027\u3001\u6253\u5370\u65e5\u5fd7\u5e76\u5728\u4e8b\u4ef6\u5c5e\u6027\u4e2d\u8bb0\u5f55\u9519\u8bef 2004 \u7528\u6237\u5c5e\u6027\u6570 25\u5c81\u4ee5\u4e0b\u5c5e\u6027 100\u4e2a\u7528\u6237\u5c5e\u6027 \u4e22\u5f03\u8d85\u8fc7\u9650\u5236\u7684\u5c5e\u6027\u3001\u6253\u5370\u65e5\u5fd7\u5e76\u8bb0\u5f55<code>_clickstream_error</code>\u4e8b\u4ef6 3001 \u7528\u6237\u5c5e\u6027\u540d\u79f0\u7684\u957f\u5ea6 25 \u4e2a\u5b57\u7b26\u4ee5\u4e0b 50 \u4e2a\u5b57\u7b26 \u4e22\u5f03\u8be5\u5c5e\u6027\u3001\u6253\u5370\u65e5\u5fd7\u5e76\u8bb0\u5f55<code>_clickstream_error</code>\u4e8b\u4ef6 3002 \u7528\u6237\u5c5e\u6027\u540d\u79f0\u5408\u89c4 -- -- \u4e22\u5f03\u8be5\u5c5e\u6027\u3001\u6253\u5370\u65e5\u5fd7\u5e76\u8bb0\u5f55<code>_clickstream_error</code>\u4e8b\u4ef6 3003 \u7528\u6237\u5c5e\u6027\u503c\u7684\u957f\u5ea6 50 \u4e2a\u5b57\u7b26\u4ee5\u4e0b 256 \u4e2a\u5b57\u7b26 \u4e22\u5f03\u8be5\u5c5e\u6027\u3001\u6253\u5370\u65e5\u5fd7\u5e76\u8bb0\u5f55<code>_clickstream_error</code>\u4e8b\u4ef6 3004 <p>\u91cd\u8981\u63d0\u793a</p> <ul> <li>\u5b57\u7b26\u9650\u5236\u5bf9\u4e8e\u5355\u5b57\u8282\u5b57\u7b26\u8bed\u8a00\uff08\u4f8b\u5982\u82f1\u8bed\uff09\u548c\u53cc\u5b57\u8282\u5b57\u7b26\u8bed\u8a00\uff08\u4f8b\u5982\u4e2d\u6587\uff09\u662f\u76f8\u540c\u7684\u3002</li> <li>\u4e8b\u4ef6\u5c5e\u6027\u6570\u5305\u62ec\u4e8b\u4ef6\u4e2d\u516c\u5171\u5c5e\u6027\u548c\u9884\u8bbe\u5c5e\u6027\u3002</li> <li>\u5982\u679c\u6dfb\u52a0\u4e86\u5177\u6709\u76f8\u540c\u540d\u79f0\u7684\u5c5e\u6027\u6216\u7528\u6237\u5c5e\u6027\u8d85\u8fc7\u4e24\u6b21\uff0c\u5c06\u4f7f\u7528\u6700\u65b0\u7684\u503c\u3002</li> <li>\u8d85\u8fc7\u9650\u5236\u7684\u6240\u6709\u9519\u8bef\u90fd\u4f1a\u5728\u4e8b\u4ef6attributes\u91cc\u8bb0\u5f55 <code>_error_code</code> \u548c <code>_error_message</code> \u8fd9\u4e24\u4e2a\u5b57\u6bb5\u3002</li> </ul>"},{"location":"sdk-manual/flutter/#_15","title":"\u9884\u7f6e\u4e8b\u4ef6","text":"<p>Android: \u53c2\u8003 Android SDK \u9884\u7f6e\u4e8b\u4ef6</p> <p>iOS: \u53c2\u8003 Swift SDK \u9884\u7f6e\u4e8b\u4ef6</p>"},{"location":"sdk-manual/flutter/#_16","title":"\u4e8b\u4ef6\u5c5e\u6027","text":"<p>Android: \u53c2\u8003 Android SDK \u4e8b\u4ef6\u5c5e\u6027</p> <p>iOS: \u53c2\u8003 Swift SDK \u4e8b\u4ef6\u5c5e\u6027</p>"},{"location":"sdk-manual/flutter/#sdk_2","title":"SDK\u66f4\u65b0\u65e5\u5fd7","text":"<p>\u53c2\u8003\uff1aGitHub \u66f4\u65b0\u65e5\u5fd7</p> <p>\u539f\u751f SDK \u7248\u672c\u4f9d\u8d56\u5173\u7cfb</p> Flutter SDK \u7248\u672c Android SDK \u7248\u672c Swift SDK \u7248\u672c 0.1.0 0.9.0 0.8.0"},{"location":"sdk-manual/flutter/#_17","title":"\u53c2\u8003\u94fe\u63a5","text":"<p>SDK \u6e90\u7801</p> <p>SDK \u95ee\u9898</p>"},{"location":"sdk-manual/http-api/","title":"Clickstream HTTP API","text":""},{"location":"sdk-manual/http-api/#_1","title":"\u7b80\u4ecb","text":"<p>\u672c\u6587\u5c06\u5e2e\u52a9\u60a8\u901a\u8fc7 HTTP \u8bf7\u6c42\u5c06\u70b9\u51fb\u6d41\u6570\u636e\u53d1\u9001\u5230 Clickstream \u6444\u53d6\u670d\u52a1\u5668\u3002 Clickstream \u6570\u636e\u5904\u7406\u6a21\u5757\u5c06\u6309\u7167\u4ee5\u4e0b\u51c6\u5219\u6b63\u786e\u5904\u7406\u60a8\u7684\u6570\u636e\u3002\u7136\u540e\uff0c\u60a8\u53ef\u4ee5\u5728\u540e\u7eed\u7684\u62a5\u544a\u6a21\u5757\u4e2d\u76f4\u89c2\u5730\u5206\u6790\u5b83\u4eec\u3002</p>"},{"location":"sdk-manual/http-api/#_2","title":"\u8bf7\u6c42\u7aef\u70b9","text":"<p>\u5728Clickstream Web\u63a7\u5236\u53f0\u521b\u5efa\u5b8cApp\u540e\uff0c\u5728App\u8be6\u60c5\u9875\u60a8\u83b7\u5f97 \u670d\u52a1\u5668\u7aef\u70b9 \u548c App ID\u3002\u5982\u4e0b\u6240\u793a\uff1a</p> <ul> <li>\u670d\u52a1\u5668\u7aef\u70b9: <code>https://example.com/collect</code></li> <li>App ID: <code>my_app</code></li> </ul>"},{"location":"sdk-manual/http-api/#api","title":"API\u89c4\u8303","text":"<ol> <li>\u8bf7\u6c42\u7684\u7aef\u70b9\u53ca query \u53c2\u6570\u4e2d\u7684 appId \u5fc5\u9700\u662f\u5728 Clickstream Web \u63a7\u5236\u53f0\u4e2d\u521b\u5efa app \u65f6\u6240\u751f\u6210\u7684 appId \u548c\u5bf9\u5e94\u7684\u8bf7\u6c42\u7aef\u70b9, \u5426\u5219    server \u4f1a\u8fd4\u56de HttpCode 403\uff0c\u9519\u8bef\u5185\u5bb9\uff1a<code>DefaultAction: Invalid request</code>\u3002</li> <li>\u8bf7\u6c42\u7684 body \u5305\u542b\u516c\u5171\u5c5e\u6027\u3001<code>items</code>\u3001<code>user</code> \u548c <code>attributes</code> \u56db\u4e2a\u90e8\u5206\uff0c\u5176\u4e2d\u516c\u5171\u5c5e\u6027\u4e2d\u7684 <code>event_type</code>\u3001<code>event_id</code>\u3001<code>timestamp</code>    \u548c <code>app_id</code> \u662f\u5fc5\u9700\u7684\uff0c\u5176\u4f59\u5747\u662f\u53ef\u9009\u53c2\u6570\u3002</li> <li>\u5355\u6b21\u8bf7\u6c42 body \u603b\u5927\u5c0f\u4e0d\u80fd\u8d85\u8fc7 1MB\uff0c\u8d85\u8fc7\u5219\u4f1a\u8fd4\u56de HttpCode 413, \u9519\u8bef\u5185\u5bb9\uff1a<code>Request Entity Too Large</code>\u3002</li> </ol>"},{"location":"sdk-manual/http-api/#_3","title":"\u8bf7\u6c42\u65b9\u6cd5","text":"<p><code>POST</code></p>"},{"location":"sdk-manual/http-api/#headers","title":"\u8bf7\u6c42headers","text":"\u53c2\u6570\u540d \u662f\u5426\u5fc5\u9700 \u793a\u4f8b \u53c2\u6570\u8bf4\u660e Content-Type \u662f application/json; charset=utf-8 \u8bf7\u6c42\u7684 Content type X-Forwarded-For \u5426 101.188.67.134 \u6e90IP\u5730\u5740\uff0c\u5982\u679c\u60a8\u5c06\u5ba2\u6237\u7aef\u8bf7\u6c42\u4ece\u60a8\u7684\u670d\u52a1\u5668\u8f6c\u53d1\u5230\u70b9\u51fb\u6d41\u670d\u52a1\u5668\uff0c\u5219\u8fd9\u662f\u5fc5\u9700\u7684 User-Agent \u5426 Mozilla/5.0 (Linux; Android 6.0; Nexus 5 Build/MRA58N) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/116.0.0.0 Mobile Safari/537.36 \u7528\u6237\u4ee3\u7406 cookie \u5426 your auth cookie \u60a8\u8bf7\u6c42\u7684\u8ba4\u8bc1token\uff0c\u8bf7\u53c2\u8003\u670d\u52a1\u7aef\u914d\u7f6e"},{"location":"sdk-manual/http-api/#query","title":"\u8bf7\u6c42query\u53c2\u6570","text":"\u53c2\u6570\u540d \u662f\u5426\u5fc5\u9700 \u793a\u4f8b \u53c2\u6570\u8bf4\u660e appId \u662f test_app \u60a8\u5e94\u7528\u7684App ID, \u5728\u89e3\u51b3\u65b9\u6848 Web \u63a7\u5236\u53f0\u521b\u5efa\u5e94\u7528\u65f6\u751f\u6210 platform \u5426 Android/iOS/Web/... \u533a\u5206\u4e0d\u540c\u7684\u5e73\u53f0 event_bundle_sequence_id \u5426 1 \u8bf7\u6c42\u5e8f\u5217\u53f7\uff0c\u503c\u4ece1\u5f00\u59cb\u7684\u81ea\u589e\u6574\u6570 hashCode \u5426 478acd09 \u8bf7\u6c42body\u5b57\u7b26\u4e32\u8fdb\u884csha256\u8ba1\u7b97\u7ed3\u679c\u7684\u524d8\u4f4d compression \u5426 gzip \u8bf7\u6c42body\u7684\u538b\u7f29\u65b9\u5f0f\uff0c\u76ee\u524d\u4ec5\u652f\u6301gzip\uff0c\u4e0d\u4f20\u8be5\u5b57\u6bb5\u8868\u793a\u4e0d\u538b\u7f29"},{"location":"sdk-manual/http-api/#body","title":"\u8bf7\u6c42body","text":"<p>\u8bf7\u6c42body\u4e3a\u6570\u7ec4\u7ed3\u6784\uff0c\u5176\u4e2d\u5305\u542b\u4e00\u4e2a\u6216\u591a\u4e2a\u4e8b\u4ef6\u7684JSON\u5b57\u7b26\u4e32\uff0c\u4f8b\u5982\uff1a</p> <pre><code>[\n  {\n    \"event_type\": \"button_click\",\n    \"event_id\": \"460daa08-0717-4385-8f2e-acb5bd019ee7\",\n    \"timestamp\": 1667877566697,\n    \"app_id\": \"your appId\",\n    \"attributes\": {\n      \"productName\": \"shoes\",\n      \"Price\": 99.9\n    }\n  },\n  {\n    \"event_type\": \"item_view\",\n    \"event_id\": \"c6067c1c-fd8d-4fdb-bfaf-cc1212ca0195\",\n    \"timestamp\": 1667877565698,\n    \"app_id\": \"your appId\",\n    \"attributes\": {\n      \"productName\": \"book\",\n      \"Price\": 39.9\n    }\n  }\n]\n</code></pre>"},{"location":"sdk-manual/http-api/#_4","title":"\u4e8b\u4ef6\u53c2\u6570","text":"\u53c2\u6570\u540d \u662f\u5426\u5fc5\u9700 \u53c2\u6570\u7c7b\u578b \u53c2\u6570\u503c\u793a\u4f8b \u53c2\u6570\u8bf4\u660e event_type \u662f String button_click \u4e8b\u4ef6\u540d event_id \u662f String 460daa08-0717-4385-8f2e-acb5bd019ee7 \u4e8b\u4ef6\u7684\u552f\u4e00ID\uff0c\u5efa\u8bae\u901a\u8fc7UUID\u751f\u6210 timestamp \u662f Long 1667877566697 \u4e8b\u4ef6\u751f\u6210\u65f6\u7684\u65f6\u95f4\u6233\uff0c\u5355\u4f4d\u4e3a\u6beb\u79d2 app_id \u662f String shopping_dev \u5728Clickstream Web\u63a7\u5236\u53f0\u521b\u5efa\u5e94\u7528\u65f6\u5bf9\u5e94\u7684id platform \u5426 String Android/iOS/Web/... \u8bbe\u5907\u5e73\u53f0 os_version \u5426 String 10 \u7cfb\u7edf\u7248\u672c\u53f7 unique_id \u5426 String c84ad28d-16a8-4af4-a331-f34cdc7a7a18 \u552f\u4e00id\u6765\u6807\u8bc6\u4e0d\u540c\u7684\u7528\u6237\u5e76\u5173\u8054\u767b\u5f55\u548c\u672a\u767b\u5f55\u7684\u884c\u4e3a device_id \u5426 String f24bec657ea8eff7 \u533a\u5206\u4e0d\u540c\u8bbe\u5907 make \u5426 String Samsung \u8bbe\u5907\u5236\u9020\u5546 brand \u5426 String Samsung \u54c1\u724c model \u5426 String S23 Ultra \u8bbe\u5907\u578b\u53f7 carrier \u5426 String CDMA \u8bbe\u5907\u7f51\u7edc\u8fd0\u8425\u5546\u540d\u79f0 network_type \u5426 String Mobile \u5f53\u524d\u8bbe\u5907\u7f51\u7edc\u7c7b\u578b locale \u5426 String zh_CN \u672c\u5730\u4fe1\u606f system_language \u5426 String zh \u8bbe\u5907\u8bed\u8a00\u4ee3\u7801 country_code \u5426 String CN \u8bbe\u5907\u7684\u56fd\u5bb6\u4ee3\u7801 zone_offset \u5426 int 2880000 \u8bbe\u5907 \u4e0e GMT \u7684\u539f\u59cb\u504f\u79fb\u91cf\uff08\u4ee5\u6beb\u79d2\u4e3a\u5355\u4f4d\uff09 screen_height \u5426 int 1920 \u5c4f\u5e55\u9ad8\u5ea6\uff08\u4ee5\u50cf\u7d20\u4e3a\u5355\u4f4d\uff09 screen_width \u5426 int 1080 \u5c4f\u5e55\u5bbd\u5ea6\uff08\u4ee5\u50cf\u7d20\u4e3a\u5355\u4f4d\uff09 viewport_height \u5426 int 540 \u5e94\u7528\u53ef\u89c6\u533a\u57df\u9ad8\u5ea6 viewport_width \u5426 int 360 \u5e94\u7528\u53ef\u89c6\u533a\u57df\u5bbd\u5ea6 sdk_version \u5426 String 1.2.3 SDK\u7248\u672c\u53f7 sdk_name \u5426 String aws-solution-clickstream-sdk SDK \u540d\u79f0 app_package_name \u5426 String com.example.app \u7528\u6237\u5e94\u7528\u7684\u5e94\u7528\u7a0b\u5e8f\u5305\u540d\u79f0 app_version \u5426 String 1.1.0 \u5e94\u7528\u7a0b\u5e8f\u7248\u672c\u53f7 app_title \u5426 String shopping \u5e94\u7528\u540d\u79f0 items \u5426 Object [{   \u00a0\u00a0\"id\": \"b011ddc3-632f-47cb-a68a-ad83678ecfed\",  \u00a0\u00a0\"name\": \"Classic coat-rack\",   \u00a0\u00a0\"category\": \"housewares\",  \u00a0\u00a0\"price\": 167}] \u7269\u54c1\u5217\u8868\uff0c\u652f\u6301\u4e00\u6b21\u4e0a\u4f20\u591a\u4e2aitem\uff0c\u4e00\u6b21\u6700\u591a\u4e0a\u4f20100\u4e2aitem\u5173\u4e8eitem\u6570\u91cf\u9650\u5236\u8bf7\u53c2\u8003\u4e8b\u4ef6\u548c\u5c5e\u6027\u9650\u5236 \u5173\u4e8eitem\u7684\u652f\u6301\u7684\u5c5e\u6027\uff0c\u8bf7\u53c2\u8003\uff1aitem \u5c5e\u6027 user \u5426 Object {\u00a0\u00a0\"_user_id\": {\u00a0\u00a0\u00a0\u00a0\"value\": \"0202d0e1\",\u00a0\u00a0\u00a0\u00a0\"set_timestamp\": 1695006816345  \u00a0\u00a0}, \u00a0\u00a0 \"username\": {   \u00a0\u00a0\u00a0\u00a0 \"value\": \"carl\",    \u00a0\u00a0\u00a0\u00a0\u00a0\"set_timestamp\": 1695006816345  \u00a0\u00a0}} \u7528\u6237\u5c5e\u6027\uff0c\u6bcf\u4e2a\u5c5e\u6027key\u662f\u5c5e\u6027\u540d\uff0c\u6bcf\u4e2a\u5c5e\u6027\u5305\u542b\u4e00\u4e2a\u5bf9\u8c61\uff0c\u5bf9\u8c61\u4e2d\u5305\u542b\u4e24\u4e2a\u5c5e\u6027\u5206\u522b\u662f\uff1a<code>value</code>\uff1a\u5c5e\u6027\u7684\u503c\u3002 <code>set_timestamp</code>\uff1a\u6539\u5c5e\u6027\u8bbe\u7f6e\u65f6\u7684\u65f6\u95f4\u6233\u6beb\u79d2\u503c\u3002 \u4e00\u4e2a\u4e8b\u4ef6\u4e2d\u7528\u6237\u5c5e\u6027\u6700\u591a\u53ef\u4ee5\u6dfb\u52a0100\u4e2a, \u5177\u4f53\u9650\u5236\u8bf7\u53c2\u8003\uff1a\u4e8b\u4ef6\u548c\u5c5e\u6027\u9650\u5236 attributes \u5426 Object {    \u00a0\u00a0\"productName\": \"book\", \u00a0\u00a0\"Price\": 39.9} \u81ea\u5b9a\u4e49\u5c5e\u6027\uff0c\u4e00\u4e2a\u4e8b\u4ef6\u6700\u591a\u53ef\u4ee5\u6dfb\u52a0500\u4e2a\u81ea\u5b9a\u4e49\u5c5e\u6027\uff0c\u4e14\u6ee1\u8db3\u5c5e\u6027\u540d\u7684\u547d\u540d\u89c4\u5219"},{"location":"sdk-manual/http-api/#_5","title":"\u8bf7\u6c42\u8fd4\u56de\u503c","text":"<p>\u5224\u65ad\u8bf7\u6c42\u8fd4\u56de\u7684HttpCode\u72b6\u6001\u7801\u4e3a200\uff0c\u5219\u8ba4\u4e3a\u8bf7\u6c42\u6210\u529f\uff0c\u5176\u4ed6\u72b6\u6001\u7801\u5747\u4e3a\u5931\u8d25\uff0c\u540c\u65f6\u8bf7\u6c42\u4e0d\u8fd4\u56de\u5176\u4f59\u4efb\u4f55\u5185\u5bb9\u3002</p>"},{"location":"sdk-manual/http-api/#httpcode","title":"HttpCode","text":"Code \u8bf4\u660e 200 \u8bf7\u6c42\u6210\u529f 403 \u8bf7\u6c42\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5appId\u548c\u8bf7\u6c42\u7aef\u70b9\u662f\u5426\u5339\u914d\uff0c\u5982\u679c\u63a5\u53e3\u914d\u7f6e\u8ba4\u8bc1\uff0c\u8bf7\u68c0\u67e5\u8ba4\u8bc1 cookie \u662f\u5426\u6b63\u786e 413 \u8bf7\u6c42\u5931\u8d25\uff0c\u8bf7\u6c42body\u8d85\u8fc71MB"},{"location":"sdk-manual/http-api/#_6","title":"\u4ee3\u7801\u793a\u4f8b","text":"cURLC# HttpClientJava OkhttpJavaScript FetchPython Request <pre><code>curl --location 'https://example.com/collect?appId=test_release&amp;platform=Android&amp;event_bundle_sequence_id=1' \\\n--header 'Content-Type: application/json; charset=utf-8' \\\n--header 'X-Forwarded-For: 101.188.67.134' \\\n--data '[{\"event_type\":\"button_click\",\"event_id\":\"460daa08-0717-4385-8f2e-acb5bd019ee7\",\"timestamp\":1667877566697,\"app_id\":\"your appId\",\"attributes\":{\"productName\":\"shoes\",\"Price\":99.9}},{\"event_type\":\"item_view\",\"event_id\":\"c6067c1c-fd8d-4fdb-bfaf-cc1212ca0195\",\"timestamp\":1667877565698,\"app_id\":\"your appId\",\"attributes\":{\"productName\":\"book\",\"Price\":39.9}}]'\n</code></pre> <pre><code>var client = new HttpClient();\nvar request = new HttpRequestMessage(HttpMethod.Post, \"https://example.com/collect?appId=test_release&amp;platform=Android&amp;event_bundle_sequence_id=1\");\nrequest.Headers.Add(\"X-Forwarded-For\", \"101.188.67.134\");\nvar content = new StringContent(\"[{\\\"event_type\\\":\\\"button_click\\\",\\\"event_id\\\":\\\"460daa08-0717-4385-8f2e-acb5bd019ee7\\\",\\\"timestamp\\\":1667877566697,\\\"app_id\\\":\\\"your appId\\\",\\\"attributes\\\":{\\\"productName\\\":\\\"shoes\\\",\\\"Price\\\":99.9}},{\\\"event_type\\\":\\\"item_view\\\",\\\"event_id\\\":\\\"c6067c1c-fd8d-4fdb-bfaf-cc1212ca0195\\\",\\\"timestamp\\\":1667877565698,\\\"app_id\\\":\\\"your appId\\\",\\\"attributes\\\":{\\\"productName\\\":\\\"book\\\",\\\"Price\\\":39.9}}]\", null, \"application/json; charset=utf-8\");\nrequest.Content = content;\nvar response = await client.SendAsync(request);\nresponse.EnsureSuccessStatusCode();\nConsole.WriteLine(await response.Content.ReadAsStringAsync());\n</code></pre> <pre><code>OkHttpClient client=new OkHttpClient().newBuilder()\n        .build();\n        MediaType mediaType=MediaType.parse(\"application/json; charset=utf-8\");\n        RequestBody body=RequestBody.create(mediaType,\"[{\\\"event_type\\\":\\\"button_click\\\",\\\"event_id\\\":\\\"460daa08-0717-4385-8f2e-acb5bd019ee7\\\",\\\"timestamp\\\":1667877566697,\\\"app_id\\\":\\\"your appId\\\",\\\"attributes\\\":{\\\"productName\\\":\\\"shoes\\\",\\\"Price\\\":99.9}},{\\\"event_type\\\":\\\"item_view\\\",\\\"event_id\\\":\\\"c6067c1c-fd8d-4fdb-bfaf-cc1212ca0195\\\",\\\"timestamp\\\":1667877565698,\\\"app_id\\\":\\\"your appId\\\",\\\"attributes\\\":{\\\"productName\\\":\\\"book\\\",\\\"Price\\\":39.9}}]\");\n        Request request=new Request.Builder()\n        .url(\"https://example.com/collect?appId=test_release&amp;platform=Android&amp;event_bundle_sequence_id=1\")\n        .method(\"POST\",body)\n        .addHeader(\"Content-Type\",\"application/json; charset=utf-8\")\n        .addHeader(\"X-Forwarded-For\",\"101.188.67.134\")\n        .build();\n        Response response=client.newCall(request).execute();\n</code></pre> <pre><code>var myHeaders = new Headers();\nmyHeaders.append(\"Content-Type\", \"application/json; charset=utf-8\");\nmyHeaders.append(\"X-Forwarded-For\", \"101.188.67.134\");\n\nvar raw = \"[{\\\"event_type\\\":\\\"button_click\\\",\\\"event_id\\\":\\\"460daa08-0717-4385-8f2e-acb5bd019ee7\\\",\\\"timestamp\\\":1667877566697,\\\"app_id\\\":\\\"your appId\\\",\\\"attributes\\\":{\\\"productName\\\":\\\"shoes\\\",\\\"Price\\\":99.9}},{\\\"event_type\\\":\\\"item_view\\\",\\\"event_id\\\":\\\"c6067c1c-fd8d-4fdb-bfaf-cc1212ca0195\\\",\\\"timestamp\\\":1667877565698,\\\"app_id\\\":\\\"your appId\\\",\\\"attributes\\\":{\\\"productName\\\":\\\"book\\\",\\\"Price\\\":39.9}}]\";\n\nvar requestOptions = {\n    method: 'POST',\n    headers: myHeaders,\n    body: raw,\n    redirect: 'follow'\n};\n\nfetch(\"https://example.com/collect?appId=test_release&amp;platform=Android&amp;event_bundle_sequence_id=1\", requestOptions)\n    .then(response =&gt; response.text())\n    .then(result =&gt; console.log(result))\n    .catch(error =&gt; console.log('error', error));\n</code></pre> <pre><code>import requests\n\nurl = \"https://example.com/collect?appId=test_release&amp;platform=Android&amp;event_bundle_sequence_id=1\"\n\npayload = \"[{\\\"event_type\\\":\\\"button_click\\\",\\\"event_id\\\":\\\"460daa08-0717-4385-8f2e-acb5bd019ee7\\\",\\\"timestamp\\\":1667877566697,\\\"app_id\\\":\\\"your appId\\\",\\\"attributes\\\":{\\\"productName\\\":\\\"shoes\\\",\\\"Price\\\":99.9}},{\\\"event_type\\\":\\\"item_view\\\",\\\"event_id\\\":\\\"c6067c1c-fd8d-4fdb-bfaf-cc1212ca0195\\\",\\\"timestamp\\\":1667877565698,\\\"app_id\\\":\\\"your appId\\\",\\\"attributes\\\":{\\\"productName\\\":\\\"book\\\",\\\"Price\\\":39.9}}]\"\nheaders = {\n    'Content-Type': 'application/json; charset=utf-8',\n    'X-Forwarded-For': '101.188.67.134'\n}\n\nresponse = requests.request(\"POST\", url, headers=headers, data=payload)\n\nprint(response.text)\n</code></pre>"},{"location":"sdk-manual/http-api/#_7","title":"\u9a8c\u8bc1\u6570\u636e\u4e0a\u62a5\u6210\u529f","text":"<ul> <li>\u65b9\u5f0f1\uff1a\u53ef\u4ee5\u5728 Athena \u91cc\u67e5\u8be2 ods_events\u8868 \u91cc\u901a\u8fc7SQL\u76f4\u63a5\u67e5\u8be2\uff08\u9700\u8981\u5728\u6570\u636e\u5efa\u6a21\u542f\u7528Athena)</li> <li>\u65b9\u5f0f2\uff1a\u53ef\u4ee5\u5728 Redshift \u91cc\u67e5\u8be2 ods_events\u8868 \u91cc\u901a\u8fc7SQL\u76f4\u63a5\u67e5\u8be2\uff08\u9700\u8981\u5728\u6570\u636e\u5efa\u6a21\u542f\u7528Redshift)</li> </ul>"},{"location":"sdk-manual/swift/","title":"Clickstream Swift SDK","text":""},{"location":"sdk-manual/swift/#_1","title":"\u4ecb\u7ecd","text":"<p>Clickstream Swift SDK \u53ef\u4ee5\u5e2e\u52a9\u60a8\u8f7b\u677e\u4ece iOS \u8bbe\u5907\u6536\u96c6\u548c\u53d1\u9001\u5e94\u7528\u5185\u4e8b\u4ef6\u5230\u60a8\u914d\u7f6e\u7684\u89e3\u51b3\u65b9\u6848\u6570\u636e\u7ba1\u9053\u3002</p> <p>\u8be5 SDK \u57fa\u4e8e Amplify for Swift \u6838\u5fc3\u5e93\uff0c\u5e76\u6839\u636e Amplify Swift SDK \u63d2\u4ef6\u89c4\u8303\u8fdb\u884c\u5f00\u53d1\u3002\u6b64\u5916\uff0c\u8be5 SDK \u8fd8\u914d\u5907\u4e86\u81ea\u52a8\u6536\u96c6\u5e38\u89c1\u7528\u6237\u4e8b\u4ef6\u548c\u5c5e\u6027\uff08\u4f8b\u5982\uff0c\u5c4f\u5e55\u67e5\u770b\u548c\u9996\u6b21\u6253\u5f00\uff09\u7684\u529f\u80fd\uff0c\u4ee5\u7b80\u5316\u7528\u6237\u7684\u6570\u636e\u6536\u96c6\u8fc7\u7a0b\u3002</p>"},{"location":"sdk-manual/swift/#_2","title":"\u5e73\u53f0\u652f\u6301","text":"<p>Clickstream Swift SDK \u652f\u6301 iOS 13+\u3002</p> <p>Clickstream Swift SDK \u9700\u8981 Xcode 13.4 \u6216\u66f4\u9ad8\u7248\u672c\u624d\u80fd\u6784\u5efa\u3002</p>"},{"location":"sdk-manual/swift/#sdk","title":"\u96c6\u6210 SDK","text":""},{"location":"sdk-manual/swift/#1","title":"1. \u6dfb\u52a0\u8f6f\u4ef6\u5305","text":"<p>\u6211\u4eec\u4f7f\u7528 Swift Package Manager \u6765\u5206\u53d1 Clickstream Swift SDK\uff0c\u5728 Xcode \u4e2d\u6253\u5f00\u60a8\u7684\u9879\u76ee\uff0c\u9009\u62e9 File &gt; Add Packages\u3002</p> <p></p> <ol> <li>\u590d\u5236Swift SDK \u7684 GitHub \u4ed3\u5e93 URL\uff0c\u7136\u540e\u7c98\u8d34\u5230\u641c\u7d22\u680f\u4e2d\u3002     <pre><code>https://github.com/awslabs/clickstream-swift\n</code></pre></li> <li>\u68c0\u67e5\u60a8\u5e0c\u671b Swift Package Manager \u5b89\u88c5 SDK \u7248\u672c\u7684\u89c4\u5219\u3002\u63a8\u8350\u9009\u62e9 Up to Next Major Version\uff0c\u7136\u540e\u70b9\u51fb Add Package \u6309\u94ae\u3002</li> <li>\u9ed8\u8ba4\u9009\u4e2d Clickstream \u5e93\u3002</li> <li>\u518d\u6b21\u5355\u51fb Add Package \u6309\u94ae\u5b8c\u6210\u5b89\u88c5\u3002</li> </ol> <p></p>"},{"location":"sdk-manual/swift/#2","title":"2. \u53c2\u6570\u914d\u7f6e","text":"<p>\u4ece\u60a8\u7684 Clickstream \u89e3\u51b3\u65b9\u6848\u63a7\u5236\u9762\u677f\u4e2d\u4e0b\u8f7d\u60a8\u7684 <code>amplifyconfiguration.json</code> \u6587\u4ef6\uff0c\u5e76\u5c06\u5176\u7c98\u8d34\u5230\u9879\u76ee\u6839\u6587\u4ef6\u5939\u4e2d\uff1a</p> <p></p> <p>\u8be5 json \u6587\u4ef6\u5982\u4e0b\u6240\u793a\uff1a</p> <pre><code>{\n  \"analytics\": {\n    \"plugins\": {\n      \"awsClickstreamPlugin \": {\n        \"appId\": \"appId\",\n        \"endpoint\": \"https://example.com/collect\",\n        \"isCompressEvents\": true,\n        \"autoFlushEventsInterval\": 10000,\n        \"isTrackAppExceptionEvents\": false\n      }\n    }\n  }\n}\n</code></pre> <p>\u5176\u4e2d\uff0c\u60a8\u7684 <code>appId</code> \u548c <code>endpoint</code> \u5df2\u7ecf\u8bbe\u7f6e\u597d\u4e86\u3002\u4e0b\u9762\u662f\u6bcf\u4e2a\u5c5e\u6027\u7684\u8bf4\u660e\uff1a</p> <ul> <li>appId\uff08\u5fc5\u9700\u7684\uff09\uff1a\u60a8\u5728\u63a7\u5236\u9762\u677f\u4e2d\u7684app id\u3002</li> <li>endpoint\uff08\u5fc5\u9700\u7684\uff09\uff1a\u60a8\u5c06\u4e8b\u4ef6\u4e0a\u4f20\u5230 AWS \u670d\u52a1\u5668\u7684\u7aef\u70b9 URL\u3002</li> <li>isCompressEvents\uff1a\u4e0a\u4f20\u4e8b\u4ef6\u65f6\u662f\u5426\u538b\u7f29\u4e8b\u4ef6\u5185\u5bb9\uff0c\u9ed8\u8ba4\u4e3a <code>true</code>\u3002</li> <li>autoFlushEventsInterval\uff1a\u4e8b\u4ef6\u53d1\u9001\u95f4\u9694\uff0c \u9ed8\u8ba4\u4e3a <code>10s</code>\u3002</li> <li>isTrackAppExceptionEvents\uff1a\u662f\u5426\u81ea\u52a8\u8ddf\u8e2a\u5e94\u7528\u7a0b\u5e8f\u5f02\u5e38\u4e8b\u4ef6\uff0c\u9ed8\u8ba4\u4e3a <code>false</code>\u3002</li> </ul>"},{"location":"sdk-manual/swift/#3-sdk","title":"3.\u521d\u59cb\u5316 SDK","text":"<p>\u5728\u914d\u7f6e\u53c2\u6570\u4e4b\u540e\uff0c\u60a8\u9700\u8981\u5728 AppDelegate \u7684 <code>didFinishLaunchingWithOptions</code> \u751f\u547d\u5468\u671f\u65b9\u6cd5\u4e2d\u8fdb\u884c\u521d\u59cb\u5316\u4ee5\u4f7f\u7528 SDK\u3002</p> SwiftObjective-C <pre><code>import Clickstream\n\nfunc application(_ application: UIApplication, didFinishLaunchingWithOptions launchOptions: [UIApplication.LaunchOptionsKey: Any]?) -&gt; Bool {\n    do {\n        try ClickstreamAnalytics.initSDK()\n    } catch {\n        assertionFailure(\"Fail to initialize ClickstreamAnalytics: \\(error)\")\n    }\n    return true\n}\n</code></pre> <pre><code>@import Clickstream;\n\n- (BOOL)application:(UIApplication *)application didFinishLaunchingWithOptions:(NSDictionary *)launchOptions { \n    NSError *error = nil;\n    [ClickstreamObjc initSDKAndReturnError:&amp;error];\n    if (error) {\n        NSLog(@\"Fail to initialize ClickstreamAnalytics: %@\", error.localizedDescription);\n    }\n    return YES;\n}\n</code></pre> <p>\u5982\u679c\u60a8\u7684\u9879\u76ee\u662f\u4f7f\u7528 SwiftUI \u5f00\u53d1\u7684\uff0c\u60a8\u9700\u8981\u521b\u5efa\u4e00\u4e2a<code>application</code> \u4ee3\u7406\u5e76\u901a\u8fc7 <code>UIApplicationDelegateAdaptor</code> \u5c06\u5176\u9644\u52a0\u5230\u60a8\u7684 App\u3002</p> <pre><code>@main\nstruct YourApp: App {\n    @UIApplicationDelegateAdaptor(AppDelegate.self) var appDelegate\n    var body: some Scene {\n        WindowGroup {\n            YourView()\n        }\n    }\n}\n</code></pre> <p>\u5bf9\u4e8e SwiftUI\uff0c\u6211\u4eec\u5c1a\u4e0d\u652f\u6301\u81ea\u52a8\u6536\u96c6\u5c4f\u5e55\u6d4f\u89c8\u4e8b\u4ef6\uff0c\u60a8\u9700\u8981\u901a\u8fc7\u8bbe\u7f6e <code>configuration.isTrackScreenViewEvents = false</code> \u6765\u7981\u7528\u5c4f\u5e55\u6d4f\u89c8\u4e8b\u4ef6\uff0c\u8bf7\u53c2\u9605\u66f4\u65b0SDK\u914d\u7f6e\u3002</p>"},{"location":"sdk-manual/swift/#4","title":"4.\u5f00\u59cb\u4f7f\u7528","text":""},{"location":"sdk-manual/swift/#_3","title":"\u8bb0\u5f55\u4e8b\u4ef6","text":"<p>\u5728\u9700\u8981\u62a5\u544a\u4e8b\u4ef6\u7684\u4f4d\u7f6e\u6dfb\u52a0\u4ee5\u4e0b\u4ee3\u7801\u3002</p> SwiftObjective-C <pre><code>import Clickstream\n\n// \u8bb0\u5f55\u5e26\u6709\u81ea\u5b9a\u4e49\u53c2\u6570\u7684\u4e8b\u4ef6\nlet attributes: ClickstreamAttribute = [\n    \"category\": \"shoes\",\n    \"currency\": \"CNY\",\n    \"value\": 279.9\n]\nClickstreamAnalytics.recordEvent(\"button_click\", attributes)\n\n// \u76f4\u63a5\u8bb0\u5f55\u4e8b\u4ef6\u540d\nClickstreamAnalytics.recordEvent(\"button_click\")\n</code></pre> <pre><code>import Clickstream;\n\n// \u8bb0\u5f55\u5e26\u6709\u81ea\u5b9a\u4e49\u53c2\u6570\u7684\u4e8b\u4ef6\nNSDictionary *attributes =@{\n    @\"category\": @\"shoes\",\n    @\"currency\": @\"CNY\",\n    @\"value\": @12.34\n};\n[ClickstreamObjc recordEvent:@\"button_click\" :attributes];\n\n// \u76f4\u63a5\u8bb0\u5f55\u4e8b\u4ef6\u540d\n[ClickstreamObjc recordEvent:@\"button_click\"];\n</code></pre>"},{"location":"sdk-manual/swift/#_4","title":"\u6dfb\u52a0\u5168\u5c40\u5c5e\u6027","text":"SwiftObjective-C <pre><code>import Clickstream\n\nlet globalAttribute: ClickstreamAttribute = [\n    \"channel\": \"apple\",\n    \"class\": 6,\n    \"level\": 5.1,\n    \"isOpenNotification\": true,\n]\nClickstreamAnalytics.addGlobalAttributes(globalAttribute)\n\n// \u5220\u9664\u5168\u5c40\u5c5e\u6027\nClickstreamAnalytics.deleteGlobalAttributes(\"level\")\n</code></pre> <pre><code>import Clickstream;\n\nNSDictionary *attributes =@{\n    @\"channel\": @\"apple\",\n    @\"class\": @6,\n    @\"level\": @5.1,\n    @\"isOpenNotification\": @YES\n};\n[ClickstreamObjc addGlobalAttributes :attributes];\n\n// \u5220\u9664\u5168\u5c40\u5c5e\u6027\n[ClickstreamObjc deleteGlobalAttributes: @[@\"level\"]];\n</code></pre> <p>\u8bf7\u5728SDK\u521d\u59cb\u5316\u5b8c\u6210\u540e\u6dfb\u52a0\u5168\u5c40\u5c5e\u6027\uff0c\u5168\u5c40\u5c5e\u6027\u5c06\u6dfb\u52a0\u5230\u6240\u6709\u4e8b\u4ef6\u7684\u5c5e\u6027\u5bf9\u8c61\u4e2d\u3002</p>"},{"location":"sdk-manual/swift/#_5","title":"\u767b\u5f55\u548c\u767b\u51fa","text":"SwiftObjective-C <pre><code>import Clickstream\n\n// \u5f53\u7528\u6237\u767b\u5f55\u6210\u529f\u65f6\u8bbe\u7f6e\nClickstreamAnalytics.setUserId(\"userId\")\n\n// \u5f53\u7528\u6237\u9000\u51fa\u767b\u5f55\u65f6\u8bbe\u7f6e\nClickstreamAnalytics.setUserId(nil)\n</code></pre> <pre><code>import Clickstream;\n\n// \u5f53\u7528\u6237\u767b\u5f55\u6210\u529f\u65f6\u8bbe\u7f6e\n[ClickstreamObjc setUserId:@\"userId\"];\n\n// \u5f53\u7528\u6237\u9000\u51fa\u767b\u5f55\u65f6\u8bbe\u7f6e\n[ClickstreamObjc setUserId:NULL];\n</code></pre>"},{"location":"sdk-manual/swift/#_6","title":"\u6dfb\u52a0\u7528\u6237\u5c5e\u6027","text":"SwiftObjective-C <pre><code>import Clickstream\n\nlet userAttributes : ClickstreamAttribute=[\n    \"_user_age\": 21,\n    \"_user_name\": \"carl\"\n]\nClickstreamAnalytics.addUserAttributes(userAttributes)\n</code></pre> <pre><code>import Clickstream;\n\nNSDictionary *userAttributes =@{\n    @\"_user_age\": @21,\n    @\"user_name\": @\"carl\"\n};\n[ClickstreamObjc addUserAttributes:userAttributes];\n</code></pre> <p>\u5f53\u524d\u767b\u5f55\u7528\u6237\u7684\u5c5e\u6027\u4f1a\u8fdb\u884c\u7f13\u5b58\uff0c\u56e0\u6b64\u5728\u4e0b\u6b21App\u6253\u5f00\u65f6\u4e0d\u9700\u8981\u518d\u6b21\u8bbe\u7f6e\u6240\u6709\u7684\u7528\u6237\u5c5e\u6027\uff0c\u5f53\u7136\u60a8\u53ef\u4ee5\u4f7f\u7528\u76f8\u540c\u7684 api <code>ClickstreamAnalytics.addUserAttributes()</code> \u5728\u5f53\u7528\u6237\u5c5e\u6027\u6539\u53d8\u65f6\u6765\u66f4\u65b0\u5f53\u524d\u7528\u6237\u7684\u5c5e\u6027\u3002</p> <p>\u91cd\u8981\u63d0\u793a</p> <p>\u5982\u679c\u60a8\u7684\u5e94\u7528\u5df2\u7ecf\u4e0a\u7ebf\uff0c\u8fd9\u65f6\u5927\u90e8\u5206\u7528\u6237\u5df2\u7ecf\u767b\u5f55\u8fc7\uff0c\u5219\u7b2c\u4e00\u6b21\u63a5\u5165Clickstrema SDK\u65f6\u8bf7\u624b\u52a8\u8bbe\u7f6e\u4e00\u6b21\u7528\u6237\u5c5e\u6027\uff0c\u786e\u4fdd\u540e\u7eed\u4e8b\u4ef6\u90fd\u5e26\u6709\u7528\u6237\u5c5e\u6027\u3002</p>"},{"location":"sdk-manual/swift/#_7","title":"\u5b9e\u65f6\u53d1\u9001\u4e8b\u4ef6","text":"SwiftObjective-C <pre><code>import Clickstream\n// \u5b9e\u65f6\u53d1\u9001\u4e8b\u4ef6\nClickstreamAnalytics.flushEvents()\n</code></pre> <pre><code>import Clickstream;\n// \u5b9e\u65f6\u53d1\u9001\u4e8b\u4ef6\n[ClickstreamObjc flushEvents];\n</code></pre>"},{"location":"sdk-manual/swift/#sdk_1","title":"\u7981\u7528 SDK","text":"<p>\u60a8\u53ef\u4ee5\u6839\u636e\u9700\u8981\u7981\u7528 SDK \u3002\u7981\u7528\u540e SDK \u5c06\u4e0d\u4f1a\u5904\u7406\u4efb\u4f55\u4e8b\u4ef6\u7684\u8bb0\u5f55\u548c\u53d1\u9001\uff0c\u540c\u65f6\u60a8\u53ef\u4ee5\u5728\u9700\u8981\u7ee7\u7eed\u8bb0\u5f55\u4e8b\u4ef6\u65f6\u518d\u6b21\u542f\u7528SDK\u3002</p> SwiftObjective-C <pre><code>import Clickstream\n\n// \u7981\u7528 SDK\nClickstreamAnalytics.disable()\n\n// \u542f\u7528 SDK\nClickstreamAnalytics.enable()\n</code></pre> <pre><code>import Clickstream;\n\n// \u7981\u7528 SDK\n[ClickstreamObjc disable];\n\n// \u542f\u7528 SDK\n[ClickstreamObjc enable];\n</code></pre>"},{"location":"sdk-manual/swift/#sdk_2","title":"SDK \u914d\u7f6e\u66f4\u65b0","text":"<p>\u5728\u521d\u59cb\u5316 SDK \u540e\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u4ee3\u7801\u5bf9\u5176\u8fdb\u884c\u81ea\u5b9a\u4e49\u914d\u7f6e\u3002</p> SwiftObjective-C <pre><code>import Clickstream\n\n// \u5728\u521d\u59cb\u5316\u540e\u66f4\u65b0SDK\u914d\u7f6e\ndo {\n    var configuration = try ClickstreamAnalytics.getClickstreamConfiguration()\n    configuration.appId = \"your appId\"\n    configuration.endpoint = \"https://example.com/collect\"\n    configuration.authCookie = \"your authentication cookie\"\n    configuration.sessionTimeoutDuration = 1800000\n    configuration.isTrackScreenViewEvents = false\n    configuration.isTrackUserEngagementEvents = false\n    configuration.isLogEvents = true\n    configuration.isCompressEvents = true\n} catch {\n    print(\"Failed to config ClickstreamAnalytics: \\(error)\")\n}\n</code></pre> <pre><code>import Clickstream;\n\n// \u5728\u521d\u59cb\u5316\u540e\u66f4\u65b0SDK\u914d\u7f6e\nClickstreamContextConfiguration *configuration = [ClickstreamObjc getClickstreamConfigurationAndReturnError:&amp;error];\nif (configuration) {\n    [configuration setAppId:@\"your appId\"];\n    [configuration setEndpoint:@\"https://example.com/collect\"];\n    [configuration setAuthCookie:@\"your authentication cookie\"];\n    [configuration setSessionTimeoutDuration:1800000];\n    [configuration setIsTrackScreenViewEvents:0];\n    [configuration setIsTrackUserEngagementEvents:0];\n    [configuration setIsLogEvents:1];\n    [configuration setIsCompressEvents:1];\n}else{\n    NSLog(@\"Failed to get configuration: %@\", error.localizedDescription);\n}\n</code></pre> <p>\u91cd\u8981\u63d0\u793a</p> <p>\u6b64\u914d\u7f6e\u5c06\u8986\u76d6 <code>amplifyconfiguration.json</code> \u6587\u4ef6\u4e2d\u7684\u9ed8\u8ba4\u914d\u7f6e\u3002</p> <p>\u4ee5\u4e0b\u662f\u6bcf\u4e2a\u914d\u7f6e\u9879\u7684\u8bf4\u660e</p> \u540d\u79f0 \u53c2\u6570\u7c7b\u578b \u662f\u5426\u5fc5\u586b \u9ed8\u8ba4\u503c \u63cf\u8ff0 appId String \u662f -- \u5728\u89e3\u51b3\u65b9\u6848\u63a7\u5236\u5e73\u9762\u4e2d\u60a8\u5e94\u7528\u7a0b\u5e8f\u7684 ID endpoint String \u662f -- \u60a8\u5c06\u4e8b\u4ef6\u4e0a\u4f20\u5230 Clickstream \u6444\u53d6\u670d\u52a1\u5668\u7684URL\u8bf7\u6c42\u8def\u5f84 authCookie String \u5426 -- \u60a8\u7684 AWS \u5e94\u7528\u7a0b\u5e8f\u8d1f\u8f7d\u5747\u8861\u5668\u8eab\u4efd\u9a8c\u8bc1 cookie sessionTimeoutDuration Int64 \u5426 1800000 \u4f1a\u8bdd\u8d85\u65f6\u7684\u65f6\u957f\uff08\u6beb\u79d2\uff09 isTrackScreenViewEvents Bool \u5426 true \u662f\u5426\u81ea\u52a8\u8bb0\u5f55 screen view\uff08\u5c4f\u5e55\u6d4f\u89c8\uff09 \u4e8b\u4ef6 isTrackUserEngagementEvents Bool \u5426 true \u662f\u5426\u81ea\u52a8\u8bb0\u5f55 user engagement\uff08\u7528\u6237\u53c2\u4e0e\uff09 \u4e8b\u4ef6 isLogEvents Bool \u5426 false \u662f\u5426\u81ea\u52a8\u6253\u5370\u4e8b\u4ef6 json\u4ee5\u8c03\u8bd5\u4e8b\u4ef6, \u4e86\u89e3\u66f4\u591a isCompressEvents Bool \u5426 true \u4e0a\u4f20\u4e8b\u4ef6\u65f6\u662f\u5426\u901a\u8fc7gzip\u538b\u7f29\u4e8b\u4ef6\u5185\u5bb9"},{"location":"sdk-manual/swift/#_8","title":"\u8c03\u8bd5\u4e8b\u4ef6","text":"<p>\u60a8\u53ef\u4ee5\u6309\u7167\u4ee5\u4e0b\u6b65\u9aa4\u67e5\u770b\u4e8b\u4ef6\u539f\u59cb json \u5e76\u8c03\u8bd5\u60a8\u7684\u4e8b\u4ef6\u3002</p> <p>1.\u5728\u8c03\u8bd5\u6a21\u5f0f\u4e0b\u5c06 <code>isLogEvents</code> \u914d\u7f6e\u9879\u8bbe\u7f6e\u4e3a true\u3002</p> <p>2.\u96c6\u6210 SDK \u5e76\u901a\u8fc7 Xcode \u542f\u52a8\u60a8\u7684\u5e94\u7528\u7a0b\u5e8f\uff0c\u7136\u540e\u6253\u5f00\u65e5\u5fd7\u7a97\u53e3\u3002</p> <p>3.\u5728filter\u4e2d\u8f93\u5165<code>EventRecorder</code>\uff0c\u60a8\u5c06\u770b\u5230Clickstream Swift SDK\u8bb0\u5f55\u7684\u6240\u6709\u4e8b\u4ef6\u7684json\u5185\u5bb9\u3002</p>"},{"location":"sdk-manual/swift/#_9","title":"\u6570\u636e\u683c\u5f0f\u5b9a\u4e49","text":""},{"location":"sdk-manual/swift/#_10","title":"\u6570\u636e\u7c7b\u578b","text":"<p>Clickstream Swift SDK \u652f\u6301\u4ee5\u4e0b\u6570\u636e\u7c7b\u578b\uff1a</p> \u6570\u636e\u7c7b\u578b \u8303\u56f4 \u793a\u4f8b Int -2147483648\uff5e2147483647 12 Int64 -9,223,372,036,854,775,808\uff5e 9,223,372,036,854,775,807 26854775808 Double -2.22E-308~1.79E+308 3.14 Boolean true \u6216 false true String \u6700\u5927\u652f\u6301 1024 \u4e2a\u5b57\u7b26 \"clickstream\""},{"location":"sdk-manual/swift/#_11","title":"\u547d\u540d\u89c4\u5219","text":"<ol> <li> <p>\u4e8b\u4ef6\u540d\u79f0\u548c\u5c5e\u6027\u540d\u79f0\u4e0d\u80fd\u4ee5\u6570\u5b57\u5f00\u5934\uff0c\u53ea\u80fd\u5305\u542b\u5927\u5199\u5b57\u6bcd\u3001\u5c0f\u5199\u5b57\u6bcd\u3001\u6570\u5b57\u3001\u4e0b\u5212\u7ebf\u3002\u5982\u679c\u4e8b\u4ef6\u540d\u79f0\u65e0\u6548\uff0c\u5c06\u5f15\u53d1 <code>precondition failure</code> \u9519\u8bef\uff1b\u5982\u679c\u5c5e\u6027\u6216\u7528\u6237\u5c5e\u6027\u540d\u79f0\u65e0\u6548\uff0c\u8be5\u5c5e\u6027\u5c06\u88ab\u4e22\u5f03\uff0c\u5e76\u8bb0\u5f55\u9519\u8bef\u3002</p> </li> <li> <p>\u4e0d\u8981\u4f7f\u7528 <code>_</code> \u4f5c\u4e3a\u4e8b\u4ef6\u540d\u79f0\u548c\u5c5e\u6027\u540d\u79f0\u7684\u524d\u7f00\uff0c<code>_</code> \u524d\u7f00\u662f Clickstream Analytics \u4fdd\u7559\u7684\u3002</p> </li> <li> <p>\u4e8b\u4ef6\u540d\u79f0\u548c\u5c5e\u6027\u540d\u79f0\u533a\u5206\u5927\u5c0f\u5199\u3002\u56e0\u6b64\uff0c\u4e8b\u4ef6 <code>Add_to_cart</code> \u548c <code>add_to_cart</code> \u5c06\u88ab\u89c6\u4e3a\u4e24\u4e2a\u4e0d\u540c\u7684\u4e8b\u4ef6\u3002</p> </li> </ol>"},{"location":"sdk-manual/swift/#_12","title":"\u4e8b\u4ef6\u548c\u5c5e\u6027\u9650\u5236","text":"<p>\u4e3a\u4e86\u63d0\u9ad8\u67e5\u8be2\u548c\u5206\u6790\u7684\u6548\u7387\uff0c\u6211\u4eec\u9700\u8981\u5bf9\u4e8b\u4ef6\u8fdb\u884c\u4ee5\u4e0b\u9650\u5236\uff1a</p> \u540d\u79f0 \u5efa\u8bae \u786c\u9650\u5236 \u8d85\u8fc7\u9650\u5236\u7684\u5904\u7406\u7b56\u7565 \u9519\u8bef\u7801 \u4e8b\u4ef6\u540d\u79f0\u5408\u89c4 -- -- \u4e22\u5f03\u8be5\u4e8b\u4ef6\uff0c\u6253\u5370\u65e5\u5fd7\u5e76\u8bb0\u5f55<code>_clickstream_error</code>\u4e8b\u4ef6 1001 \u4e8b\u4ef6\u540d\u79f0\u957f\u5ea6 25 \u4e2a\u5b57\u7b26\u4ee5\u4e0b 50 \u4e2a\u5b57\u7b26 \u4e22\u5f03\u8be5\u4e8b\u4ef6\uff0c\u6253\u5370\u65e5\u5fd7\u5e76\u8bb0\u5f55<code>_clickstream_error</code>\u4e8b\u4ef6 1002 \u4e8b\u4ef6\u5c5e\u6027\u540d\u79f0\u7684\u957f\u5ea6 25 \u4e2a\u5b57\u7b26\u4ee5\u4e0b 50 \u4e2a\u5b57\u7b26 \u4e22\u5f03\u8be5\u5c5e\u6027\u3001\u6253\u5370\u65e5\u5fd7\u5e76\u5728\u4e8b\u4ef6\u5c5e\u6027\u4e2d\u8bb0\u5f55\u9519\u8bef 2001 \u5c5e\u6027\u540d\u79f0\u5408\u89c4 -- -- \u4e22\u5f03\u8be5\u5c5e\u6027\u3001\u6253\u5370\u65e5\u5fd7\u5e76\u5728\u4e8b\u4ef6\u5c5e\u6027\u4e2d\u8bb0\u5f55\u9519\u8bef 2002 \u4e8b\u4ef6\u5c5e\u6027\u503c\u7684\u957f\u5ea6 \u5c11\u4e8e 100 \u4e2a\u5b57\u7b26 1024 \u4e2a\u5b57\u7b26 \u4e22\u5f03\u8be5\u5c5e\u6027\u3001\u6253\u5370\u65e5\u5fd7\u5e76\u5728\u4e8b\u4ef6\u5c5e\u6027\u4e2d\u8bb0\u5f55\u9519\u8bef 2003 \u6bcf\u4e2a\u4e8b\u4ef6\u7684\u4e8b\u4ef6\u5c5e\u6027 50 \u5c5e\u6027\u4ee5\u4e0b 500 evnet \u5c5e\u6027 \u4e22\u5f03\u8d85\u8fc7\u9650\u5236\u7684\u5c5e\u6027\u3001\u6253\u5370\u65e5\u5fd7\u5e76\u5728\u4e8b\u4ef6\u5c5e\u6027\u4e2d\u8bb0\u5f55\u9519\u8bef 2004 \u7528\u6237\u5c5e\u6027\u6570 25\u5c81\u4ee5\u4e0b\u5c5e\u6027 100\u4e2a\u7528\u6237\u5c5e\u6027 \u4e22\u5f03\u8d85\u8fc7\u9650\u5236\u7684\u5c5e\u6027\u3001\u6253\u5370\u65e5\u5fd7\u5e76\u8bb0\u5f55<code>_clickstream_error</code>\u4e8b\u4ef6 3001 \u7528\u6237\u5c5e\u6027\u540d\u79f0\u7684\u957f\u5ea6 25 \u4e2a\u5b57\u7b26\u4ee5\u4e0b 50 \u4e2a\u5b57\u7b26 \u4e22\u5f03\u8be5\u5c5e\u6027\u3001\u6253\u5370\u65e5\u5fd7\u5e76\u8bb0\u5f55<code>_clickstream_error</code>\u4e8b\u4ef6 3002 \u7528\u6237\u5c5e\u6027\u540d\u79f0\u5408\u89c4 -- -- \u4e22\u5f03\u8be5\u5c5e\u6027\u3001\u6253\u5370\u65e5\u5fd7\u5e76\u8bb0\u5f55<code>_clickstream_error</code>\u4e8b\u4ef6 3003 \u7528\u6237\u5c5e\u6027\u503c\u7684\u957f\u5ea6 50 \u4e2a\u5b57\u7b26\u4ee5\u4e0b 256 \u4e2a\u5b57\u7b26 \u4e22\u5f03\u8be5\u5c5e\u6027\u3001\u6253\u5370\u65e5\u5fd7\u5e76\u8bb0\u5f55<code>_clickstream_error</code>\u4e8b\u4ef6 3004 <p>\u91cd\u8981\u63d0\u793a</p> <ul> <li>\u5b57\u7b26\u9650\u5236\u5bf9\u4e8e\u5355\u5b57\u8282\u5b57\u7b26\u8bed\u8a00\uff08\u4f8b\u5982\u82f1\u8bed\uff09\u548c\u53cc\u5b57\u8282\u5b57\u7b26\u8bed\u8a00\uff08\u4f8b\u5982\u4e2d\u6587\uff09\u662f\u76f8\u540c\u7684\u3002</li> <li>\u4e8b\u4ef6\u5c5e\u6027\u6570\u5305\u62ec\u4e8b\u4ef6\u4e2d\u516c\u5171\u5c5e\u6027\u548c\u9884\u8bbe\u5c5e\u6027\u3002</li> <li>\u5982\u679c\u6dfb\u52a0\u4e86\u5177\u6709\u76f8\u540c\u540d\u79f0\u7684\u5c5e\u6027\u6216\u7528\u6237\u5c5e\u6027\u8d85\u8fc7\u4e24\u6b21\uff0c\u5c06\u4f7f\u7528\u6700\u65b0\u7684\u503c\u3002</li> <li>\u8d85\u8fc7\u9650\u5236\u7684\u6240\u6709\u9519\u8bef\u90fd\u4f1a\u5728\u4e8b\u4ef6attributes\u91cc\u8bb0\u5f55 <code>_error_code</code> \u548c <code>_error_message</code> \u8fd9\u4e24\u4e2a\u5b57\u6bb5\u3002</li> </ul>"},{"location":"sdk-manual/swift/#_13","title":"\u9884\u7f6e\u4e8b\u4ef6","text":""},{"location":"sdk-manual/swift/#_14","title":"\u81ea\u52a8\u6536\u96c6\u7684\u4e8b\u4ef6","text":"\u4e8b\u4ef6\u540d\u79f0 \u89e6\u53d1\u65f6\u673a \u4e8b\u4ef6\u5c5e\u6027 _first_open \u5f53\u7528\u6237\u5b89\u88c5\u540e\u7b2c\u4e00\u6b21\u542f\u52a8\u5e94\u7528\u7a0b\u5e8f\u65f6 _session_start \u5f53\u7528\u6237\u9996\u6b21\u6253\u5f00App\u6216\u7528\u6237\u5728 30 \u5206\u949f\u4e0d\u6d3b\u52a8\u540e\u8fd4\u56deApp\u65f6\uff0c\u4e86\u89e3\u66f4\u591a 1. _session_id 2. _session_start_timestamp _screen_view \u5f53\u65b0\u7684\u5c4f\u5e55\u6253\u5f00\u65f6\uff0c\u4e86\u89e3\u66f4\u591a 1. _screen_name 2. _screen_id 3. _screen_unique_id 4. _previous_screen_name5. _previous_screen_id6. _previous_screen_unique_id7. _entrances8. _previous_timestamp9. _engagement_time_msec _user_engagement \u5f53\u7528\u6237\u79bb\u5f00\u5f53\u524d\u5c4f\u5e55\u5e76\u4e14\u5c4f\u5e55\u5904\u4e8e\u7126\u70b9\u72b6\u6001\u81f3\u5c11\u4e00\u79d2\u949f\u65f6\uff0c\u4e86\u89e3\u66f4\u591a 1. _engagement_time_msec _app_start \u6bcf\u6b21App\u53d8\u4e3a\u53ef\u89c1\u65f6 1. _is_first_time(\u5f53\u5e94\u7528\u7a0b\u5e8f\u542f\u52a8\u540e\u7b2c\u4e00\u4e2a <code>_app_start</code> \u4e8b\u4ef6\u65f6\uff0c\u503c\u4e3a <code>true</code> ) _app_end \u6bcf\u6b21App\u53d8\u4e3a\u4e0d\u53ef\u89c1\u65f6 _profile_set \u5f53\u8c03\u7528 <code>addUserAttributes()</code> \u6216 <code>setUserId()</code> API \u65f6 _app_exception \u5f53\u5e94\u7528\u7a0b\u5e8f\u5d29\u6e83\u65f6 1. _exception_message2. _exception_stack _app_update \u5f53App\u66f4\u65b0\u5230\u65b0\u7248\u672c\u5e76\u518d\u6b21\u542f\u52a8\u65f6 1. _previous_app_version _os_update \u5f53iOS\u64cd\u4f5c\u7cfb\u7edf\u66f4\u65b0\u5230\u65b0\u7248\u672c\u65f6 1. _previous_os_version _clickstream_error event_name \u65e0\u6548\u6216\u7528\u6237\u5c5e\u6027\u65e0\u6548\u65f6 1. _error_code 2. _error_message"},{"location":"sdk-manual/swift/#_15","title":"\u4f1a\u8bdd\u5b9a\u4e49","text":"<p>\u5728 Clickstream Swift SDK \u4e2d\uff0c\u6211\u4eec\u4e0d\u9650\u5236\u4f1a\u8bdd\u7684\u603b\u65f6\u95f4\uff0c\u53ea\u8981App\u4e0b\u6b21\u8fdb\u5165\u548c\u6700\u540e\u4e00\u6b21\u9000\u51fa\u4e4b\u95f4\u7684\u65f6\u95f4\u5728\u5141\u8bb8\u7684\u8d85\u65f6\u65f6\u95f4\u5185\uff0c\u6211\u4eec\u5c31\u8ba4\u4e3a\u5f53\u524d\u4f1a\u8bdd\u662f\u8fde\u7eed\u7684\u3002</p> <p>\u5f53App\u7b2c\u4e00\u6b21\u6253\u5f00\uff0c\u6216\u8005App\u6253\u5f00\u5230\u524d\u53f0\u5e76\u4e14\u6700\u540e\u4e00\u6b21\u9000\u51fa\u4e4b\u95f4\u7684\u65f6\u95f4\u8d85\u8fc7\u4e86 <code>session_time_out</code> \u7684\u65f6\u957f\u65f6\uff0c\u4f1a\u89e6\u53d1 <code>_session_start</code> \u4e8b\u4ef6\u3002 \u4ee5\u4e0b\u662f\u4e0esession\u76f8\u5173\u7684\u5c5e\u6027\u3002</p> <ol> <li>_session_id\uff1a\u6211\u4eec\u901a\u8fc7uniqueId\u7684\u540e8\u4e2a\u5b57\u7b26\u548c\u5f53\u524d\u6beb\u79d2\u503c\u62fc\u63a5\u6765\u8ba1\u7b97\u4f1a\u8bddid\uff0c\u4f8b\u5982: dc7a7a18-20230905-131926703</li> <li>_session_duration\uff1a \u6211\u4eec\u901a\u8fc7 <code>_session_start_timestamp</code> \u51cf\u53bb\u5f53\u524d\u4e8b\u4ef6\u521b\u5efa\u65f6\u95f4\u6233\u6765\u8ba1\u7b97\u4f1a\u8bdd\u6301\u7eed\u65f6\u95f4\uff0c\u8be5\u5c5e\u6027\u5c06\u6dfb\u52a0\u5230\u4f1a\u8bdd\u671f\u95f4\u7684\u6bcf\u4e2a\u4e8b\u4ef6\u4e2d\u3002</li> <li>_session_number\uff1a\u5f53\u524d\u8bbe\u5907\u7684\u4f1a\u8bdd\u6570\u7684\u81ea\u52a8\u9012\u589e\u503c\uff0c\u521d\u59cb\u503c\u4e3a1</li> <li>Session timeout duration\uff1a\u9ed8\u8ba4\u4e3a30\u5206\u949f\uff0c\u53ef\u4ee5\u901a\u8fc7\u66f4\u65b0\u914d\u7f6e api\u6765\u81ea\u5b9a\u4e49\u3002</li> </ol>"},{"location":"sdk-manual/swift/#_16","title":"\u5c4f\u5e55\u6d4f\u89c8\u5b9a\u4e49","text":"<p>\u5728Clickstream Swift SDK\u4e2d\uff0c\u6211\u4eec\u5c06 <code>_screen_view</code> \u5b9a\u4e49\u4e3a\u8bb0\u5f55\u7528\u6237\u5c4f\u5e55\u6d4f\u89c8\u8def\u5f84\u7684\u4e8b\u4ef6\uff0c\u5f53\u5c4f\u5e55\u5207\u6362\u5f00\u59cb\u65f6\uff0c\u6ee1\u8db3\u4ee5\u4e0b\u4efb\u4f55\u6761\u4ef6\u65f6\u5c06\u4f1a\u8bb0\u5f55 <code>_screen_view</code> \u4e8b\u4ef6\uff1a</p> <ol> <li>\u4e4b\u524d\u6ca1\u6709\u8bbe\u7f6e\u8fc7\u5c4f\u5e55\u3002</li> <li>\u65b0\u7684\u5c4f\u5e55\u7c7b\u540d\u4e0e\u4e4b\u524d\u7684\u5c4f\u5e55\u7c7b\u540d\u4e0d\u540c\u3002</li> <li>\u65b0\u7684\u5c4f\u5e55\u7684\u8def\u5f84\u4e0e\u4e4b\u524d\u7684\u5c4f\u5e55\u7684\u8def\u5f84\u4e0d\u540c\u3002</li> <li>\u65b0\u7684\u5c4f\u5e55\u552f\u4e00id\u4e0e\u4e4b\u524d\u7684\u5c4f\u5e55\u552f\u4e00id\u4e0d\u540c\u3002</li> </ol> <p>\u8be5\u4e8b\u4ef6\u76d1\u542cUIViewController\u7684 <code>onViewDidAppear</code> \u751f\u547d\u5468\u671f\u65b9\u6cd5\u6765\u5224\u65ad\u5c4f\u5e55\u5207\u6362\u3002 \u4e3a\u4e86\u8ddf\u8e2a\u5c4f\u5e55\u6d4f\u89c8\u8def\u5f84\uff0c\u6211\u4eec\u4f7f\u7528 <code>_previous_screen_name</code> \u3001 <code>_previous_screen_id</code> \u548c <code>_previous_screen_unique_id</code> \u6765\u5173\u8054\u524d\u4e00\u4e2a\u5c4f\u5e55\u3002 \u6b64\u5916\uff0c\u5c4f\u5e55\u6d4f\u89c8\u4e8b\u4ef6\u4e2d\u8fd8\u6709\u4e00\u4e9b\u5176\u4ed6\u5c5e\u6027\u3002</p> <ol> <li>_screen_unique_id\uff1a\u6211\u4eec\u901a\u8fc7\u83b7\u53d6\u5f53\u524d\u5c4f\u5e55\u7684\u54c8\u5e0c\u503c\u6765\u8ba1\u7b97\u5c4f\u5e55\u552f\u4e00id\uff0c\u4f8b\u5982\uff1a\"5260751568\"\u3002</li> <li>_entrances\uff1a \u4f1a\u8bdd\u4e2d\u7684\u7b2c\u4e00\u4e2a\u5c4f\u5e55\u6d4f\u89c8\u4e8b\u4ef6\u8be5\u503c\u4e3a 1\uff0c\u5176\u4ed6\u5219\u4e3a 0</li> <li>_previous_timestamp: \u4e0a\u4e00\u4e2a <code>screen_view</code> \u4e8b\u4ef6\u7684\u65f6\u95f4\u6233\u3002</li> <li>_engagement_time_msec: \u4e0a\u4e2a\u5c4f\u5e55\u6700\u540e\u4e00\u6b21\u7528\u6237\u53c2\u4e0e\u4e8b\u4ef6\u65f6\u957f\u7684\u6beb\u79d2\u6570\u3002</li> </ol>"},{"location":"sdk-manual/swift/#_17","title":"\u7528\u6237\u53c2\u4e0e\u5ea6\u5b9a\u4e49","text":"<p>\u5728Clickstream Swift SDK\u4e2d\uff0c\u6211\u4eec\u5c06 <code>_user_engagement</code> \u5b9a\u4e49\u4e3a\u8bb0\u5f55\u5c4f\u5e55\u6d4f\u89c8\u65f6\u95f4\u7684\u4e8b\u4ef6\uff0c\u5e76\u4e14\u4ec5\u5f53\u7528\u6237\u79bb\u5f00\u5c4f\u5e55\u5e76\u4e14\u5728\u8be5\u5c4f\u5e55\u505c\u7559\u81f3\u5c11\u4e00\u79d2\u65f6\u53d1\u9001\u3002</p> <p>\u6211\u4eec\u5b9a\u4e49\u7528\u6237\u5728\u4ee5\u4e0b\u60c5\u51b5\u4e0b\u79bb\u5f00\u5c4f\u5e55\u3002</p> <ol> <li>\u5f53\u7528\u6237\u5bfc\u822a\u5230\u53e6\u4e00\u4e2a\u5c4f\u5e55\u65f6\u3002</li> <li>\u7528\u6237\u5c06App\u9000\u5230\u540e\u53f0\u65f6\u3002</li> <li>\u7528\u6237\u9000\u51faApp\uff0c\u6216\u8005\u6740\u6b7bApp\u8fdb\u7a0b\u65f6\u3002</li> </ol> <p>engagement_time_msec\uff1a\u4ece\u5c4f\u5e55\u53ef\u89c1\u5230\u7528\u6237\u79bb\u5f00\u5c4f\u5e55\u7684\u6beb\u79d2\u6570\u3002</p>"},{"location":"sdk-manual/swift/#_18","title":"\u4e8b\u4ef6\u5c5e\u6027","text":""},{"location":"sdk-manual/swift/#_19","title":"\u4e8b\u4ef6\u7ed3\u6784\u793a\u4f8b","text":"<pre><code>{\n    \"app_id\": \"Shopping\",\n    \"app_package_name\": \"com.company.app\",\n    \"app_title\": \"Shopping\",\n    \"app_version\": \"1.0\",\n    \"brand\": \"apple\",\n    \"carrier\": \"UNKNOWN\",\n    \"country_code\": \"US\",\n    \"device_id\": \"A536A563-65BD-49BE-A6EC-6F3CE7AC8FBE\",\n    \"device_unique_id\": \"\",\n    \"event_id\": \"91DA4BBE-933F-4DFA-A489-8AEFBC7A06D8\",\n    \"event_type\": \"add_to_cart\",\n    \"hashCode\": \"63D7991D\",\n    \"locale\": \"en_US\",\n    \"make\": \"apple\",\n    \"model\": \"iPhone 14 Pro\",\n    \"network_type\": \"WIFI\",\n    \"os_version\": \"16.4\",\n    \"platform\": \"iOS\",\n    \"screen_height\": 2556,\n    \"screen_width\": 1179,\n    \"sdk_name\": \"aws-solution-clickstream-sdk\",\n    \"sdk_version\": \"0.4.1\",\n    \"system_language\": \"en\",\n    \"timestamp\": 1685082174195,\n    \"unique_id\": \"0E6614B7-2D2C-4774-AB2F-B0A9E6C3BFAC\",\n    \"zone_offset\": 28800000,\n    \"user\": {\n        \"_user_city\": {\n            \"set_timestamp\": 1685006678437,\n            \"value\": \"Shanghai\"\n        },\n        \"_user_first_touch_timestamp\": {\n            \"set_timestamp\": 1685006678434,\n            \"value\": 1685006678432\n        },\n        \"_user_name\": {\n            \"set_timestamp\": 1685006678437,\n            \"value\": \"carl\"\n        }\n    },\n    \"attributes\": {\n        \"event_category\": \"recommended\",\n        \"currency\": \"CNY\",\n        \"_session_duration\": 15349,\n        \"_session_id\": \"0E6614B7-20230526-062238846\",\n        \"_session_number\": 3,\n        \"_session_start_timestamp\": 1685082158847,\n        \"_screen_name\": \"ProductDetailViewController\",\n        \"_screen_unique_id\": \"5260751568\"\n    }\n}\n</code></pre> <p>\u6240\u6709\u7528\u6237\u5c5e\u6027\u5c06\u51fa\u73b0\u5728 <code>user</code> \u5bf9\u8c61\u4e2d\uff0c\u6240\u6709\u81ea\u5b9a\u4e49\u548c\u5168\u5c40\u5c5e\u6027\u5c06\u5b58\u50a8\u5728 <code>attributes</code> \u5bf9\u8c61\u4e2d\u3002</p>"},{"location":"sdk-manual/swift/#_20","title":"\u516c\u5171\u5c5e\u6027","text":"\u5c5e\u6027 \u6570\u636e\u7c7b\u578b \u63cf\u8ff0 \u5982\u4f55\u751f\u6210 \u7528\u9014\u548c\u76ee\u7684 hashCode String \u4e8b\u4ef6\u5bf9\u8c61\u7684\u54c8\u5e0c\u7801 \u901a\u8fc7<code>String(format\uff1a\"%08X\", hasher.combine(eventjson))</code>\u751f\u6210 \u533a\u5206\u4e0d\u540c\u7684\u4e8b\u4ef6 app_id String \u60a8\u5e94\u7528\u7684app id app id \u662f\u5728\u60a8\u5c06\u5e94\u7528\u7a0b\u5e8f\u6ce8\u518c\u5230\u6570\u636e\u7ba1\u9053\u65f6\u7531\u70b9\u51fb\u6d41\u89e3\u51b3\u65b9\u6848\u751f\u6210\u7684 \u533a\u5206\u4e0d\u540capp\u7684\u4e8b\u4ef6 unique_id String \u7528\u6237\u7684\u552f\u4e00id sdk\u7b2c\u4e00\u6b21\u521d\u59cb\u5316\u65f6\u751f\u6210<code>UUID().uuidString</code>\u5f62\u5f0f\u5982\u679c\u7528\u6237\u6ce8\u9500\u7136\u540e\u767b\u5f55\u65b0\u7528\u6237\uff0c\u5b83\u5c06\u88ab\u66f4\u6539\u3002 \u5f53\u7528\u6237\u5728\u540c\u4e00\u8bbe\u5907\u4e2d\u91cd\u65b0\u767b\u5f55\u5230\u4ee5\u524d\u7684\u7528\u6237\u65f6\uff0cunique_id \u5c06\u91cd\u7f6e\u4e3a\u4e4b\u524d\u7684 unique_id \u552f\u4e00id\u6765\u6807\u8bc6\u4e0d\u540c\u7684\u7528\u6237\u5e76\u5173\u8054\u767b\u5f55\u548c\u672a\u767b\u5f55\u7684\u884c\u4e3a device_id String \u8bbe\u5907\u7684\u552f\u4e00id \u901a\u8fc7<code>UIDevice.current.identifierForVendor?.uuidString ?? UUID().uuidString</code>\u751f\u6210 \u5e94\u7528\u7a0b\u5e8f\u91cd\u65b0\u5b89\u88c5\u540e\u5c06\u66f4\u6539 \u533a\u5206\u4e0d\u540c\u8bbe\u5907 device_unique_id String \u8bbe\u5907\u5e7f\u544aid \u901a\u8fc7<code>ASIdentifierManager.shared().advertisingIdentifier.uuidString ?? \"\"</code>\u751f\u6210 \u533a\u5206\u4e0d\u540c\u8bbe\u5907 event_type String \u4e8b\u4ef6\u540d\u79f0 \u7531\u7528\u6237\u6216SDK\u8bbe\u7f6e \u533a\u5206\u4e0d\u540c\u7684\u4e8b\u4ef6\u7c7b\u578b event_id String \u4e8b\u4ef6\u7684\u552f\u4e00id \u4e8b\u4ef6\u521b\u5efa\u65f6\u901a\u8fc7<code>UUID().uuidString</code>\u751f\u6210 \u533a\u5206\u6bcf\u4e2a\u4e8b\u4ef6 timestamp Int64 \u4e8b\u4ef6\u521b\u5efa\u65f6\u95f4\u6233 \u4e8b\u4ef6\u521b\u5efa\u65f6\u901a\u8fc7<code>Date().timeIntervalSince1970 * 1000</code>\u751f\u6210 \u6570\u636e\u5206\u6790\u9700\u8981 platform String \u5e73\u53f0\u540d\u79f0 iOS \u8bbe\u5907\u59cb\u7ec8\u4e3a\"iOS\" \u6570\u636e\u5206\u6790\u9700\u8981 os_version String iOS \u64cd\u4f5c\u7cfb\u7edf\u7248\u672c \u901a\u8fc7<code>UIDevice.current.systemVersion</code>\u751f\u6210 \u6570\u636e\u5206\u6790\u9700\u8981 make String \u8bbe\u5907\u5236\u9020\u5546 iOS \u8bbe\u5907\u59cb\u7ec8\u662f\"apple\" \u6570\u636e\u5206\u6790\u9700\u8981 brand String \u8bbe\u5907\u54c1\u724c iOS \u8bbe\u5907\u59cb\u7ec8\u662f\"apple\" \u6570\u636e\u5206\u6790\u9700\u8981 model String \u8bbe\u5907\u578b\u53f7 \u901a\u8fc7\u8bbe\u5907\u6807\u8bc6\u7b26\u6620\u5c04\u8bbe\u5907\u7248\u672c\u751f\u6210 \u6570\u636e\u5206\u6790\u9700\u8981 carrier String \u8bbe\u5907\u7f51\u7edc\u8fd0\u8425\u5546\u540d\u79f0 \u901a\u8fc7<code>CTTelephonyNetworkInfo().serviceSubscriberCellularProviders?.first?.value</code>\u751f\u6210\u9ed8\u8ba4\u503c\u4e3a\uff1a\"UNKNOWN\" \u6570\u636e\u5206\u6790\u9700\u8981 network_type String \u5f53\u524d\u8bbe\u5907\u7f51\u7edc\u7c7b\u578b \"Mobile\", \"WIFI\" or \"UNKNOWN\"\u7531<code>NWPathMonitor</code> \u751f\u6210 \u6570\u636e\u5206\u6790\u9700\u8981 screen_height int \u5c4f\u5e55\u9ad8\u5ea6\uff08\u4ee5\u50cf\u7d20\u4e3a\u5355\u4f4d\uff09 \u901a\u8fc7<code>UIScreen.main.bounds.size.height * UIScreen.main.scale</code>\u751f\u6210 \u6570\u636e\u5206\u6790\u9700\u8981 screen_width int \u5c4f\u5e55\u5bbd\u5ea6\uff08\u4ee5\u50cf\u7d20\u4e3a\u5355\u4f4d\uff09 \u901a\u8fc7<code>UIScreen.main.bounds.size.width * UIScreen.main.scale</code>\u751f\u6210 \u6570\u636e\u5206\u6790\u9700\u8981 zone_offset int \u8bbe\u5907\u4e0e GMT \u7684\u539f\u59cb\u65f6\u533a\u504f\u79fb\u91cf\uff08\u4ee5\u6beb\u79d2\u4e3a\u5355\u4f4d\uff09 \u901a\u8fc7<code>TimeZone.current.secondsFromGMT()*1000</code>\u751f\u6210 \u6570\u636e\u5206\u6790\u9700\u8981 locale String \u6b64\u8bbe\u5907\u7684\u9ed8\u8ba4\u533a\u57df\u8bbe\u7f6e\uff08\u8bed\u8a00\u3001\u56fd\u5bb6/\u5730\u533a\u548c\u53d8\u4f53\uff09 \u901a\u8fc7<code>Locale.current</code>\u751f\u6210 \u6570\u636e\u5206\u6790\u9700\u8981 system_language String \u8bbe\u5907\u8bed\u8a00\u4ee3\u7801 \u901a\u8fc7<code>Locale.current.languageCode</code>\u751f\u6210 \u9ed8\u8ba4\u4e3a\uff1a\"UNKNOWN\" \u6570\u636e\u5206\u6790\u9700\u8981 country_code String \u8be5\u8bbe\u5907\u7684\u56fd\u5bb6/\u5730\u533a\u4ee3\u7801 \u901a\u8fc7<code>Locale.current.regionCode</code>\u751f\u6210\u9ed8\u8ba4\u503c\u4e3a\uff1a\"UNKNOWN\" \u6570\u636e\u5206\u6790\u9700\u8981 sdk_version String \u70b9\u51fb\u6d41sdk\u7248\u672c \u901a\u8fc7<code>PackageInfo.version</code>\u751f\u6210 \u6570\u636e\u5206\u6790\u9700\u8981 sdk_name String Clickstream SDK \u540d\u79f0 \u59cb\u7ec8\u4e3a\"aws-solution-clickstream-sdk\" \u6570\u636e\u5206\u6790\u9700\u8981 app_version String \u5e94\u7528\u7a0b\u5e8f\u7248\u672c\u540d\u79f0 \u901a\u8fc7<code>Bundle.main.infoDictionary[\"CFBundleShortVersionString\"] ?? \"\"</code>\u751f\u6210 \u6570\u636e\u5206\u6790\u9700\u8981 app_package_name String \u5e94\u7528\u7a0b\u5e8f\u5305\u540d\u79f0 \u901a\u8fc7<code>Bundle.main.infoDictionary[\"CFBundleIdentifier\"] ?? \"\"</code>\u751f\u6210 \u6570\u636e\u5206\u6790\u9700\u8981 app_title String \u5e94\u7528\u7a0b\u5e8f\u7684\u663e\u793a\u540d\u79f0 \u901a\u8fc7<code>Bundle.main.infoDictionary[\"CFBundleName\"] ?? \"\"</code>\u751f\u6210 \u6570\u636e\u5206\u6790\u9700\u8981"},{"location":"sdk-manual/swift/#_21","title":"\u7528\u6237\u5c5e\u6027","text":"\u5c5e\u6027\u540d\u79f0 \u63cf\u8ff0 _user_id \u4fdd\u7559\u7ed9\u7531\u5e94\u7528\u7a0b\u5e8f\u5206\u914d\u7684\u7528\u6237 ID _user_ltv_revenue \u4fdd\u7559\u7ed9\u7528\u6237\u751f\u547d\u5468\u671f\u4ef7\u503c _user_ltv_currency \u4fdd\u7559\u7ed9\u7528\u6237\u751f\u547d\u5468\u671f\u4ef7\u503c\u8d27\u5e01 _user_first_touch_timestamp \u7528\u6237\u9996\u6b21\u6253\u5f00\u5e94\u7528\u7a0b\u5e8f\u6216\u8bbf\u95ee\u7ad9\u70b9\u7684\u65f6\u95f4\uff08\u4ee5\u6beb\u79d2\u4e3a\u5355\u4f4d\uff09\uff0c\u5728 <code>user</code> \u5bf9\u8c61\u7684\u6bcf\u4e2a\u4e8b\u4ef6\u4e2d\u90fd\u5305\u542b\u6b64\u5c5e\u6027"},{"location":"sdk-manual/swift/#_22","title":"\u4e8b\u4ef6\u5c5e\u6027","text":"\u5c5e\u6027\u540d\u79f0 \u6570\u636e\u7c7b\u578b \u662f\u5426\u81ea\u52a8\u91c7\u96c6 \u63cf\u8ff0 _traffic_source_medium String \u5426 \u4fdd\u7559\u7ed9\u6d41\u91cf\u5a92\u4ecb\uff0c\u4f7f\u7528\u6b64\u5c5e\u6027\u5b58\u50a8\u4e8b\u4ef6\u8bb0\u5f55\u65f6\u83b7\u53d6\u7528\u6237\u7684\u5a92\u4ecb\uff0c\u4f8b\u5982\uff1a\u7535\u5b50\u90ae\u4ef6\u3001\u4ed8\u8d39\u641c\u7d22\u3001\u641c\u7d22\u5f15\u64ce _traffic_source_name String \u5426 \u4fdd\u7559\u7ed9\u6d41\u91cf\u540d\u79f0\uff0c\u4f7f\u7528\u6b64\u5c5e\u6027\u5b58\u50a8\u4e8b\u4ef6\u8bb0\u5f55\u65f6\u83b7\u53d6\u7528\u6237\u7684\u8425\u9500\u6d3b\u52a8\uff0c\u4f8b\u5982\uff1a\u590f\u5b63\u4fc3\u9500 _traffic_source_source String \u5426 \u4fdd\u7559\u7ed9\u6d41\u91cf\u6765\u6e90\uff0c\u4e8b\u4ef6\u62a5\u544a\u65f6\u83b7\u53d6\u7684\u7f51\u7edc\u6765\u6e90\u7684\u540d\u79f0\uff0c\u4f8b\u5982\uff1aGoogle, Facebook, Bing, Baidu _channel String \u5426 \u9884\u7559\u5b89\u88c5\u6e90\uff0capp\u4e0b\u8f7d\u7684\u6e20\u9053 _session_id String \u662f \u5728\u6240\u6709\u4e8b\u4ef6\u4e2d\u6dfb\u52a0 _session_start_timestamp long \u662f \u5728\u6240\u6709\u4e8b\u4ef6\u4e2d\u6dfb\u52a0 _session_duration long \u662f \u5728\u6240\u6709\u4e8b\u4ef6\u4e2d\u6dfb\u52a0 _session_number int \u662f \u5728\u6240\u6709\u4e8b\u4ef6\u4e2d\u6dfb\u52a0 _screen_name String \u662f \u5728\u6240\u6709\u4e8b\u4ef6\u4e2d\u6dfb\u52a0 _screen_unique_id String \u662f \u5728\u6240\u6709\u4e8b\u4ef6\u4e2d\u6dfb\u52a0"},{"location":"sdk-manual/swift/#sdk_3","title":"SDK\u66f4\u65b0\u65e5\u5fd7","text":"<p>\u53c2\u8003\uff1aGitHub \u66f4\u65b0\u65e5\u5fd7</p>"},{"location":"sdk-manual/swift/#_23","title":"\u53c2\u8003\u94fe\u63a5","text":"<p>SDK \u6e90\u7801</p> <p>SDK \u95ee\u9898</p> <p>API \u6587\u6863</p> <p>Objective-C Api \u6587\u6863</p>"},{"location":"sdk-manual/user-identifier/","title":"\u7528\u6237\u6807\u8bc6","text":"<p>\u5f53\u60a8\u8fdb\u884c\u6570\u636e\u5206\u6790\u65f6\uff0c\u901a\u5e38\u60a8\u9700\u8981\u6839\u636e\u60a8\u4e1a\u52a1\u5206\u6790\u7684\u573a\u666f\u6765\u9009\u62e9\u5408\u9002\u7684\u7684\u7528\u6237\u6807\u8bc6\u6765\u8fdb\u884c\u5206\u6790\u3002\u8fd9\u5c06\u6709\u52a9\u4e8e\u60a8\u63d0\u5347\u5206\u6790\u7684\u51c6\u786e\u6027\uff0c\u5c24\u5176\u662f\u5728\u6f0f\u6597\u3001\u7559\u5b58\u3001\u4f1a\u8bdd\u7b49\u5206\u6790\u573a\u666f\u3002</p> <p>\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u70b9\u51fb\u6d41\u5206\u6790\u89e3\u51b3\u65b9\u6848\u4e2d\u4e3b\u8981\u5305\u542b\u4e09\u79cd\u7c7b\u578b\u7684 ID\uff0c\u5206\u522b\u662f\uff1a</p> <ul> <li>\u7528\u6237 ID</li> <li>\u8bbe\u5907 ID</li> <li>\u8bbf\u5ba2 ID</li> </ul> <p>\u4e0b\u9762\u6211\u4eec\u5206\u522b\u6765\u4ecb\u7ecd\u4e0b\u8fd9\u4e09\u79cd ID\uff0c\u540c\u65f6\u60a8\u5c06\u4f1a\u8be6\u7ec6\u4e86\u89e3\u6211\u4eec\u662f\u5982\u4f55\u4f7f\u7528\u7528\u6237 ID \u548c\u8bbf\u5ba2 ID \u6765\u8fdb\u884c\u7528\u6237\u884c\u4e3a\u7684\u5173\u8054\u3002</p>"},{"location":"sdk-manual/user-identifier/#id","title":"\u7528\u6237 ID","text":"<p>\u7528\u6237 ID \u901a\u5e38\u662f\u60a8\u4e1a\u52a1\u6570\u636e\u5e93\u91cc\u63cf\u8ff0\u7528\u6237\u7684\u552f\u4e00\u6807\u8bc6\uff0c\u76f8\u5bf9\u6765\u8bf4\u66f4\u51c6\u786e\u548c\u552f\u4e00\u3002</p> <ul> <li>\u5f53\u7528\u6237\u672a\u6ce8\u518c\u6216\u672a\u767b\u5f55\u65f6\uff0c\u7528\u6237 ID \u7684\u503c\u4e3a\u7a7a\u3002</li> <li>SDK\u63d0\u4f9b <code>ClickstreamAnalytics.setUserId(\"your user id\")</code> \u65b9\u6cd5\u6765\u8fdb\u884c\u8bbe\u7f6e\u7528\u6237 ID\uff0c\u9000\u51fa\u767b\u5f55\u65f6\u901a\u8fc7\u8bbe\u7f6e <code>null/nil</code> \u6765\u6e05\u7a7a\u7528\u6237 ID\u3002</li> <li>\u7528\u6237 ID \u5b58\u5728 user \u8868\u91cc\u7684 user_id \u5b57\u6bb5\u4e2d\u3002</li> </ul>"},{"location":"sdk-manual/user-identifier/#id_1","title":"\u8bbe\u5907 ID","text":"<p>\u6211\u4eec\u901a\u8fc7\u8bbe\u5907 ID \u6765\u5bf9\u7528\u6237\u8bbe\u5907\u8fdb\u884c\u6807\u8bc6\u3002</p> <ul> <li>\u8bbe\u5907 ID \u5c06\u5728\u96c6\u6210 SDK \u540e\u7684\u7b2c\u4e00\u6b21\u542f\u52a8\u65f6\u81ea\u52a8\u751f\u6210\u3002</li> <li>\u8bbe\u5907 ID \u6709\u53ef\u80fd\u4e0d\u662f\u8bbe\u5907\u7684\u552f\u4e00\u6807\u8bc6\u7b26\uff0c\u901a\u5e38\u7528\u6237\u5728\u5378\u8f7dApp\uff0c\u6216\u8005\u5728\u7f51\u9875\u4e2d\u6e05\u9664\u7f13\u5b58\u540e\u8bbe\u5907 ID \u5c06\u53ef\u80fd\u91cd\u65b0\u751f\u6210\u3002</li> <li>\u8bbe\u5907 ID \u5b58\u5728 user \u8868\u91cc\u7684 <code>device_id_list</code> \u5b57\u6bb5\u4e2d\u3002</li> </ul> <p>\u4e0b\u8868\u5c06\u4ecb\u7ecd\u5404\u7aefSDK\u5982\u4f55\u751f\u6210\u8bbe\u5907 ID\u3002</p> SDK \u7c7b\u578b \u751f\u6210\u89c4\u5219 \u5b58\u50a8\u4f4d\u7f6e \u662f\u5426\u552f\u4e00 Android SDK \u9ed8\u8ba4\u4f7f\u7528 AndroidId \u4f5c\u4e3a\u8bbe\u5907 ID\uff0c\u5982\u679c AndroidId \u83b7\u53d6\u4e0d\u5230\u5219\u4f7f\u7528\u968f\u673a UUID \u4ee3\u66ff SharedPreference \u952e\u503c\u5bf9\u6587\u4ef6\u4e2d \u901a\u5e38 AndroidId \u4e0d\u4f1a\u56e0\u4e3a App \u5378\u8f7d\u800c\u6539\u53d8\u3002 \u5982\u679c\u83b7\u53d6\u7684\u662f UUID\uff0c\u5219\u7528\u6237\u5378\u8f7d App \u540e\u8bbe\u5907 ID \u4f1a\u6539\u53d8 Swift SDK \u5982\u679c\u7528\u6237\u5df2\u6388\u6743\u83b7\u53d6 IDFA \u5219\u4f7f\u7528 IDFA \u4f5c\u4e3a\u8bbe\u5907 ID\uff0c\u5426\u5219\u9ed8\u8ba4\u4f7f\u7528 IDFV \u4f5c\u4e3a\u8bbe\u5907 ID\uff0c\u5982\u679c IDFV \u83b7\u53d6\u4e0d\u5230\u5219\u4f7f\u7528\u968f\u673a UUID UserDefault \u952e\u503c\u5bf9\u6587\u4ef6\u4e2d \u901a\u5e38 IDFA \u4e0d\u4f1a\u56e0\u4e3a App \u5378\u8f7d\u800c\u6539\u53d8\u3002  IDFV \u548c UUID \u5f53\u7528\u6237\u5378\u8f7d App \u540e\uff0c\u8bbe\u5907 ID \u90fd\u4f1a\u6539\u53d8 Web SDK \u9ed8\u8ba4\u4f7f\u7528\u968f\u673a UUID \u6765\u4f5c\u4e3a\u8bbe\u5907 ID \u6d4f\u89c8\u5668\u7684 localStorage \u4e2d \u7528\u6237\u6e05\u9664\u6d4f\u89c8\u5668\u7f13\u5b58\u540e\u5c06\u4f1a\u91cd\u65b0\u751f\u6210\u8bbe\u5907 ID"},{"location":"sdk-manual/user-identifier/#id_2","title":"\u8bbf\u5ba2 ID","text":"<p>\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u70b9\u51fb\u6d41\u5206\u6790\u89e3\u51b3\u65b9\u6848\u4f7f\u7528\u8bbf\u5ba2 ID \u6765\u5bf9\u540c\u4e00\u4e2a\u8bbe\u5907\u4e0a\u7528\u6237\u767b\u5f55\u4e0e\u672a\u767b\u5f55\u7684\u884c\u4e3a\u8fdb\u884c\u5173\u8054\u3002</p> <ul> <li>\u8bbf\u5ba2 ID \u5728\u6240\u6709 SDK \u4e2d \u90fd\u662f\u901a\u8fc7\u968f\u673a UUID \u751f\u6210\u3002</li> <li>\u8bbf\u5ba2 ID \u53ea\u6709\u5728\u5f53\u524d\u8bbe\u5907\u4e0a\u767b\u5f55\u65b0\u7528\u6237\u65f6\u624d\u4f1a\u91cd\u65b0\u8d4b\u503c\uff0c\u5f53\u5207\u6362\u5230\u5f53\u524d\u8bbe\u5907\u4e4b\u524d\u5df2\u767b\u5f55\u8fc7\u7684\u7528\u6237\u65f6\u5c06\u6062\u590d\u4e3a\u4e4b\u524d\u7528\u6237\u7684\u8bbf\u5ba2 ID\u3002</li> <li>\u8bbf\u5ba2 ID \u5b58\u50a8\u5728 user \u8868\u7684 <code>user_pseudo_id</code> \u5b57\u6bb5\u4e2d\u3002</li> </ul> <p>\u4e0b\u8868\u5217\u51fa\u4e86\u5404\u79cd\u60c5\u51b5\u4e0b\u8bbe\u5907 ID\uff0c\u7528\u6237 ID\uff0c\u8bbf\u5ba2 ID \u7684\u5bf9\u5e94\u5173\u7cfb\u3002</p> \u5e8f\u5217 \u4e8b\u4ef6 \u8bbe\u5907 ID \u7528\u6237 ID \u8bbf\u5ba2 ID 1 \u5b89\u88c5 App S -- 1 2 \u4f7f\u7528 App S -- 1 3 \u767b\u5f55\u7528\u6237 A S A 1 4 \u4f7f\u7528 App S A 1 5 \u9000\u51fa\u767b\u5f55\uff0c\u6d4f\u89c8 S -- 1 6 \u767b\u5f55\u7528\u6237 B S B 2 7 \u4f7f\u7528 App S B 2 8 \u9000\u51fa\u767b\u5f55\uff0c\u6d4f\u89c8 S -- 2 9 \u767b\u5f55\u7528\u6237 A S A 1 10 \u4f7f\u7528App S A 1 11 \u9000\u51fa\u767b\u5f55\uff0c\u6d4f\u89c8 S -- 1 12 \u767b\u5f55\u7528\u6237 C S C 3 13 \u4f7f\u7528App S C 3 <p>\u901a\u8fc7\u4e0a\u8868\u60a8\u53ef\u4ee5\u770b\u5230\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u67e5\u627e\u8bbf\u5ba2 ID=1 \u6765\u7edf\u8ba1\u5230\u8bbe\u5907 S \u4e0a\u7528\u6237 A \u4e24\u6b21\u4f7f\u7528\u8fc7\u7a0b\u4e2d\u672a\u767b\u5f55\u548c\u767b\u5f55\u4e4b\u540e\u7684\u6240\u6709\u884c\u4e3a\u4e8b\u4ef6\u3002\u6b64\u5916\uff0c\u60a8\u4e5f\u53ef\u4ee5\u4f7f\u7528\u7528\u6237 ID \u5c06\u7528\u6237\u7684\u70b9\u51fb\u6d41\u6570\u636e\u4e0e\u60a8\u4e1a\u52a1\u7cfb\u7edf\u4e2d\u7684\u6570\u636e\u8fdb\u884c\u8054\u5408\u5206\u6790\uff0c\u4ece\u800c\u6784\u5efa\u66f4\u5b8c\u6574\u7684\u5ba2\u6237\u6570\u636e\u5e73\u53f0\u3002</p> <p>\u63d0\u793a</p> <p>\u5f53\u7528\u6237\u5378\u8f7d App \u6216\u6e05\u9664\u6d4f\u89c8\u5668\u7f13\u5b58\u540e\uff0c\u539f\u6709\u7684\u8bbf\u5ba2 ID \u4e0e\u7528\u6237 ID \u7684\u5173\u8054\u5173\u7cfb\u5728\u8bbe\u5907\u7aef\u5c06\u6e05\u7a7a\uff0c\u540c\u65f6\u5728\u8bbe\u5907\u4e0a\u4f1a\u751f\u6210\u65b0\u7684\u8bbf\u5ba2 ID\u3002</p>"},{"location":"sdk-manual/web/","title":"Clickstream Web SDK","text":""},{"location":"sdk-manual/web/#_1","title":"\u4ecb\u7ecd","text":"<p>Clickstream Web SDK \u53ef\u4ee5\u5e2e\u52a9\u60a8\u8f7b\u677e\u5c06Web\u7f51\u7ad9\u91cc\u7684\u70b9\u51fb\u6d41\u6570\u636e\u53d1\u9001\u5230\u60a8\u914d\u7f6e\u7684\u89e3\u51b3\u65b9\u6848\u6570\u636e\u7ba1\u9053\u3002</p> <p>\u8be5 SDK \u57fa\u4e8e amplify-js SDK\u6838\u5fc3\u5e93\uff0c\u6309\u7167amplify-js SDK\u63d2\u4ef6\u89c4\u8303\u5f00\u53d1\u3002\u6b64\u5916\uff0c\u8be5 SDK \u8fd8\u914d\u5907\u4e86\u81ea\u52a8\u6536\u96c6\u5e38\u89c1\u7528\u6237\u4e8b\u4ef6\u548c\u5c5e\u6027\uff08\u4f8b\u5982\u9875\u9762\u6d4f\u89c8\u3001\u9996\u6b21\u6253\u5f00\uff09\u7684\u529f\u80fd\uff0c\u4ee5\u7b80\u5316\u7528\u6237\u7684\u6570\u636e\u6536\u96c6\u3002</p>"},{"location":"sdk-manual/web/#sdk","title":"\u96c6\u6210 SDK","text":""},{"location":"sdk-manual/web/#sdk_1","title":"\u521d\u59cb\u5316 SDK","text":"\u4f7f\u7528 NPM\u4f7f\u7528 JS \u6587\u4ef6 <p>1.\u5b89\u88c5 SDK</p> <pre><code>npm install @aws/clickstream-web\n</code></pre> <p>2.\u521d\u59cb\u5316 SDK</p> <p>\u4f7f\u7528\u524d\u9700\u8981\u914d\u7f6eSDK\u9ed8\u8ba4\u4fe1\u606f\u3002\u4ece\u70b9\u51fb\u6d41\u89e3\u51b3\u65b9\u6848 Web \u63a7\u5236\u53f0\u590d\u5236\u521d\u59cb\u5316\u4ee3\u7801\uff0c\u6211\u4eec\u5efa\u8bae\u60a8\u5c06\u4ee3\u7801\u6dfb\u52a0\u5230\u5e94\u7528\u7a0b\u5e8f\u7684\u5165\u53e3\u5904\uff0c\u4f8b\u5982 React \u4e2d\u7684<code>index.js/app.tsx</code>\u6216 Vue/Angular \u4e2d\u7684<code>main.ts</code>\uff0c\u521d\u59cb\u5316\u4ee3\u7801\u5982\u4e0b\u6240\u793a:</p> <pre><code>import { ClickstreamAnalytics } from '@aws/clickstream-web';\n\nClickstreamAnalytics.init({\n   appId: \"your appId\",\n   endpoint: \"https://example.com/collect\",\n});\n</code></pre> <p>\u60a8\u7684 <code>appId</code> \u548c <code>endpoint</code> \u5df2\u7ecf\u8bbe\u7f6e\u597d\u4e86, \u5728 Clickstream Analytics \u89e3\u51b3\u65b9\u6848\u63a7\u5236\u53f0\u4e2d\u5c06\u5e94\u7528\u7a0b\u5e8f\u6ce8\u518c\u5230\u6570\u636e\u7ba1\u9053\u540e\uff0c\u60a8\u8fd8\u53ef\u4ee5\u624b\u52a8\u6dfb\u52a0\u6b64\u4ee3\u7801\u6bb5\u5e76\u66ff\u6362 appId \u548c endpoint \u7684\u503c\u3002</p> <p>1.\u5728 GitHub \u7248\u672c\u53d1\u5e03\u9875\u9762\u7684\u9644\u4ef6\u4e2d\u4e0b\u8f7d <code>clickstream-web.min.js</code>\u6587\u4ef6\uff0c\u7136\u540e\u62f7\u8d1d\u5230\u60a8\u7684\u9879\u76ee\u4e2d\u3002</p> <p>2.\u5c06\u4ee5\u4e0b\u521d\u59cb\u4ee3\u7801\u6dfb\u52a0\u5230<code>index.html</code>\u4e2d\u3002</p> <pre><code>&lt;script src=\"clickstream-web.min.js\"&gt;&lt;/script&gt;\n&lt;script&gt;\n    window.ClickstreamAnalytics.init({\n        appId: 'your appId',\n        endpoint: 'https://example.com/collect',\n    })\n&lt;/script&gt;\n</code></pre> <p>\u60a8\u53ef\u4ee5\u5728 Clickstream \u89e3\u51b3\u65b9\u6848\u63a7\u5236\u53f0\u5e94\u7528\u7a0b\u5e8f\u7684\u8be6\u60c5\u4fe1\u606f\u9875\u9762\u4e2d\u627e\u5230 <code>appId</code> \u548c <code>endpoint</code> \u3002</p> <p>\u5982\u679c\u60a8\u8981\u5ef6\u8fdf\u52a0\u8f7d SDK\uff0c\u8bf7\u5728 <code>&lt;script&gt;</code> \u6807\u7b7e\u4e2d\u4f7f\u7528 <code>async</code> \u5c5e\u6027\uff0c\u5e76\u5c06<code>ClickstreamAnalytics.init()</code> \u65b9\u6cd5\u653e\u5728 <code>window.onload</code>\u6216 <code>DOMContentLoaded</code> \u4e4b\u540e\u3002</p>"},{"location":"sdk-manual/web/#_2","title":"\u5f00\u59cb\u4f7f\u7528","text":""},{"location":"sdk-manual/web/#_3","title":"\u8bb0\u5f55\u4e8b\u4ef6","text":"<p>\u5728\u9700\u8981\u62a5\u544a\u4e8b\u4ef6\u7684\u4f4d\u7f6e\u6dfb\u52a0\u4ee5\u4e0b\u4ee3\u7801\u3002</p> <pre><code>import { ClickstreamAnalytics } from '@aws/clickstream-web';\n\n// \u8bb0\u5f55\u5e26\u5c5e\u6027\u7684\u4e8b\u4ef6\nClickstreamAnalytics.record({\n  name: 'button_click',\n  attributes: { \n    category: 'shoes', \n    currency: 'CNY',\n    value: 279.9,\n  }\n});\n\n//\u8bb0\u5f55\u53ea\u5e26\u6709\u4e8b\u4ef6\u540d\u7684\u4e8b\u4ef6\nClickstreamAnalytics.record({ name: 'button_click' });\n</code></pre>"},{"location":"sdk-manual/web/#_4","title":"\u767b\u5f55\u548c\u767b\u51fa","text":"<pre><code>import { ClickstreamAnalytics } from '@aws/clickstream-web';\n\n// \u5f53\u7528\u6237\u767b\u5f55\u6210\u529f\u540e\u8c03\u7528\nClickstreamAnalytics.setUserId(\"1234\");\n\n// \u5f53\u7528\u6237\u9000\u51fa\u767b\u5f55\u65f6\u8c03\u7528\nClickstreamAnalytics.setUserId(null);\n</code></pre>"},{"location":"sdk-manual/web/#_5","title":"\u6dfb\u52a0\u7528\u6237\u5c5e\u6027","text":"<pre><code>ClickstreamAnalytics.setUserAttributes({\n  userName:\"carl\",\n  userAge: 22\n});\n</code></pre> <p>\u5f53\u524d\u767b\u5f55\u7528\u6237\u7684\u5c5e\u6027\u4f1a\u7f13\u5b58\u5728 <code>localStorage</code> \u4e2d\uff0c\u56e0\u6b64\u5728\u4e0b\u6b21\u6d4f\u89c8\u5668\u6253\u5f00\u65f6\u4e0d\u9700\u8981\u518d\u6b21\u8bbe\u7f6e\u6240\u6709\u7684\u7528\u6237\u5c5e\u6027\uff0c\u5f53\u7136\u60a8\u53ef\u4ee5\u4f7f\u7528\u76f8\u540c\u7684 api <code>ClickstreamAnalytics.setUserAttributes()</code> \u5728\u5f53\u7528\u6237\u5c5e\u6027\u6539\u53d8\u65f6\u6765\u66f4\u65b0\u5f53\u524d\u7528\u6237\u7684\u5c5e\u6027\u3002</p> <p>\u91cd\u8981\u63d0\u793a</p> <p>\u5982\u679c\u60a8\u7684\u5e94\u7528\u5df2\u7ecf\u4e0a\u7ebf\uff0c\u8fd9\u65f6\u5927\u90e8\u5206\u7528\u6237\u5df2\u7ecf\u767b\u5f55\u8fc7\uff0c\u5219\u7b2c\u4e00\u6b21\u63a5\u5165Clickstrema SDK\u65f6\u8bf7\u624b\u52a8\u8bbe\u7f6e\u4e00\u6b21\u7528\u6237\u5c5e\u6027\uff0c\u786e\u4fdd\u540e\u7eed\u4e8b\u4ef6\u90fd\u5e26\u6709\u7528\u6237\u5c5e\u6027\u3002</p>"},{"location":"sdk-manual/web/#item","title":"\u8bb0\u5f55\u5e26\u6709Item\u7684\u4e8b\u4ef6","text":"<p>\u60a8\u53ef\u4ee5\u6dfb\u52a0\u4ee5\u4e0b\u4ee3\u7801\u6765\u8bb0\u5f55\u5e26\u6709Item\u7684\u4e8b\u4ef6\u3002</p> <pre><code>import { ClickstreamAnalytics, Item } from '@aws/clickstream-web';\n\nconst itemBook: Item = {\n  id: '123',\n  name: 'Nature',\n  category: 'book',\n  price: 99,\n};\n\nClickstreamAnalytics.record({\n  name: 'view_item',\n  attributes: {\n    currency: 'USD',\n    event_category: 'recommended',\n  },\n  items: [itemBook],\n});\n</code></pre> <p>\u8981\u8bb0\u5f55Item\u4e2d\u7684\u66f4\u591a\u5c5e\u6027\uff0c\u8bf7\u53c2\u9605 Item \u5c5e\u6027.</p>"},{"location":"sdk-manual/web/#_6","title":"\u5728\u5904\u4e8e\u6279\u91cf\u53d1\u9001\u6a21\u5f0f\u65f6\u53d1\u9001\u5b9e\u65f6\u4e8b\u4ef6","text":"<p>\u5f53\u60a8\u5904\u4e8e\u6279\u5904\u7406\u6a21\u5f0f\u65f6\uff0c\u60a8\u4ecd\u7136\u53ef\u4ee5\u901a\u8fc7\u5c06 <code>isImmediate</code>\u5c5e\u6027\u8bbe\u7f6e\u4e3a <code>true</code> \u6765\u7acb\u5373\u53d1\u9001\u4e8b\u4ef6\uff0c\u4ee3\u7801\u5982\u4e0b\uff1a</p> <pre><code>import { ClickstreamAnalytics } from '@aws/clickstream-web';\n\nClickstreamAnalytics.record({\n  name: 'button_click',\n  isImmediate: true,\n});\n</code></pre>"},{"location":"sdk-manual/web/#_7","title":"\u5176\u4ed6\u914d\u7f6e\u9879","text":"<p>\u9664\u4e86\u5fc5\u9700\u7684 <code>appId</code> \u548c <code>endpoint</code> \u4e4b\u5916\uff0c\u60a8\u8fd8\u53ef\u4ee5\u914d\u7f6e\u5176\u4ed6\u53c2\u6570\u4ee5\u6ee1\u8db3\u66f4\u591a\u5b9a\u5236\u5316\u7684\u4f7f\u7528\uff1a</p> <pre><code>import { ClickstreamAnalytics, SendMode, PageType } from '@aws/clickstream-web';\n\nClickstreamAnalytics.init({\n   appId: \"your appId\",\n   endpoint: \"https://example.com/collect\",\n   sendMode: SendMode.Batch,\n   sendEventsInterval: 5000,\n   isTrackPageViewEvents: true,\n   isTrackUserEngagementEvents: true,\n   isTrackClickEvents: true,\n   isTrackSearchEvents: true,\n   isTrackScrollEvents: true,\n   pageType: PageType.SPA,\n   isLogEvents: false,\n   authCookie: \"your auth cookie\",\n   sessionTimeoutDuration: 1800000,\n   searchKeyWords: ['product', 'class'],\n   domainList: ['example1.com', 'example2.com'],\n});\n</code></pre> <p>\u4ee5\u4e0b\u662f\u6bcf\u4e2a\u53c2\u6570\u7684\u8bf4\u660e</p> \u53c2\u6570\u540d\u79f0 \u662f\u5426\u5fc5\u9700 \u9ed8\u8ba4\u503c \u89e3\u91ca appId \u662f -- \u5728\u89e3\u51b3\u65b9\u6848\u63a7\u5236\u5e73\u9762\u4e2d\u60a8\u5e94\u7528\u7a0b\u5e8f\u7684 ID endpoint \u662f -- \u60a8\u5c06\u4e8b\u4ef6\u4e0a\u4f20\u5230 Clickstream \u6444\u53d6\u670d\u52a1\u5668\u7684URL\u8bf7\u6c42\u8def\u5f84 sendMode \u5426 Immediate \u53d1\u9001\u4e8b\u4ef6\u7684\u4e24\u79cd\u6a21\u5f0f <code>Immediate</code> (\u7acb\u5373\u53d1\u9001)\u548c <code>Batch</code>\uff08\u6279\u91cf\u53d1\u9001\uff09 sendEventsInterval \u5426 5000 \u4e8b\u4ef6\u53d1\u9001\u95f4\u9694\u6beb\u79d2\u6570\uff0c\u4ec5\u5728<code>Batch</code>\uff08\u6279\u91cf\u53d1\u9001\uff09\u6a21\u5f0f\u65f6\u751f\u6548 isTrackPageViewEvents \u5426 true \u662f\u5426\u81ea\u52a8\u8bb0\u5f55 page view\uff08\u9875\u9762\u6d4f\u89c8\uff09 \u4e8b\u4ef6 isTrackUserEngagementEvents \u5426 true \u662f\u5426\u81ea\u52a8\u8bb0\u5f55 user engagement\uff08\u7528\u6237\u53c2\u4e0e\uff09 \u4e8b\u4ef6 isTrackClickEvents \u5426 true \u662f\u5426\u81ea\u52a8\u8bb0\u5f55 click\uff08\u70b9\u51fb\uff09 \u4e8b\u4ef6 isTrackSearchEvents \u5426 true \u662f\u5426\u81ea\u52a8\u8bb0\u5f55 search\uff08\u641c\u7d22\uff09 \u4e8b\u4ef6 isTrackScrollEvents \u5426 true \u662f\u5426\u81ea\u52a8\u8bb0\u5f55 scroll\uff08\u9875\u9762\u6eda\u52a8\uff09 \u4e8b\u4ef6 pageType \u5426 SPA \u7f51\u7ad9\u7c7b\u578b\uff0c<code>SPA</code>\u8868\u793a\u5355\u9875\u9762\u5e94\u7528\u7a0b\u5e8f\uff0c<code>multiPageApp</code>\u8868\u793a\u591a\u9875\u9762\u5e94\u7528\u7a0b\u5e8f\u3002 \u4ec5\u5f53\u5c5e\u6027 <code>sTrackPageViewEvents</code> \u7684\u503c\u4e3a <code>true</code> \u65f6\uff0c\u6b64\u5c5e\u6027\u624d\u8d77\u4f5c\u7528 isLogEvents \u5426 false \u662f\u5426\u5728\u63a7\u5236\u53f0\u6253\u5370\u4e8b\u4ef6json\u5185\u5bb9\u4ee5\u8fdb\u884c\u8c03\u8bd5 authCookie \u5426 -- \u60a8\u7684AWS ALB\uff08\u5e94\u7528\u7a0b\u5e8f\u8d1f\u8f7d\u5747\u8861\u5668\uff09\u8eab\u4efd\u9a8c\u8bc1\u7684 cookie sessionTimeoutDuration \u5426 1800000 \u4f1a\u8bdd\u8d85\u65f6\u7684\u65f6\u957f\uff08\u6beb\u79d2\uff09 searchKeyWords \u5426 -- \u81ea\u5b9a\u4e49\u7684\u5173\u952e\u5b57\u7528\u4e8e\u89e6\u53d1<code>_search</code>\u4e8b\u4ef6\uff0c\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u6211\u4eec\u68c0\u6d4b\u67e5\u8be2\u53c2\u6570\u4e2d\u7684<code>q</code>\uff0c<code>s</code>\uff0c<code>search</code>\uff0c<code>query</code>\u548c<code>keyword</code> domainList \u5426 -- \u5982\u679c\u60a8\u7684\u7f51\u7ad9\u8de8\u591a\u4e2a\u57df\u540d\uff0c\u60a8\u53ef\u4ee5\u81ea\u5b9a\u4e49\u57df\u540d\u5217\u8868\u3002 \u5f53\u94fe\u63a5\u6307\u5411\u4e0d\u5c5e\u4e8e\u60a8\u914d\u7f6e\u7684\u57df\u540d\u7f51\u7ad9\u65f6\uff0c<code>_click</code> \u4e8b\u4ef6\u7684 <code>_outbound</code>\u5c5e\u6027\u5c06\u4e3a <code>true</code>"},{"location":"sdk-manual/web/#_8","title":"\u66f4\u65b0\u914d\u7f6e","text":"<p>\u60a8\u53ef\u4ee5\u5728\u521d\u59cb\u5316 SDK \u540e\u66f4\u65b0\u9ed8\u8ba4\u914d\u7f6e\uff0c\u4ee5\u4e0b\u662f\u60a8\u53ef\u4ee5\u66f4\u65b0\u7684\u914d\u7f6e\u53c2\u6570\u3002</p> <pre><code>import { ClickstreamAnalytics } from '@aws/clickstream-web';\n\nClickstreamAnalytics.updateConfigure({\n  isLogEvents: true,\n  authCookie: 'your auth cookie',\n  isTrackPageViewEvents: false,\n  isTrackUserEngagementEvents: false,\n  isTrackClickEvents: false,\n  isTrackScrollEvents: false,\n  isTrackSearchEvents: false,\n});\n</code></pre>"},{"location":"sdk-manual/web/#_9","title":"\u8c03\u8bd5\u4e8b\u4ef6","text":"<p>\u60a8\u53ef\u4ee5\u6309\u7167\u4ee5\u4e0b\u6b65\u9aa4\u67e5\u770b\u4e8b\u4ef6\u539f\u59cb json \u5e76\u8c03\u8bd5\u60a8\u7684\u4e8b\u4ef6\u3002</p> <ol> <li>\u4f7f\u7528 <code>ClickstreamAnalytics.init()</code> api \u5e76\u5728\u8c03\u8bd5\u6a21\u5f0f\u4e0b\u5c06 <code>isLogEvents</code> \u5c5e\u6027\u8bbe\u7f6e\u4e3a true\u3002</li> <li>\u96c6\u6210 SDK \u5e76\u5728\u6d4f\u89c8\u5668\u4e2d\u542f\u52a8 Web \u5e94\u7528\u7a0b\u5e8f\uff0c\u7136\u540e\u6253\u5f00\u68c0\u67e5\u9875\u9762\u5e76\u5207\u6362\u5230\u63a7\u5236\u53f0\u9009\u9879\u5361\u3002</li> <li>\u5728 Filter \u4e2d\u8f93\u5165 <code>EventRecorder</code>\uff0c\u60a8\u5c06\u770b\u5230 Clickstream Web SDK \u8bb0\u5f55\u7684\u6240\u6709\u4e8b\u4ef6\u7684 json \u5185\u5bb9\u3002</li> </ol>"},{"location":"sdk-manual/web/#_10","title":"\u6570\u636e\u683c\u5f0f\u5b9a\u4e49","text":""},{"location":"sdk-manual/web/#_11","title":"\u6570\u636e\u7c7b\u578b","text":"<p>Clickstream Web SDK \u652f\u6301\u4ee5\u4e0b\u6570\u636e\u7c7b\u578b\uff1a</p> \u6570\u636e\u7c7b\u578b \u8303\u56f4 \u793a\u4f8b number 5e-324~1.79e+308 12, 26854775808, 3.14 boolean true\u3001false true string \u6700\u5927\u652f\u6301 1024 \u4e2a\u5b57\u7b26 \"clickstream\""},{"location":"sdk-manual/web/#_12","title":"\u547d\u540d\u89c4\u5219","text":"<ol> <li> <p>\u4e8b\u4ef6\u540d\u79f0\u548c\u5c5e\u6027\u540d\u79f0\u4e0d\u80fd\u4ee5\u6570\u5b57\u5f00\u5934\uff0c\u53ea\u80fd\u5305\u542b\uff1a\u5927\u5c0f\u5199\u5b57\u6bcd\u3001\u6570\u5b57\u3001\u4e0b\u5212\u7ebf\uff0c\u5982\u679c\u4e8b\u4ef6\u540d\u79f0\u65e0\u6548\uff0cSDK\u4f1a\u8bb0\u5f55<code>_clickstream_error</code>\u4e8b\u4ef6\uff0c\u5982\u679c\u5c5e\u6027\u6216\u7528\u6237\u5c5e\u6027\u540d\u79f0\u65e0\u6548\uff0c\u8be5\u5c5e\u6027\u5c06\u88ab\u4e22\u5f03\u5e76\u8bb0\u5f55 <code>_clickstream_error</code> \u4e8b\u4ef6\u3002</p> </li> <li> <p>\u4e0d\u8981\u4f7f\u7528 <code>_</code> \u4f5c\u4e3a\u4e8b\u4ef6\u540d\u79f0\u548c\u5c5e\u6027\u540d\u79f0\u7684\u524d\u7f00\uff0c<code>_</code> \u524d\u7f00\u662f Clickstream Analytics \u4fdd\u7559\u7684\u3002</p> </li> <li> <p>\u4e8b\u4ef6\u540d\u79f0\u548c\u5c5e\u6027\u540d\u79f0\u533a\u5206\u5927\u5c0f\u5199\u3002\u56e0\u6b64\uff0c\u4e8b\u4ef6 <code>Add_to_cart</code> \u548c <code>add_to_cart</code> \u5c06\u88ab\u89c6\u4e3a\u4e24\u4e2a\u4e0d\u540c\u7684\u4e8b\u4ef6\u3002</p> </li> </ol>"},{"location":"sdk-manual/web/#_13","title":"\u4e8b\u4ef6\u548c\u5c5e\u6027\u9650\u5236","text":"<p>\u4e3a\u4e86\u63d0\u9ad8\u67e5\u8be2\u548c\u5206\u6790\u7684\u6548\u7387\uff0c\u6211\u4eec\u9700\u8981\u5bf9\u4e8b\u4ef6\u8fdb\u884c\u4ee5\u4e0b\u9650\u5236\uff1a</p> \u540d\u79f0 \u5efa\u8bae \u786c\u9650\u5236 \u8d85\u8fc7\u9650\u5236\u7684\u5904\u7406\u7b56\u7565 \u9519\u8bef\u7801 \u4e8b\u4ef6\u540d\u79f0\u5408\u89c4 -- -- \u4e22\u5f03\u8be5\u4e8b\u4ef6\uff0c\u6253\u5370\u65e5\u5fd7\u5e76\u8bb0\u5f55<code>_clickstream_error</code>\u4e8b\u4ef6 1001 \u4e8b\u4ef6\u540d\u79f0\u957f\u5ea6 25 \u4e2a\u5b57\u7b26\u4ee5\u4e0b 50 \u4e2a\u5b57\u7b26 \u4e22\u5f03\u8be5\u4e8b\u4ef6\uff0c\u6253\u5370\u65e5\u5fd7\u5e76\u8bb0\u5f55<code>_clickstream_error</code>\u4e8b\u4ef6 1002 \u4e8b\u4ef6\u5c5e\u6027\u540d\u79f0\u7684\u957f\u5ea6 25 \u4e2a\u5b57\u7b26\u4ee5\u4e0b 50 \u4e2a\u5b57\u7b26 \u4e22\u5f03\u8be5\u5c5e\u6027\u3001\u6253\u5370\u65e5\u5fd7\u5e76\u5728\u4e8b\u4ef6\u5c5e\u6027\u4e2d\u8bb0\u5f55\u9519\u8bef 2001 \u5c5e\u6027\u540d\u79f0\u5408\u89c4 -- -- \u4e22\u5f03\u8be5\u5c5e\u6027\u3001\u6253\u5370\u65e5\u5fd7\u5e76\u5728\u4e8b\u4ef6\u5c5e\u6027\u4e2d\u8bb0\u5f55\u9519\u8bef 2002 \u4e8b\u4ef6\u5c5e\u6027\u503c\u7684\u957f\u5ea6 \u5c11\u4e8e 100 \u4e2a\u5b57\u7b26 1024 \u4e2a\u5b57\u7b26 \u4e22\u5f03\u8be5\u5c5e\u6027\u3001\u6253\u5370\u65e5\u5fd7\u5e76\u5728\u4e8b\u4ef6\u5c5e\u6027\u4e2d\u8bb0\u5f55\u9519\u8bef 2003 \u6bcf\u4e2a\u4e8b\u4ef6\u7684\u4e8b\u4ef6\u5c5e\u6027 50 \u5c5e\u6027\u4ee5\u4e0b 500 evnet \u5c5e\u6027 \u4e22\u5f03\u8d85\u8fc7\u9650\u5236\u7684\u5c5e\u6027\u3001\u6253\u5370\u65e5\u5fd7\u5e76\u5728\u4e8b\u4ef6\u5c5e\u6027\u4e2d\u8bb0\u5f55\u9519\u8bef 2004 \u7528\u6237\u5c5e\u6027\u6570 25\u5c81\u4ee5\u4e0b\u5c5e\u6027 100\u4e2a\u7528\u6237\u5c5e\u6027 \u4e22\u5f03\u8d85\u8fc7\u9650\u5236\u7684\u5c5e\u6027\u3001\u6253\u5370\u65e5\u5fd7\u5e76\u8bb0\u5f55<code>_clickstream_error</code>\u4e8b\u4ef6 3001 \u7528\u6237\u5c5e\u6027\u540d\u79f0\u7684\u957f\u5ea6 25 \u4e2a\u5b57\u7b26\u4ee5\u4e0b 50 \u4e2a\u5b57\u7b26 \u4e22\u5f03\u8be5\u5c5e\u6027\u3001\u6253\u5370\u65e5\u5fd7\u5e76\u8bb0\u5f55<code>_clickstream_error</code>\u4e8b\u4ef6 3002 \u7528\u6237\u5c5e\u6027\u540d\u79f0\u5408\u89c4 -- -- \u4e22\u5f03\u8be5\u5c5e\u6027\u3001\u6253\u5370\u65e5\u5fd7\u5e76\u8bb0\u5f55<code>_clickstream_error</code>\u4e8b\u4ef6 3003 \u7528\u6237\u5c5e\u6027\u503c\u7684\u957f\u5ea6 50 \u4e2a\u5b57\u7b26\u4ee5\u4e0b 256 \u4e2a\u5b57\u7b26 \u4e22\u5f03\u8be5\u5c5e\u6027\u3001\u6253\u5370\u65e5\u5fd7\u5e76\u8bb0\u5f55<code>_clickstream_error</code>\u4e8b\u4ef6 3004 \u4e8b\u4ef6\u4e2dItem\u7684\u4e2a\u6570 50\u4e2aitem\u4ee5\u4e0b 100\u4e2aitem \u4e22\u5f03\u8d85\u51fa\u9650\u5236\u7684Item\uff0c\u6253\u5370\u9519\u8bef\u65e5\u5fd7\u5e76\u5728\u4e8b\u4ef6\u5c5e\u6027\u4e2d\u8bb0\u5f55\u9519\u8bef 4001 Item\u5c5e\u6027\u503c\u7684\u957f\u5ea6 \u5c11\u4e8e 100 \u4e2a\u5b57\u7b26 256 \u4e2a\u5b57\u7b26 \u4e22\u5f03\u8d85\u51fa\u9650\u5236\u7684Item\u5c5e\u6027\uff0c\u6253\u5370\u9519\u8bef\u65e5\u5fd7\u5e76\u5728\u4e8b\u4ef6\u5c5e\u6027\u4e2d\u8bb0\u5f55\u9519\u8bef 4002 <p>\u91cd\u8981\u63d0\u793a</p> <ul> <li>\u5b57\u7b26\u9650\u5236\u9002\u7528\u4e8e\u5355\u5bbd\u5b57\u7b26\u8bed\u8a00\uff08\u5982\u82f1\u8bed\uff09\u548c\u53cc\u5bbd\u5b57\u7b26\u8bed\u8a00\uff08\u5982\u4e2d\u6587\uff09\u3002</li> <li>\u4e8b\u4ef6\u5c5e\u6027\u6570\u5305\u62ec\u4e8b\u4ef6\u4e2d\u7684\u9884\u8bbe\u5c5e\u6027\u3002</li> <li>\u5982\u679c\u591a\u6b21\u6dfb\u52a0\u76f8\u540c\u540d\u79f0\u7684\u5c5e\u6027\u6216\u7528\u6237\u5c5e\u6027\uff0c\u5219\u503c\u5c06\u88ab\u6700\u540e\u4e00\u4e2a\u503c\u8986\u76d6\u3002</li> <li>\u8d85\u8fc7\u9650\u5236\u7684\u6240\u6709\u9519\u8bef\u90fd\u4f1a\u5728\u4e8b\u4ef6attributes\u91cc\u8bb0\u5f55 <code>_error_code</code> \u548c <code>_error_message</code> \u8fd9\u4e24\u4e2a\u5b57\u6bb5\u3002</li> </ul>"},{"location":"sdk-manual/web/#_14","title":"\u9884\u7f6e\u4e8b\u4ef6","text":""},{"location":"sdk-manual/web/#_15","title":"\u81ea\u52a8\u6536\u96c6\u7684\u4e8b\u4ef6","text":"\u4e8b\u4ef6\u540d \u89e6\u53d1\u65f6\u673a \u4e8b\u4ef6\u5c5e\u6027 _first_open \u7528\u6237\u5728\u4e00\u4e2a\u6d4f\u89c8\u5668\u4e2d\u7b2c\u4e00\u6b21\u6253\u5f00\u7f51\u7ad9 _session_start \u5f53\u7528\u6237\u9996\u6b21\u8bbf\u95ee\u8be5\u7f51\u7ad9\u6216\u7528\u6237\u79bb\u5f00\u7f51\u7ad930 \u5206\u949f\u540e\u8fd4\u56de\u8be5\u7f51\u7ad9\u65f6\uff0c\u4e86\u89e3\u66f4\u591a 1. _session_id 2. _session_start_timestamp _page_view \u5f53\u65b0\u9875\u9762\u6253\u5f00\u65f6\uff0c\u4e86\u89e3\u66f4\u591a 1. _page_referrer2. _page_referrer_title3. _entrances4. _previous_timestamp5. _engagement_time_msec _user_engagement \u5f53\u7528\u6237\u79bb\u5f00\u5f53\u524d\u9875\u9762\uff0c\u5e76\u4e14\u8be5\u9875\u9762\u5904\u4e8e\u7126\u70b9\u8d85\u8fc7\u4e00\u79d2\u65f6\uff0c\u4e86\u89e3\u66f4\u591a 1 ._engagement_time_msec _app_start \u6bcf\u6b21\u6d4f\u89c8\u5668\u4ece\u4e0d\u53ef\u89c1\u5230\u8fdb\u5165\u53ef\u89c1\u72b6\u6001\u65f6 1. _is_first_time\uff08\u5f53\u5e94\u7528\u7a0b\u5e8f\u542f\u52a8\u540e\u7b2c\u4e00\u4e2a<code>_app_start</code>\u4e8b\u4ef6\u65f6\uff0c\u503c\u4e3a<code>true</code>\uff09 _app_end \u6bcf\u6b21\u6d4f\u89c8\u5668\u4ece\u53ef\u89c1\u5230\u8fdb\u5165\u4e0d\u53ef\u89c1\u72b6\u6001\u65f6 _profile_set \u5f53\u8c03\u7528 <code>addUserAttributes()</code> \u6216 <code>setUserId()</code> api \u65f6 _scroll \u7528\u6237\u7b2c\u4e00\u6b21\u5230\u8fbe\u6bcf\u4e2a\u9875\u9762\u7684\u5e95\u90e8\u65f6\uff08\u5373\u5f53 90% \u7684\u5782\u76f4\u6df1\u5ea6\u53d8\u5f97\u53ef\u89c1\u65f6\uff09 1. _engagement_time_msec _search \u6bcf\u6b21\u7528\u6237\u6267\u884c\u7ad9\u70b9\u641c\u7d22\u65f6\uff0c\u6839\u636e URL \u67e5\u8be2\u53c2\u6570\u7684\u5b58\u5728\u6765\u5224\u65ad\uff0c\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u5728\u67e5\u8be2\u53c2\u6570\u4e2d\u68c0\u6d4b <code>q</code>, <code>s</code>, <code>search</code>, <code>query</code> \u548c <code>keyword</code>\u3002 1. _search_key (\u641c\u7d22\u53c2\u6570\u540d\u79f0)2. _search_term (\u641c\u7d22\u5185\u5bb9) _click \u6bcf\u6b21\u7528\u6237\u5355\u51fb\u5c06\u5176\u5e26\u79bb\u5f53\u524d\u57df\u540d\uff08\u6216\u914d\u7f6e\u7684\u57df\u540d\u5217\u8868\uff09\u7684\u94fe\u63a5\u65f6 1. _link_classes\uff08\u6807\u7b7e <code>&lt;a&gt;</code>\u4e2d<code>class</code>\u91cc\u7684\u5185\u5bb9\uff092. _link_domain\uff08\u6807\u7b7e <code>&lt;a&gt;</code>\u4e2d<code>herf</code>\u91cc\u7684\u57df\u540d\uff093. _link_id\uff08\u6807\u7b7e <code>&lt;a&gt;</code>\u4e2d<code>id</code>\u91cc\u7684\u5185\u5bb9\uff094. _link_url\uff08\u6807\u7b7e <code>&lt;a&gt;</code>\u4e2d<code>herf</code>\u91cc\u7684\u5185\u5bb9\uff095. _outbound\uff08\u5982\u679c\u8be5\u57df\u4e0d\u5728\u914d\u7f6e\u7684\u57df\u540d\u5217\u8868\u4e2d\uff0c\u5219\u5c5e\u6027\u503c\u4e3a\u201ctrue\u201d\uff09 _clickstream_error event_name \u4e0d\u5408\u89c4\u6216\u7528\u6237\u5c5e\u6027\u4e0d\u5408\u89c4\u65f6 1. _error_code 2. _error_message"},{"location":"sdk-manual/web/#_16","title":"\u4f1a\u8bdd\u5b9a\u4e49","text":"<p>\u5728 Clickstream Web SDK \u4e2d\uff0c\u6211\u4eec\u4e0d\u9650\u5236\u4f1a\u8bdd\u7684\u603b\u65f6\u95f4\uff0c\u53ea\u8981\u6d4f\u89c8\u5668\u4e0b\u6b21\u8fdb\u5165\u548c\u6700\u540e\u4e00\u6b21\u9000\u51fa\u4e4b\u95f4\u7684\u65f6\u95f4\u5728\u5141\u8bb8\u7684\u8d85\u65f6\u65f6\u95f4\u5185\uff0c\u6211\u4eec\u5c31\u8ba4\u4e3a\u5f53\u524d\u4f1a\u8bdd\u662f\u8fde\u7eed\u7684\u3002</p> <p>\u5f53\u7f51\u7ad9\u7b2c\u4e00\u6b21\u6253\u5f00\uff0c\u6216\u8005\u6d4f\u89c8\u5668\u6253\u5f00\u5230\u524d\u53f0\u4e0e\u6700\u540e\u4e00\u6b21\u9000\u51fa\u4e4b\u95f4\u7684\u65f6\u95f4\u8d85\u8fc7\u4e86session_time_out\u65f6\uff0c\u4f1a\u89e6\u53d1<code>_session_start</code>\u4e8b\u4ef6\uff0c\u4ee5\u4e0b\u662fsession\u76f8\u5173\u7684\u5c5e\u6027\u3002</p> <ol> <li>_session_id\uff1a\u6211\u4eec\u901a\u8fc7uniqueId\u7684\u540e8\u4e2a\u5b57\u7b26\u548c\u5f53\u524d\u6beb\u79d2\u503c\u62fc\u63a5\u6765\u8ba1\u7b97\u4f1a\u8bddid\uff0c\u4f8b\u5982\uff1adc7a7a18-20230905-131926703</li> <li>_session_duration\uff1a\u6211\u4eec\u901a\u8fc7\u51cf\u53bb\u5f53\u524d\u4e8b\u4ef6\u521b\u5efa\u65f6\u95f4\u6233\u548c\u4f1a\u8bdd\u7684<code>_session_start_timestamp</code>\u6765\u8ba1\u7b97\u4f1a\u8bdd\u6301\u7eed\u65f6\u95f4\uff0c\u8be5\u5c5e\u6027\u5c06\u6dfb\u52a0\u5230\u4f1a\u8bdd\u671f\u95f4\u7684\u6bcf\u4e2a\u4e8b\u4ef6\u4e2d\u3002</li> <li>_session_number\uff1a\u5f53\u524d\u6d4f\u89c8\u5668\u4e2dsession\u7684\u81ea\u589e\u6570\uff0c\u521d\u59cb\u503c\u4e3a1</li> <li>\u4f1a\u8bdd\u8d85\u65f6\u65f6\u95f4\uff1a\u9ed8\u8ba4\u4e3a30\u5206\u949f\uff0c\u53ef\u4ee5\u901a\u8fc7configuration api\u81ea\u5b9a\u4e49\u3002</li> </ol>"},{"location":"sdk-manual/web/#_17","title":"\u9875\u9762\u6d4f\u89c8\u5b9a\u4e49","text":"<p>\u5728 Clickstream Web SDK \u4e2d\uff0c\u6211\u4eec\u5c06<code>_page_view</code>\uff08\u9875\u9762\u6d4f\u89c8\uff09\u5b9a\u4e49\u4e3a\u8bb0\u5f55\u7528\u6237\u6d4f\u89c8\u9875\u9762\u8def\u5f84\u7684\u4e8b\u4ef6\uff0c\u5f53\u9875\u9762\u5207\u6362\u5f00\u59cb\u65f6\uff0c\u6ee1\u8db3\u4ee5\u4e0b\u4efb\u4f55\u6761\u4ef6\u65f6\u5c06\u8bb0\u5f55<code>_page_view</code>\u4e8b\u4ef6\uff1a</p> <ol> <li>\u4e4b\u524d\u6ca1\u6709\u8bbe\u7f6e\u8fc7\u9875\u9762\u3002</li> <li>\u65b0\u7684\u9875\u9762\u6807\u9898\u4e0e\u4e4b\u524d\u7684\u9875\u9762\u6807\u9898\u4e0d\u540c\u3002</li> <li>\u65b0\u7684\u9875\u9762 url \u4e0e\u4e4b\u524d\u7684\u9875\u9762 url \u4e0d\u540c\u3002</li> </ol> <p>\u8be5\u4e8b\u4ef6\u76d1\u542c history \u4e2d\u7684<code>pushState</code>\u3001<code>popState</code>\u4ee5\u53ca window \u7684<code>replaceState</code>\u6765\u5224\u65ad\u5e76\u89e6\u53d1\u9875\u9762\u7684\u8df3\u8f6c\u3002\u4e3a\u4e86\u7edf\u8ba1\u9875\u9762\u6d4f\u89c8\u8def\u5f84\uff0c\u6211\u4eec\u4f7f\u7528 <code>_page_referrer</code>\uff08\u4e0a\u4e2a\u9875\u9762 url\uff09\u548c <code>page_referrer_title</code> \u6765\u8ddf\u8e2a\u524d\u4e00\u4e2a\u9875\u9762\u3002 \u6b64\u5916\uff0c\u9875\u9762\u6d4f\u89c8\u4e8b\u4ef6\u4e2d\u8fd8\u6709\u4e00\u4e9b\u5176\u4ed6\u5c5e\u6027\u3002</p> <ol> <li>_entrances\uff1a\u5f53\u524d\u4f1a\u8bdd\u4e2d\u7b2c\u4e00\u4e2a\u9875\u9762\u6d4f\u89c8\u4e8b\u4ef6\u503c\u4e3a1\uff0c\u5176\u4ed6\u9875\u9762\u6d4f\u89c8\u4e8b\u4ef6\u503c\u4e3a0\u3002</li> <li>_previous_timestamp\uff1a\u4e0a\u4e00\u4e2a <code>_page_view</code> \u4e8b\u4ef6\u7684\u65f6\u95f4\u6233\u3002</li> <li>_engagement_time_msec\uff1a\u4e0a\u4e2a\u9875\u9762\u6700\u540e\u4e00\u6b21\u7528\u6237\u53c2\u4e0e\u65f6\u957f\u7684\u6beb\u79d2\u6570\u3002</li> </ol>"},{"location":"sdk-manual/web/#_18","title":"\u7528\u6237\u53c2\u4e0e\u5ea6\u5b9a\u4e49","text":"<p>\u5728 Clickstream Web SDK \u4e2d\uff0c\u6211\u4eec\u5c06 _user_engagement \u5b9a\u4e49\u4e3a\u8bb0\u5f55\u7528\u6237\u6d4f\u89c8\u9875\u9762\u65f6\u957f\u7684\u4e8b\u4ef6\uff0c\u8be5\u4e8b\u4ef6\u4ec5\u5728\u7528\u6237\u79bb\u5f00\u5f53\u524d\u9875\u9762\u4e14\u5728\u8be5\u9875\u9762\u505c\u7559\u81f3\u5c11\u4e00\u79d2\u65f6\u53d1\u9001\u3002</p> <p>\u6211\u4eec\u5b9a\u4e49\u7528\u6237\u5728\u4ee5\u4e0b\u60c5\u51b5\u4e0b\u79bb\u5f00\u9875\u9762\u3002</p> <ol> <li> <p>\u5f53\u7528\u6237\u5bfc\u822a\u5230\u5f53\u524d\u57df\u540d\u4e0b\u7684\u53e6\u4e00\u4e2a\u9875\u9762\u65f6\u3002</p> </li> <li> <p>\u5f53\u7528\u6237\u70b9\u51fb\u5c06\u5176\u5e26\u79bb\u5f53\u524d\u57df\u540d\u7684\u94fe\u63a5\u65f6\u3002</p> </li> <li>\u5f53\u7528\u6237\u70b9\u51fb\u6d4f\u89c8\u5668\u53e6\u4e00\u4e2a\u9009\u9879\u5361\u6216\u6700\u5c0f\u5316\u5f53\u524d\u6d4f\u89c8\u5668\u7a97\u53e3\u65f6\u3002</li> <li>\u5f53\u7528\u6237\u5173\u95ed\u7f51\u7ad9\u9009\u9879\u5361\u6216\u5173\u95ed\u6d4f\u89c8\u5668\u5e94\u7528\u7a0b\u5e8f\u65f6\u3002</li> </ol> <p>engagement_time_msec\uff1a\u6211\u4eec\u8ba1\u7b97\u4ece\u5f53\u524d\u9875\u9762\u53ef\u89c1\u5230\u7528\u6237\u79bb\u5f00\u5f53\u524d\u9875\u9762\u7684\u65f6\u957f\uff08\u5355\u4f4d\u6beb\u79d2\uff09\u3002</p>"},{"location":"sdk-manual/web/#_19","title":"\u4e8b\u4ef6\u5c5e\u6027","text":""},{"location":"sdk-manual/web/#_20","title":"\u4e8b\u4ef6\u7ed3\u6784\u793a\u4f8b","text":"<pre><code>{\n    \"hash_code\": \"80452b0\",\n    \"unique_id\": \"c84ad28d-16a8-4af4-a331-f34cdc7a7a18\",\n    \"event_type\": \"add_to_cart\",\n    \"event_id\": \"460daa08-0717-4385-8f2e-acb5bd019ee7\",\n    \"timestamp\": 1667877566697,\n    \"device_id\": \"f24bec657ea8eff7\",\n    \"platform\": \"Web\",\n    \"make\": \"Google Inc.\",\n    \"locale\": \"zh_CN\",\n    \"screen_height\": 1080,\n    \"screen_width\": 1920,\n    \"viewport_height\": 980,\n    \"viewport_width\": 1520,\n    \"zone_offset\": 28800000,\n    \"system_language\": \"zh\",\n    \"country_code\": \"CN\",\n    \"sdk_version\": \"0.2.0\",\n    \"sdk_name\": \"aws-solution-clickstream-sdk\",\n    \"host_name\": \"https://example.com\",\n    \"app_id\": \"appId\",\n    \"items\": [{\n        \"id\": \"123\",\n        \"name\": \"Nike\",\n        \"category\": \"shoes\",\n        \"price\": 279.9\n    }],\n    \"user\": {\n        \"_user_id\": {\n            \"value\": \"312121\",\n            \"set_timestamp\": 1667877566697\n        },\n        \"_user_name\": {\n            \"value\": \"carl\",\n            \"set_timestamp\": 1667877566697\n        },\n        \"_user_first_touch_timestamp\": {\n            \"value\": 1667877267895,\n            \"set_timestamp\": 1667877566697\n        }\n    },\n    \"attributes\": {\n        \"event_category\": \"recommended\",\n        \"currency\": \"CNY\",\n        \"_session_id\": \"dc7a7a18-20221108-031926703\",\n        \"_session_start_timestamp\": 1667877566703,\n        \"_session_duration\": 391809,\n        \"_session_number\": 1,\n        \"_latest_referrer\": \"https://amazon.com/s?k=nike\",\n        \"_latest_referrer_host\": \"amazon.com\",\n        \"_page_title\": \"index\",\n        \"_page_url\": \"https://example.com/index.html\"\n    }\n}\n</code></pre> <p>\u6240\u6709\u7528\u6237\u5c5e\u6027\u90fd\u5c06\u5b58\u50a8\u5728 <code>user</code> \u5bf9\u8c61\u4e2d\uff0c\u6240\u6709\u81ea\u5b9a\u4e49\u6027\u90fd\u5b58\u50a8\u5728 <code>attributes</code> \u5bf9\u8c61\u4e2d\u3002</p>"},{"location":"sdk-manual/web/#_21","title":"\u516c\u5171\u5c5e\u6027","text":"\u5c5e\u6027 \u6570\u636e\u7c7b\u578b \u63cf\u8ff0 \u5982\u4f55\u751f\u6210 \u7528\u9014\u548c\u76ee\u7684 hash_code string \u4e8b\u4ef6\u5bf9\u8c61\u7684\u54c8\u5e0c\u7801 \u901a\u8fc7 <code>@aws-crypto/sha256-js</code> \u5e93\u6765\u8ba1\u7b97 \u533a\u5206\u4e0d\u540c\u7684\u4e8b\u4ef6 app_id string \u70b9\u51fb\u6d41app id \u63a7\u5236\u5e73\u9762\u521b\u5efa\u70b9\u51fb\u6d41\u5e94\u7528\u7a0b\u5e8f\u65f6\u751f\u6210 \u533a\u5206\u4e0d\u540capp\u7684\u4e8b\u4ef6 unique_id string \u7528\u6237\u552f\u4e00id sdk \u7b2c\u4e00\u6b21\u521d\u59cb\u5316\u65f6\u4ece <code>uuidV4()</code> \u751f\u6210 \u5f53\u7528\u6237\u91cd\u65b0\u767b\u5f55\u5230\u53e6\u4e00\u4e2a\u4ece\u672a\u767b\u5f55\u8fc7\u7684\u7528\u6237\u540e\uff0c\u5b83\u4f1a\u88ab\u66f4\u6539\uff0c\u5e76\u4e14\u5f53\u7528\u6237\u5728\u540c\u4e00\u6d4f\u89c8\u5668\u4e2d\u91cd\u65b0\u767b\u5f55\u5230\u4e4b\u524d\u7684\u7528\u6237\u65f6\uff0cunique_id \u5c06\u91cd\u7f6e\u4e3a\u4e4b\u524d \u7528\u6237\u7684 unique_id \u6807\u8bc6\u4e0d\u540c\u7528\u6237\u7684\u552f\u4e00\u6027\uff0c\u5e76\u5173\u8054\u767b\u5f55\u548c\u672a\u767b\u5f55\u7528\u6237\u7684\u884c\u4e3a device_id string \u6d4f\u89c8\u5668\u552f\u4e00id \u7f51\u7ad9\u9996\u6b21\u6253\u5f00\u65f6\u751f\u6210<code>uuidV4()</code>\u5f62\u5f0f\uff0c\u7136\u540euuid\u5c06\u5b58\u50a8\u5728localStorage\u4e2d, \u5e76\u4e14\u4e0d\u4f1a\u4fee\u6539 \u533a\u5206\u4e0d\u540c\u8bbe\u5907 event_type string \u4e8b\u4ef6\u540d\u79f0 \u7531\u5f00\u53d1\u8005\u6216SDK\u8bbe\u7f6e \u533a\u5206\u4e0d\u540c\u7684\u4e8b\u4ef6\u540d\u79f0 event_id string \u4e8b\u4ef6\u7684\u552f\u4e00id \u4e8b\u4ef6\u521b\u5efa\u65f6\u4ece <code>uuidV4()</code> \u751f\u6210 \u533a\u5206\u6bcf\u4e2a\u4e8b\u4ef6 timestamp number \u4e8b\u4ef6\u521b\u5efa\u65f6\u7684\u65f6\u95f4\u6233 \u4e8b\u4ef6\u521b\u5efa\u65f6\u4ece <code>new Date().getTime()</code> \u751f\u6210\uff0c\u5355\u4f4d\uff1a\u6beb\u79d2 \u6570\u636e\u5206\u6790\u9700\u8981 platform string \u5e73\u53f0\u540d\u79f0 \u5bf9\u4e8e\u6d4f\u89c8\u5668\u4e00\u76f4\u662f <code>Web</code> \u6570\u636e\u5206\u6790\u9700\u8981 make string \u6d4f\u89c8\u5668\u5236\u9020\u5546 \u4ece<code>window.navigator.product</code>\u6216<code>window.navigator.vendor</code> \u751f\u6210 \u6570\u636e\u5206\u6790\u9700\u8981 screen_height number \u5c4f\u5e55\u9ad8\u5ea6\uff08\u4ee5\u50cf\u7d20\u4e3a\u5355\u4f4d\uff09 \u901a\u8fc7 <code>window.screen.height</code> \u751f\u6210 \u6570\u636e\u5206\u6790\u9700\u8981 screen_width number \u5c4f\u5e55\u5bbd\u5ea6\uff08\u4ee5\u50cf\u7d20\u4e3a\u5355\u4f4d\uff09 \u901a\u8fc7 <code>window.screen.width</code> \u751f\u6210 \u6570\u636e\u5206\u6790\u9700\u8981 viewport_height number \u89c6\u533a\u9ad8\u5ea6\uff08\u4ee5\u50cf\u7d20\u4e3a\u5355\u4f4d\uff09 \u901a\u8fc7 <code>window.innerHeight</code> \u751f\u6210 \u6570\u636e\u5206\u6790\u9700\u8981 viewport_width number \u89c6\u533a\u5bbd\u5ea6\uff08\u4ee5\u50cf\u7d20\u4e3a\u5355\u4f4d\uff09 \u901a\u8fc7 <code>window.innerWidth</code> \u751f\u6210 \u6570\u636e\u5206\u6790\u9700\u8981 zone_offset number device \u4e0e GMT \u7684\u539f\u59cb\u504f\u79fb\u91cf\uff08\u4ee5\u6beb\u79d2\u4e3a\u5355\u4f4d\uff09 \u901a\u8fc7 <code>-currentDate.getTimezoneOffset()*60000</code> \u751f\u6210 \u6570\u636e\u5206\u6790\u9700\u8981 locale string \u6d4f\u89c8\u5668\u7684\u9ed8\u8ba4\u533a\u57df\u8bbe\u7f6e\uff08\u8bed\u8a00\u3001\u56fd\u5bb6/\u5730\u533a\u548c\u53d8\u4f53\uff09 \u901a\u8fc7 <code>window.navigator.language</code> \u751f\u6210 \u6570\u636e\u5206\u6790\u9700\u8981 system_language string \u6d4f\u89c8\u5668\u672c\u5730\u8bed\u8a00 \u901a\u8fc7 <code>window.navigator.language</code> \u751f\u6210 \u6570\u636e\u5206\u6790\u9700\u8981 country_code string \u6d4f\u89c8\u5668\u7684\u56fd\u5bb6/\u5730\u533a\u4ee3\u7801 \u901a\u8fc7 <code>window.navigator.language</code> \u751f\u6210 \u6570\u636e\u5206\u6790\u9700\u8981 sdk_version string \u70b9\u51fb\u6d41SDK\u7248\u672c \u901a\u8fc7 <code>package.json</code> \u751f\u6210 \u6570\u636e\u5206\u6790\u9700\u8981 sdk_name string Clickstream SDK \u540d\u79f0 \u4e00\u76f4\u662f <code>aws-solution-clickstream-sdk</code> \u6570\u636e\u5206\u6790\u9700\u8981 host_name string \u7f51\u7ad9\u4e3b\u673a\u540d \u901a\u8fc7 <code>window.location.hostname</code> \u751f\u6210 \u6570\u636e\u5206\u6790\u9700\u8981"},{"location":"sdk-manual/web/#_22","title":"\u7528\u6237\u5c5e\u6027","text":"\u5c5e\u6027\u540d\u79f0 \u63cf\u8ff0 _user_id \u4fdd\u7559\u7528\u4e8e\u5206\u914d\u7ed9\u5e94\u7528\u7a0b\u5e8f\u7684\u7528\u6237 ID _user_ltv_revenue \u4fdd\u7559\u7528\u4e8e\u7528\u6237\u7ec8\u8eab\u4ef7\u503c _user_ltv_currency \u4fdd\u7559\u7528\u4e8e\u7528\u6237\u7ec8\u8eab\u4ef7\u503c\u8d27\u5e01 _user_first_touch_timestamp \u7528\u6237\u9996\u6b21\u6253\u5f00\u5e94\u7528\u7a0b\u5e8f\u6216\u8bbf\u95ee\u7ad9\u70b9\u7684\u65f6\u95f4\uff08\u4ee5\u6beb\u79d2\u4e3a\u5355\u4f4d\uff09\uff0c\u5728 <code>user</code> \u5bf9\u8c61\u7684\u6bcf\u4e2a\u4e8b\u4ef6\u4e2d\u90fd\u5305\u542b\u6b64\u5c5e\u6027"},{"location":"sdk-manual/web/#_23","title":"\u4e8b\u4ef6\u5c5e\u6027","text":"\u5c5e\u6027\u540d\u79f0 \u6570\u636e\u7c7b\u578b \u63cf\u8ff0 _traffic_source_medium string \u4fdd\u7559\u7ed9\u6d41\u91cf\u5a92\u4ecb\uff0c\u4f7f\u7528\u6b64\u5c5e\u6027\u5b58\u50a8\u4e8b\u4ef6\u8bb0\u5f55\u65f6\u83b7\u53d6\u7528\u6237\u7684\u5a92\u4ecb\uff0c\u4f8b\u5982\uff1a\u7535\u5b50\u90ae\u4ef6\u3001\u4ed8\u8d39\u641c\u7d22\u3001\u641c\u7d22\u5f15\u64ce _traffic_source_name string \u4fdd\u7559\u7ed9\u6d41\u91cf\u540d\u79f0\uff0c\u4f7f\u7528\u6b64\u5c5e\u6027\u5b58\u50a8\u4e8b\u4ef6\u8bb0\u5f55\u65f6\u83b7\u53d6\u7528\u6237\u7684\u8425\u9500\u6d3b\u52a8\uff0c\u4f8b\u5982\uff1a\u590f\u5b63\u4fc3\u9500 _traffic_source_source string \u4fdd\u7559\u7ed9\u6d41\u91cf\u6765\u6e90\uff0c\u4e8b\u4ef6\u62a5\u544a\u65f6\u83b7\u53d6\u7684\u7f51\u7edc\u6765\u6e90\u7684\u540d\u79f0\uff0c\u4f8b\u5982\uff1aGoogle, Facebook, Bing, Baidu _entrances string \u5728 <code>_page_view</code> \u4e8b\u4ef6\u4e2d\u6dfb\u52a0\u3002\u4f1a\u8bdd\u4e2d\u7684\u7b2c\u4e00\u4e2a <code>_page_view</code> \u4e8b\u4ef6\u5177\u6709\u503c 1\uff0c\u5176\u4ed6\u4e8b\u4ef6\u4e3a 0 _session_id string \u5728\u6240\u6709\u4e8b\u4ef6\u4e2d\u6dfb\u52a0 _session_start_timestamp number \u5728\u6240\u6709\u4e8b\u4ef6\u4e2d\u6dfb\u52a0\uff0c\u5355\u4f4d\uff1a\u6beb\u79d2 _session_duration number \u5728\u6240\u6709\u4e8b\u4ef6\u4e2d\u6dfb\u52a0\uff0c\u5355\u4f4d\uff1a\u6beb\u79d2 _session_number number \u5728\u6240\u6709\u4e8b\u4ef6\u4e2d\u6dfb\u52a0 _page_title string \u5728\u6240\u6709\u4e8b\u4ef6\u4e2d\u6dfb\u52a0 _page_url string \u5728\u6240\u6709\u4e8b\u4ef6\u4e2d\u6dfb\u52a0 _latest_referrer string \u5728\u6240\u6709\u4e8b\u4ef6\u4e2d\u6dfb\u52a0\uff0c\u6700\u8fd1\u4e00\u6b21\u7ad9\u5916\u94fe\u63a5 _latest_referrer_host string \u5728\u6240\u6709\u4e8b\u4ef6\u4e2d\u6dfb\u52a0\uff0c\u6700\u8fd1\u4e00\u6b21\u7ad9\u5916\u57df\u540d"},{"location":"sdk-manual/web/#item_1","title":"Item\u5c5e\u6027","text":"\u5c5e\u6027\u540d \u6570\u636e\u7c7b\u578b \u662f\u5426\u5fc5\u9700 Description id string \u5426 item\u7684id name string \u5426 item\u7684\u540d\u79f0 brand string \u5426 item\u7684\u54c1\u724c price string | number \u5426 item\u7684\u4ef7\u683c quantity string \u5426 item\u7684\u6570\u91cf creative_name string \u5426 item\u7684\u521b\u610f\u540d\u79f0 creative_slot string \u5426 item\u7684\u521b\u610f\u69fd location_id string \u5426 item\u7684\u4f4d\u7f6eid category string \u5426 item\u7684\u7c7b\u522b category2 string \u5426 item\u7684\u7c7b\u522b2 category3 string \u5426 item\u7684\u7c7b\u522b3 category4 string \u5426 item\u7684\u7c7b\u522b4 category5 string \u5426 item\u7684\u7c7b\u522b5 <p>Item\u4e2d\u7684\u6240\u6709\u5c5e\u6027\u53ea\u652f\u6301\u4e0a\u8868\u4e2d\u7684\u5c5e\u6027\uff0c\u4e0d\u652f\u6301\u81ea\u5b9a\u4e49\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528 <code>category2</code> \u5230 <code>category5</code> \u6765\u8868\u793a\u81ea\u5b9a\u4e49\u5c5e\u6027\u3002</p>"},{"location":"sdk-manual/web/#sdk_2","title":"SDK\u66f4\u65b0\u65e5\u5fd7","text":"<p>\u53c2\u8003\uff1aGitHub \u66f4\u65b0\u65e5\u5fd7</p>"},{"location":"sdk-manual/web/#_24","title":"\u53c2\u8003\u94fe\u63a5","text":"<p>SDK \u6e90\u7801</p> <p>SDK \u95ee\u9898</p>"},{"location":"sdk-manual/wechat/","title":"Clickstream \u5fae\u4fe1\u5c0f\u7a0b\u5e8f SDK","text":""},{"location":"sdk-manual/wechat/#_1","title":"\u4ecb\u7ecd","text":"<p>Clickstream \u5fae\u4fe1\u5c0f\u7a0b\u5e8fSDK\u53ef\u4ee5\u5e2e\u52a9\u60a8\u8f7b\u677e\u5730\u5c06\u5fae\u4fe1\u5c0f\u7a0b\u5e8f\u4e2d\u7684\u70b9\u51fb\u6d41\u6570\u636e\u53d1\u9001\u5230\u60a8\u7684AWS\u73af\u5883\u4e2d\u3002\u4f5c\u4e3a\u89e3\u51b3\u65b9\u6848 \u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u70b9\u51fb\u6d41\u5206\u6790 \u7684\u4e00\u90e8\u5206\uff0cSDK\u5c06\u70b9\u51fb\u6d41\u6570\u636e\u53d1\u9001\u5230\u8be5\u89e3\u51b3\u65b9\u6848\u521b\u5efa\u7684\u6570\u636e\u7ba1\u9053\u4e2d\uff0c\u5e76\u7531\u6570\u636e\u7ba1\u9053\u5904\u7406\u548c\u5bfc\u5165\u5230AWS\u7684\u5206\u6790\u670d\u52a1\u4e2d\uff0c\u5982Amazon S3\u548cAmazon Redshift\u3002</p> <p>\u6b64SDK\u57fa\u4e8e\u5fae\u4fe1\u5c0f\u7a0b\u5e8f\u5e73\u53f0\u53caAPI\u8fdb\u884c\u5f00\u53d1\uff0c\u5b83\u80fd\u591f\u81ea\u52a8\u6536\u96c6\u5e38\u89c1\u7528\u6237\u4e8b\u4ef6\u548c\u5c5e\u6027\uff08\u5982\u9875\u9762\u6d4f\u89c8\u3001\u9996\u6b21\u6253\u5f00\u7b49\uff09\u4ee5\u7b80\u5316\u5173\u4e8e\u7528\u6237\u7684\u6570\u636e\u6536\u96c6\u3002</p>"},{"location":"sdk-manual/wechat/#_2","title":"\u4f7f\u7528\u8bf4\u660e","text":""},{"location":"sdk-manual/wechat/#sdk","title":"\u521d\u59cb\u5316SDK","text":"<ol> <li>\u4eceGitHub\u7248\u672c\u53d1\u5e03\u9875\u9762\u4e0b\u8f7d<code>clickstream-wechat.min.js</code>\u6587\u4ef6\uff0c\u7136\u540e\u62f7\u8d1d\u5230\u60a8\u7684\u5fae\u4fe1\u5c0f\u7a0b\u5e8f\u9879\u76ee\u4e2d\u3002</li> <li>\u4e3a\u4e86\u914d\u5408\u70b9\u51fb\u6d41\u5206\u6790\u89e3\u51b3\u65b9\u6848\uff0c\u60a8\u9700\u8981\u5728\u4f7f\u7528SDK\u524d\u8fdb\u884c\u5fc5\u8981\u7684\u914d\u7f6e\u3002\u4ee5TypeScript\u8bed\u8a00\u5f00\u53d1\u7684\u5fae\u4fe1\u5c0f\u7a0b\u5e8f\u4e3a\u4f8b\uff0c\u5c06\u4ee5\u4e0b\u4ee3\u7801\u6dfb\u52a0\u5230\u5fae\u4fe1\u5c0f\u7a0b\u5e8f\u9879\u76ee\u7684 app.ts \u6587\u4ef6\u4e2d\uff0c\u6ce8\u610f\u6b64\u6bb5\u4ee3\u7801\u9700\u8981\u5728\u5c0f\u7a0b\u5e8f\u9ed8\u8ba4\u7684<code>App()</code>\u65b9\u6cd5\u4e4b\u524d\u6dfb\u52a0\u3002\u60a8\u53ef\u4ee5\u5728Clickstream\u89e3\u51b3\u65b9\u6848\u63a7\u5236\u53f0\u5e94\u7528\u7a0b\u5e8f\u7684\u8be6\u60c5\u4fe1\u606f\u9875\u9762\u4e2d\u627e\u5230<code>appId</code>\u548c<code>endpoint</code>\uff0c\u7528\u4ee5\u914d\u7f6eSDK\u3002</li> </ol> <pre><code>import { ClickstreamAnalytics } from './clickstream-wechat';\n\nClickstreamAnalytics.init({\n    appId: \"your appId\",\n    endpoint: \"https://example.com/collect\"\n});\n</code></pre> <p><code>appId</code>\u548c<code>endpoint</code>\u662fSDK\u5fc5\u9700\u7684\u53c2\u6570\uff0c\u9664\u6b64\u4e4b\u5916\u60a8\u8fd8\u53ef\u4ee5\u914d\u7f6e\u5176\u4ed6\u53c2\u6570\u4ee5\u6ee1\u8db3\u66f4\u591a\u5b9a\u5236\u5316\u7684\u4f7f\u7528\u3002</p> \u53c2\u6570\u540d\u79f0 \u662f\u5426\u5fc5\u9700 \u9ed8\u8ba4\u503c \u8bf4\u660e appId \u662f - \u5728\u89e3\u51b3\u65b9\u6848\u63a7\u5236\u5e73\u53f0\u4e2d\u5e94\u7528\u7a0b\u5e8f\u7684ID endpoint \u662f - \u5c06\u4e8b\u4ef6\u53d1\u9001\u5230Clickstream\u6444\u53d6\u670d\u52a1\u5668\u7684URL\u8bf7\u6c42\u8def\u5f84 sendMode \u5426 SendMode.Immediate \u53d1\u9001\u4e8b\u4ef6\u6a21\u5f0f: SendMode.Immediate \uff08\u7acb\u5373\u53d1\u9001\uff09, SendMode.Batch \uff08\u6279\u91cf\u53d1\u9001\uff09 sendEventsInterval \u5426 5000 \u4e8b\u4ef6\u53d1\u9001\u95f4\u9694\u6beb\u79d2\u6570\uff0c\u4ec5\u5728\u6279\u91cf\u53d1\u9001\u6a21\u5f0f\u4e0b\u751f\u6548 autoTrackAppStart \u5426 true \u662f\u5426\u81ea\u52a8\u8bb0\u5f55\u5c0f\u7a0b\u5e8f\u542f\u52a8\u4e8b\u4ef6 autoTrackAppEnd \u5426 true \u662f\u5426\u81ea\u52a8\u8bb0\u5f55\u5c0f\u7a0b\u5e8f\u7ed3\u675f\u4e8b\u4ef6 autoTrackPageShow \u5426 true \u662f\u5426\u81ea\u52a8\u8bb0\u5f55\u5c0f\u7a0b\u5e8f\u9875\u9762\u6d4f\u89c8\u4e8b\u4ef6 autoTrackUserEngagement \u5426 true \u662f\u5426\u81ea\u52a8\u8bb0\u5f55\u7528\u6237\u53c2\u4e0e\u4e8b\u4ef6 autoTrackMPShare \u5426 false \u662f\u5426\u81ea\u52a8\u8bb0\u5f55\u5206\u4eab\u5c0f\u7a0b\u5e8f\u4e8b\u4ef6 autoTrackMPFavorite \u5426 false \u662f\u5426\u81ea\u52a8\u8bb0\u5f55\u6536\u85cf\u5c0f\u7a0b\u5e8f\u4e8b\u4ef6 debug \u5426 false \u662f\u5426\u5728\u63a7\u5236\u53f0\u6253\u5370SDK\u65e5\u5fd7 authCookie \u5426 - \u7528\u4e8e\u5e94\u7528\u7a0b\u5e8f\u8d1f\u8f7d\u5747\u8861\u5668\uff08ALB\uff09\u8eab\u4efd\u9a8c\u8bc1\u7684cookie sessionTimeoutDuration \u5426 1800000 \u4f1a\u8bdd\u8d85\u65f6\u7684\u65f6\u957f\uff08\u5355\u4f4d\uff1a\u6beb\u79d2\uff09 <p>\u60a8\u53ef\u4ee5\u5728\u521d\u59cb\u5316SDK\u540e\u901a\u8fc7\u8c03\u7528<code>configure()</code>\u65b9\u6cd5\u66f4\u65b0SDK\u914d\u7f6e</p> <pre><code>import { ClickstreamAnalytics, SendMode } from './clickstream-wechat';\n\nClickstreamAnalytics.configure({\n  appId: \"your appId\",\n  endpoint: \"https://example.com/collect\",\n  sendMode: SendMode.Batch,\n  debug: true,\n  authCookie: 'auth cookie',\n  autoTrackPageShow: false\n});\n</code></pre>"},{"location":"sdk-manual/wechat/#sdk_1","title":"\u4f7f\u7528SDK","text":""},{"location":"sdk-manual/wechat/#_3","title":"\u6dfb\u52a0\u7528\u6237\u4fe1\u606f","text":"<pre><code>// \u6dfb\u52a0\u6216\u66f4\u65b0\u7528\u6237\u5c5e\u6027\nClickstreamAnalytics.setUserAttributes({\n  name:\"carl\",\n  age: 22\n});\n\n// \u7528\u6237\u767b\u5f55\u6210\u529f\u540e\u8bbe\u7f6e\u7528\u6237ID\nClickstreamAnalytics.setUserId(\"UserId\");\n\n// \u7528\u6237\u9000\u51fa\u767b\u5f55\u540e\u6e05\u7a7a\u7528\u6237ID\nClickstreamAnalytics.setUserId(null);\n</code></pre> <p>\u5f53\u524d\u767b\u5f55\u7528\u6237\u7684\u5c5e\u6027\u4f1a\u7f13\u5b58\u5728\u5c0f\u7a0b\u5e8f\u672c\u5730\u5b58\u50a8\u7a7a\u95f4\uff08wxStorage\uff09\u4e2d\u3002</p>"},{"location":"sdk-manual/wechat/#_4","title":"\u8bb0\u5f55\u4e8b\u4ef6","text":"<p>\u60a8\u53ef\u4ee5\u8c03\u7528<code>ClickstreamAnalytics.record()</code>\u65b9\u6cd5\u8bb0\u5f55\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u3002\u4e8b\u4ef6\u4e2d\u7684\u53c2\u6570<code>name</code>\u662f\u5fc5\u9700\u7684\uff0c\u53c2\u6570<code>attributes</code>\u548c<code>items</code>\u4e0d\u662f\u5fc5\u9700\u7684\u3002\u53c2\u6570<code>attributes</code>\u662f\u4e00\u4e2a\u5bf9\u8c61\uff0c\u7528\u6765\u8bb0\u5f55\u5404\u79cd\u5c5e\u6027\u3002\u53c2\u6570<code>items</code>\u662f\u4e00\u4e2a\u4fdd\u5b58<code>item</code>\u7c7b\u578b\u5bf9\u8c61\u7684\u6570\u7ec4\uff0c\u8bf7\u53c2\u9605item\u5c5e\u6027\u67e5\u770bitem\u4e2d\u7684\u53c2\u6570\u3002</p> <p>\u8bb0\u5f55\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u793a\u4f8b\uff1a</p> <pre><code>ClickstreamAnalytics.record({ name: 'albumVisit' });\n\nClickstreamAnalytics.record({\n  name: 'buttonClick',\n  attributes: { buttonName: 'confirm', itemNo: 12345, inStock: true },\n  items: [\n    {\n      id: 'p_123',\n      name: 'item_name',\n      price: 168.99\n    }\n  ]\n});\n</code></pre>"},{"location":"sdk-manual/wechat/#_5","title":"\u8c03\u8bd5\u4e8b\u4ef6","text":"<p>\u60a8\u53ef\u4ee5\u6309\u7167\u4ee5\u4e0b\u6b65\u9aa4\u67e5\u770b\u4e8b\u4ef6\u539f\u59cbjson\u5e76\u8c03\u8bd5\u60a8\u7684\u4e8b\u4ef6\uff1a</p> <ol> <li>\u8c03\u7528<code>ClickstreamAnalytics.configure()</code>\u65b9\u6cd5\u5c06SDK\u914d\u7f6e\u4e2d\u7684 debug \u53c2\u6570\u8bbe\u4e3a<code>true</code>\uff0c\u4ee5\u5f00\u542fSDK\u7684\u8c03\u8bd5\u6a21\u5f0f\u3002</li> <li>\u96c6\u6210SDK\u5e76\u5728\u8bbe\u5907\u4e0a\u6216\u5fae\u4fe1\u5f00\u53d1\u8005\u5de5\u5177\u4e2d\u542f\u52a8\u5fae\u4fe1\u5c0f\u7a0b\u5e8f\u3002</li> <li>\u5728\u63a7\u5236\u53f0\u4e2d\u67e5\u770bSDK\u6240\u8bb0\u5f55\u7684\u4e8b\u4ef6\u5185\u5bb9\u3002</li> </ol>"},{"location":"sdk-manual/wechat/#_6","title":"\u6570\u636e\u683c\u5f0f\u5b9a\u4e49","text":""},{"location":"sdk-manual/wechat/#_7","title":"\u6570\u636e\u7c7b\u578b","text":"<p>\u5fae\u4fe1\u5c0f\u7a0b\u5e8fSDK\u652f\u6301\u4ee5\u4e0b\u6570\u636e\u7c7b\u578b</p> \u6570\u636e\u7c7b\u578b \u8303\u56f4 \u793a\u4f8b number 5e-324~1.79e+308 12, 26854775808, 3.14 boolean true\u3001false true string \u6700\u5927\u652f\u63011024\u4e2a\u5b57\u7b26 \"clickstream\""},{"location":"sdk-manual/wechat/#_8","title":"\u547d\u540d\u89c4\u5219","text":"<ol> <li>\u4e8b\u4ef6\u540d\u79f0\u548c\u5c5e\u6027\u540d\u79f0\u4e0d\u80fd\u4ee5\u6570\u5b57\u5f00\u5934\uff0c\u53ea\u80fd\u5305\u542b\u5927\u5c0f\u5199\u5b57\u6bcd\u3001\u6570\u5b57\u548c\u4e0b\u5212\u7ebf\u3002\u5982\u679c\u4e8b\u4ef6\u540d\u79f0\u4e0d\u5408\u89c4\uff0cSDK\u5c06\u4e0d\u4f1a\u53d1\u9001\u6b64\u4e8b\u4ef6\u3002\u5982\u679c\u4e8b\u4ef6\u4e2d\u7684\u67d0\u4e9b\u5c5e\u6027\u540d\u79f0\u4e0d\u5408\u89c4\uff0c\u53d1\u9001\u4e8b\u4ef6\u65f6\u5c06\u4e0d\u5305\u542b\u8fd9\u4e9b\u5c5e\u6027\u3002\u4e24\u79cd\u60c5\u51b5\u4e0b\u90fd\u4f1a\u8bb0\u5f55_clickstream_error\u4e8b\u4ef6\u3002</li> <li>\u4e0d\u8981\u4f7f\u7528<code>_</code>\u4f5c\u4e3a\u4e8b\u4ef6\u540d\u79f0\u6216\u5c5e\u6027\u540d\u79f0\u7684\u524d\u7f00\uff0c\u4ee5<code>_</code>\u4e3a\u524d\u7f00\u7684\u540d\u79f0\u662f\u4e3a\u70b9\u51fb\u6d41\u5206\u6790\u7684\u9884\u7f6e\u4e8b\u4ef6\u548c\u5c5e\u6027\u4fdd\u7559\u7684\u3002</li> <li>\u4e8b\u4ef6\u540d\u79f0\u548c\u5c5e\u6027\u540d\u79f0\u533a\u5206\u5927\u5c0f\u5199\u3002\u4f8b\u5982\uff0c\u4e8b\u4ef6<code>Add_to_cart</code>\u548c<code>add_to_cart</code>\u5c06\u88ab\u89c6\u4e3a\u4e24\u4e2a\u4e0d\u540c\u7684\u4e8b\u4ef6\u3002</li> </ol>"},{"location":"sdk-manual/wechat/#_9","title":"\u4e8b\u4ef6\u548c\u5c5e\u6027\u9650\u5236","text":"<p>\u4e3a\u4e86\u63d0\u9ad8\u67e5\u8be2\u548c\u5206\u6790\u6548\u7387\uff0c\u6211\u4eec\u9700\u8981\u5bf9\u4e8b\u4ef6\u8fdb\u884c\u4ee5\u4e0b\u9650\u5236</p> \u540d\u79f0 \u5efa\u8bae \u9650\u5236 \u8d85\u8fc7\u9650\u5236\u7684\u5904\u7406\u7b56\u7565 \u9519\u8bef\u7801 EVENT_NAME_INVALID -- -- \u4e22\u5f03\u8be5\u4e8b\u4ef6\uff0c\u6253\u5370\u65e5\u5fd7\u5e76\u8bb0\u5f55_clickstream_error\u4e8b\u4ef6 1001 EVENT_NAME_LENGTH_EXCEED \u5c11\u4e8e25\u4e2a\u5b57\u7b26 50\u4e2a\u5b57\u7b26 \u4e22\u5f03\u8be5\u4e8b\u4ef6\uff0c\u6253\u5370\u65e5\u5fd7\u5e76\u8bb0\u5f55_clickstream_error\u4e8b\u4ef6 1002 ATTRIBUTE_NAME_LENGTH_EXCEED \u5c11\u4e8e25\u4e2a\u5b57\u7b26 50\u4e2a\u5b57\u7b26 \u4e22\u5f03\u8be5\u5c5e\u6027\uff0c\u6253\u5370\u65e5\u5fd7\u5e76\u8bb0\u5f55_clickstream_error\u4e8b\u4ef6 2001 ATTRIBUTE_NAME_INVALID -- -- \u4e22\u5f03\u8be5\u5c5e\u6027\uff0c\u6253\u5370\u65e5\u5fd7\u5e76\u8bb0\u5f55_clickstream_error\u4e8b\u4ef6 2002 ATTRIBUTE_VALUE_LENGTH_EXCEED \u5c11\u4e8e100\u4e2a\u5b57\u7b26 1024\u4e2a\u5b57\u7b26 \u4e22\u5f03\u8be5\u5c5e\u6027\uff0c\u6253\u5370\u65e5\u5fd7\u5e76\u8bb0\u5f55_clickstream_error\u4e8b\u4ef6 2003 ATTRIBUTE_SIZE_EXCEED \u5c11\u4e8e50\u4e2a\u5c5e\u6027 500\u4e2a\u5c5e\u6027 \u4e22\u5f03\u8d85\u51fa\u9650\u5236\u7684\u5c5e\u6027\uff0c\u6253\u5370\u65e5\u5fd7\u5e76\u8bb0\u5f55_clickstream_error\u4e8b\u4ef6 2004 USER_ATTRIBUTE_SIZE_EXCEED \u5c11\u4e8e25\u4e2a\u5c5e\u6027 100\u4e2a\u5c5e\u6027 \u4e22\u5f03\u8d85\u51fa\u9650\u5236\u7684\u5c5e\u6027\uff0c\u6253\u5370\u65e5\u5fd7\u5e76\u8bb0\u5f55_clickstream_error\u4e8b\u4ef6 3001 USER_ATTRIBUTE_NAME_LENGTH_EXCEED \u5c11\u4e8e25\u4e2a\u5b57\u7b26 50\u4e2a\u5b57\u7b26 \u4e22\u5f03\u8be5\u5c5e\u6027\uff0c\u6253\u5370\u65e5\u5fd7\u5e76\u8bb0\u5f55_clickstream_error\u4e8b\u4ef6 3002 USER_ATTRIBUTE_NAME_INVALID -- -- \u4e22\u5f03\u8be5\u5c5e\u6027\uff0c\u6253\u5370\u65e5\u5fd7\u5e76\u8bb0\u5f55_clickstream_error\u4e8b\u4ef6 3003 USER_ATTRIBUTE_VALUE_LENGTH_EXCEED \u5c11\u4e8e50\u4e2a\u5b57\u7b26 256\u4e2a\u5b57\u7b26 \u4e22\u5f03\u8be5\u5c5e\u6027\uff0c\u6253\u5370\u65e5\u5fd7\u5e76\u8bb0\u5f55_clickstream_error\u4e8b\u4ef6 3004 ITEM_SIZE_EXCEED \u5c11\u4e8e50\u4e2aitems 100\u4e2aitems \u4e22\u5f03\u8d85\u51fa\u9650\u5236\u7684items\uff0c\u6253\u5370\u65e5\u5fd7\u5e76\u8bb0\u5f55_clickstream_error\u4e8b\u4ef6 4001 ITEM_VALUE_LENGTH_EXCEED \u5c11\u4e8e100\u4e2a\u5b57\u7b26 256\u4e2a\u5b57\u7b26 \u4e22\u5f03\u8be5item\uff0c\u6253\u5370\u65e5\u5fd7\u5e76\u8bb0\u5f55_clickstream_error\u4e8b\u4ef6 4002 <p>\u91cd\u8981\u63d0\u793a</p> <ul> <li>\u5b57\u7b26\u9650\u5236\u9002\u7528\u4e8e\u5355\u5bbd\u5b57\u7b26\u8bed\u8a00\uff08\u5982\u82f1\u8bed\uff09\u548c\u53cc\u5bbd\u5b57\u7b26\u8bed\u8a00\uff08\u5982\u4e2d\u6587\uff09\u3002</li> <li>\u4e8b\u4ef6\u5c5e\u6027\u603b\u6570\u9650\u5236\u5305\u62ec\u4e8b\u4ef6\u4e2d\u7684\u9884\u8bbe\u5c5e\u6027\u3002</li> <li>\u5982\u679c\u591a\u6b21\u6dfb\u52a0\u76f8\u540c\u540d\u79f0\u7684\u5c5e\u6027\uff0c\u5219\u5c5e\u6027\u503c\u5c06\u88ab\u6700\u540e\u4e00\u4e2a\u503c\u8986\u76d6\u3002</li> </ul>"},{"location":"sdk-manual/wechat/#_10","title":"\u9884\u7f6e\u4e8b\u4ef6","text":""},{"location":"sdk-manual/wechat/#_11","title":"\u81ea\u52a8\u6536\u96c6\u7684\u4e8b\u4ef6","text":"\u4e8b\u4ef6\u540d\u79f0 \u89e6\u53d1\u65f6\u673a \u4e8b\u4ef6\u5c5e\u6027 \u8bf4\u660e _session_start \u5f53\u7528\u6237\u9996\u6b21\u8bbf\u95ee\u5fae\u4fe1\u5c0f\u7a0b\u5e8f\u6216\u7528\u6237\u5173\u95ed\u5fae\u4fe1\u5c0f\u7a0b\u5e8f30\u5206\u949f\u540e\u518d\u6b21\u6253\u5f00\u5fae\u4fe1\u5c0f\u7a0b\u5e8f\u65f6 1. _session_id 2. _session_start_timestamp3. _session_number4. _session_duration _session_id \u901a\u8fc7<code>uniqueId</code>\u6700\u540e8\u4e2a\u5b57\u7b26\u548c\u8d77\u59cb\u65f6\u95f4\u6beb\u79d2\u503c\u751f\u6210\uff0c\u4f8b\u5982\uff1adc7a7a18-20230905-131926703 _screen_view \u5f53\u53d1\u751f\u9875\u9762\u8f6c\u6362\u65f6\u4e14\u6ee1\u8db3\u4e0b\u5217\u6761\u4ef6\u4e4b\u4e00:  * \u4e0a\u4e00\u9875\u9762\u4e3a\u7a7a * \u65b0\u9875\u9762\u540d\u79f0\u548c\u4e0a\u4e00\u9875\u9762\u540d\u79f0\u4e0d\u540c * \u65b0\u9875\u9762\u7684\u7c7b\u540d\u548c\u4e0a\u4e00\u9875\u9762\u7684\u7c7b\u540d\u4e0d\u540c * \u65b0\u9875\u9762\u7684ID\u548c\u4e0a\u4e00\u9875\u9762\u7684ID\u4e0d\u540c 1. _screen_name2. _screen_id3. _previous_screen_name4. _previous_screen_id5. _engagement_time_msec _first_open \u7528\u6237\u7b2c\u4e00\u6b21\u542f\u52a8\u5c0f\u7a0b\u5e8f\u65f6 \u53ea\u4f1a\u8bb0\u5f55\u4e00\u6b21 _app_start \u6bcf\u4e00\u6b21\u542f\u52a8\u5fae\u4fe1\u5c0f\u7a0b\u5e8f\u65f6 1. _is_first_time _app_end \u6bcf\u4e00\u6b21\u5173\u95ed\u5fae\u4fe1\u5c0f\u7a0b\u5e8f\u65f6 _user_engagement \u5f53\u7528\u6237\u79bb\u5f00\u5f53\u524d\u9875\u9762\u6216\u5173\u95ed/\u9690\u85cf\u5fae\u4fe1\u5c0f\u7a0b\u5e8f\u65f6 1. _engagement_time_msec \u7528\u6237\u53c2\u4e0e\u65f6\u95f4\u662f\u4ee5\u5fae\u4fe1\u5c0f\u7a0b\u5e8f\u9875\u9762\u4e3a\u5bf9\u8c61\u8fdb\u884c\u8ba1\u7b97 _profile_set \u5f53\u8c03\u7528<code>addUserAttributes()</code>\u6216<code>setUserId()</code>\u65b9\u6cd5\u65f6 _mp_share \u5f53\u7528\u6237\u5206\u4eab\u5fae\u4fe1\u5c0f\u7a0b\u5e8f\u65f6 _mp_favorite \u5f53\u7528\u6237\u6536\u85cf\u5fae\u4fe1\u5c0f\u7a0b\u5e8f\u65f6 _clickstream_error \u5f53\u4e8b\u4ef6\u540d\u79f0\uff0c\u5c5e\u6027\u540d\u79f0\u6216\u5c5e\u6027\u503c\u4e0d\u5408\u89c4\u65f6 1. _error_code 2. _error_message"},{"location":"sdk-manual/wechat/#_12","title":"\u4f1a\u8bdd\u5b9a\u4e49","text":"<p>\u5728\u5fae\u4fe1\u5c0f\u7a0b\u5e8fSDK\u4e2d\uff0c\u6211\u4eec\u4e0d\u9650\u5236\u4f1a\u8bdd\u7684\u603b\u65f6\u95f4\uff0c\u53ea\u8981\u5c0f\u7a0b\u5e8f\u6700\u540e\u4e00\u6b21\u9000\u51fa\u548c\u4e0b\u6b21\u8fdb\u5165\u4e4b\u95f4\u7684\u65f6\u95f4\u5728\u5141\u8bb8\u7684\u8d85\u65f6\u65f6\u95f4\u5185\uff0c\u6211\u4eec\u5c31\u8ba4\u4e3a\u5f53\u524d\u4f1a\u8bdd\u662f\u8fde\u7eed\u7684\u3002</p> <ol> <li>_session_start\uff1a\u5f53\u7528\u6237\u9996\u6b21\u8bbf\u95ee\u5fae\u4fe1\u5c0f\u7a0b\u5e8f\u6216\u7528\u6237\u5173\u95ed\u5fae\u4fe1\u5c0f\u7a0b\u5e8f30\u5206\u949f\u540e\u518d\u6b21\u6253\u5f00\u5fae\u4fe1\u5c0f\u7a0b\u5e8f\u65f6</li> <li>_session_duration\uff1a\u6211\u4eec\u901a\u8fc7\u5f53\u524d\u4e8b\u4ef6\u53d1\u751f\u65f6\u95f4\u51cf\u53bb\u4f1a\u8bdd\u521b\u5efa\u65f6\u95f4\uff08<code>_session_start_timestamp</code>\uff09\u6765\u8ba1\u7b97\u4f1a\u8bdd\u6301\u7eed\u65f6\u95f4\uff0c\u4f1a\u8bdd\u671f\u95f4\u7684\u6bcf\u4e2a\u4e8b\u4ef6\u4e2d\u90fd\u5305\u542b\u8be5\u5c5e\u6027\u3002</li> <li>_session_number\uff1a\u5fae\u4fe1\u5c0f\u7a0b\u5e8f\u4f1a\u8bdd\u7684\u81ea\u589e\u6570\uff0c\u521d\u59cb\u503c\u4e3a1\u3002</li> <li>\u4f1a\u8bdd\u8d85\u65f6\u65f6\u95f4\uff1a\u9ed8\u8ba4\u4e3a30\u5206\u949f\uff0c\u53ef\u4ee5\u81ea\u5b9a\u4e49\u3002</li> </ol>"},{"location":"sdk-manual/wechat/#_13","title":"\u7528\u6237\u53c2\u4e0e\u5ea6\u5b9a\u4e49","text":"<p>\u5728\u5fae\u4fe1\u5c0f\u7a0b\u5e8fSDK\u4e2d\uff0c\u6211\u4eec\u5c06<code>_user_engagement</code>\u5b9a\u4e49\u4e3a\u8bb0\u5f55\u7528\u6237\u6d4f\u89c8\u9875\u9762\u65f6\u957f\u7684\u4e8b\u4ef6\u3002<code>_engagement_time_msec</code>\u4ee5\u5fae\u4fe1\u5c0f\u7a0b\u5e8f\u9875\u9762\u4e3a\u5bf9\u8c61\u8ba1\u7b97\u7528\u6237\u505c\u7559\u65f6\u957f\uff0c\u4ece\u6d4f\u89c8\u9875\u9762\u5f00\u59cb\u76f4\u5230\u9875\u9762\u9690\u85cf\u3001\u5173\u95ed\u6216\u8df3\u8f6c\u5230\u5176\u4ed6\u9875\u9762\u3002</p>"},{"location":"sdk-manual/wechat/#_14","title":"\u4e8b\u4ef6\u5c5e\u6027","text":""},{"location":"sdk-manual/wechat/#_15","title":"\u901a\u7528\u5c5e\u6027","text":"\u5c5e\u6027\u540d\u79f0 \u793a\u4f8b \u8bf4\u660e \u5982\u4f55\u751f\u6210 app_id \"appId\" \u70b9\u51fb\u6d41app id\uff0c\u7528\u4ee5\u533a\u5206\u4e0d\u540capp\u7684\u4e8b\u4ef6 \u53ef\u901a\u8fc7\u8c03\u7528SDK\u7684<code>init()</code>\u6216<code>configure()</code>\u65b9\u6cd5\u8fdb\u884c\u8bbe\u7f6e unique_id \"c84ad28d-16a8-4af4-a331-f34cdc7a7a18\" \u6807\u8bc6\u4e0d\u540c\u7528\u6237\u7684\u552f\u4e00\u6027\uff0c\u5e76\u5173\u8054\u767b\u5f55\u548c\u672a\u767b\u5f55\u7528\u6237\u7684\u884c\u4e3a \u53ef\u4ee5\u4f7f\u7528\u5fae\u4fe1\u7528\u6237\u7684 openId \u4f5c\u4e3a<code>unique_id</code> device_id \"a843d34c-15a8-2af4-a332-b34cdc4a7a12\" \u533a\u5206\u4e0d\u540c\u8bbe\u5907 \u5728\u5fae\u4fe1\u5c0f\u7a0b\u5e8f\u7b2c\u4e00\u6b21\u542f\u52a8\u65f6\u751f\u6210uuid\uff0c\u5e76\u4fdd\u5b58\u5728wxStorage\u4e2d\uff0c\u4e4b\u540e\u4e5f\u4e0d\u4f1a\u66f4\u6539 event_type \"_session_start\" \u4e8b\u4ef6\u540d\u79f0 \u7531\u5f00\u53d1\u8005\u6216SDK\u8bbe\u7f6e event_id \"460daa08-0717-4385-8f2e-acb5bd019ee7\" \u4e8b\u4ef6\u7684\u552f\u4e00id \u521b\u5efa\u4e8b\u4ef6\u65f6\u751f\u6210uuid timestamp 1667877566697 \u4e8b\u4ef6\u521b\u5efa\u65f6\u7684\u65f6\u95f4\u6233 <code>new Date().getTime()</code> \u5355\u4f4d\uff1a\u6beb\u79d2 platform \"WeChatMP\" \u5e73\u53f0\u540d\u79f0 \u5fae\u4fe1\u5c0f\u7a0b\u5e8f\u56fa\u5b9a\u4f7f\u7528\"WeChatMP\" os_name \"iOS\" \u8bbe\u5907\u64cd\u4f5c\u7cfb\u7edf\u540d\u79f0 \u7531<code>wx.getSystemInfoSync()</code> API\u83b7\u53d6 os_version \"iOS 12.0.1\" \u8bbe\u5907\u64cd\u4f5c\u7cfb\u7edf\u7248\u672c \u7531<code>wx.getSystemInfoSync()</code> API\u83b7\u53d6 wechat_version \"8.0.5\" \u5fae\u4fe1\u7248\u672c \u7531<code>wx.getSystemInfoSync()</code> API\u83b7\u53d6 wechat_sdk_version \"3.0.0\" \u5fae\u4fe1SDK\u7248\u672c \u7531<code>wx.getSystemInfoSync()</code> API\u83b7\u53d6 brand Google Inc. \u8bbe\u5907\u54c1\u724c \u7531<code>wx.getSystemInfoSync()</code> API\u83b7\u53d6 model \"iPhone 6/7/8\" \u8bbe\u5907\u578b\u53f7 \u7531<code>wx.getSystemInfoSync()</code> API\u83b7\u53d6 system_language \"zh\" \u8bbe\u5907\u7cfb\u7edf\u8bed\u8a00 \u7531<code>wx.getSystemInfoSync()</code> API\u83b7\u53d6 screen_height 667 \u5c4f\u5e55\u9ad8\u5ea6\u50cf\u7d20 \u7531<code>wx.getSystemInfoSync()</code> API\u83b7\u53d6 screen_width 375 \u5c4f\u5e55\u5bbd\u5ea6\u50cf\u7d20 \u7531<code>wx.getSystemInfoSync()</code> API\u83b7\u53d6 zone_offset 28800000 \u8bbe\u5907\u6240\u5904\u65f6\u533a\u4e0eGMT\u7684\u539f\u59cb\u504f\u79fb\u91cf\uff08\u5355\u4f4d\uff1a\u6beb\u79d2\uff09 <code>-currentDate.getTimezoneOffset() * 60 * 1000</code> network_type \"wifi\" \u8bbe\u5907\u7f51\u7edc\u7c7b\u578b \u7531<code>wx.getNetworkType()</code> API\u83b7\u53d6 sdk_version \"0.2.0\" \u70b9\u51fb\u6d41SDK\u7248\u672c \u4ece package.json \u83b7\u53d6 sdk_name \"aws-solution-clickstream-sdk\" \u70b9\u51fb\u6d41SDK\u540d\u79f0 \u56fa\u5b9a\u4e3a\"aws-solution-clickstream-sdk\" app_package_name \"wxbd614036ba3d1f05\" \u5fae\u4fe1\u5c0f\u7a0b\u5e8fID \u7531<code>wx.getAccountInfoSync()</code> API\u83b7\u53d6 app_version \"1.0.1\" \u5fae\u4fe1\u5c0f\u7a0b\u5e8f\u7248\u672c \u7531<code>wx.getAccountInfoSync()</code> API\u83b7\u53d6"},{"location":"sdk-manual/wechat/#_16","title":"\u4fdd\u7559\u5c5e\u6027","text":"<p>\u7528\u6237\u5c5e\u6027</p> \u5c5e\u6027\u540d\u79f0 \u662f\u5426\u5fc5\u9700 \u8bf4\u660e _user_id \u662f \u5fae\u4fe1\u5c0f\u7a0b\u5e8f\u7528\u6237ID _user_name \u662f \u5fae\u4fe1\u5c0f\u7a0b\u5e8f\u7528\u6237\u540d\u79f0 _user_first_touch_timestamp \u662f \u5fae\u4fe1\u5c0f\u7a0b\u5e8f\u7528\u6237\u9996\u6b21\u4f7f\u7528\u5c0f\u7a0b\u5e8f\u7684\u65f6\u95f4 <p>\u4e8b\u4ef6\u5c5e\u6027</p> \u5c5e\u6027\u540d\u79f0 \u662f\u5426\u5fc5\u9700 \u8bf4\u660e _error_code \u5426 \u9519\u8bef\u7801\uff0c\u7528\u4e8e\u4e0a\u62a5_clickstream_error\u4e8b\u4ef6 _error_message \u5426 \u9519\u8bef\u539f\u56e0\uff0c\u7528\u4e8e\u4e0a\u62a5_clickstream_error\u4e8b\u4ef6 _session_id \u662f \u4f1a\u8bddID _session_start_timestamp \u662f \u4f1a\u8bdd\u8d77\u59cb\u65f6\u95f4 _session_duration \u662f \u4f1a\u8bdd\u6301\u7eed\u65f6\u95f4 _session_number \u662f \u4f1a\u8bdd\u81ea\u589e\u6570\uff0c\u4ece1\u5f00\u59cb _screen_name \u5426 \u5f53\u524d\u9875\u9762\u540d\u79f0 _screen_id \u5426 \u5f53\u524d\u9875\u9762ID _screen_route \u5426 \u5f53\u524d\u9875\u9762URL _previous_screen_name \u5426 \u4e0a\u4e00\u9875\u9762\u540d\u79f0 _previous_screen_id \u5426 \u4e0a\u4e00\u9875\u9762ID _previous_screen_route \u5426 \u4e0a\u4e00\u9875\u9762URL _engagement_time_msec \u5426 \u7528\u6237\u5728\u5f53\u524d\u9875\u9762\u505c\u7559\u65f6\u95f4 _is_first_time \u5426 \u7528\u6237\u9996\u6b21\u4f7f\u7528\u5fae\u4fe1\u5c0f\u7a0b\u5e8f\u65f6\u4e3a<code>true</code>"},{"location":"sdk-manual/wechat/#item","title":"Item\u5c5e\u6027","text":"\u5c5e\u6027\u540d\u79f0 \u6570\u636e\u7c7b\u578b \u662f\u5426\u5fc5\u9700 \u8bf4\u660e id string \u5426 item\u7684id name string \u5426 item\u7684\u540d\u79f0 brand string \u5426 item\u7684\u54c1\u724c price string | number \u5426 item\u7684\u4ef7\u683c quantity number \u5426 item\u7684\u6570\u91cf creative_name string \u5426 item\u7684\u521b\u610f\u540d\u79f0 creative_slot string \u5426 item\u7684\u521b\u610f\u69fd location_id string \u5426 item\u7684\u4f4d\u7f6eid category string \u5426 item\u7684\u7c7b\u522b category2 string \u5426 item\u7684\u7c7b\u522b2 category3 string \u5426 item\u7684\u7c7b\u522b3 category4 string \u5426 item\u7684\u7c7b\u522b4 category5 string \u5426 item\u7684\u7c7b\u522b5"},{"location":"sdk-manual/wechat/#_17","title":"\u4e8b\u4ef6\u793a\u4f8b","text":"<pre><code>{\n  \"app_id\": \"appId\",\n  \"unique_id\": \"c84ad28d-16a8-4af4-a331-f34cdc7a7a18\",\n  \"device_id\": \"be4b3f1e-b2a8-4b7b-9055-4257e3e313c8\",\n  \"event_type\": \"_screen_view\",\n  \"event_id\": \"460daa08-0717-4385-8f2e-acb5bd019ee7\",\n  \"timestamp\": 1667877566697,\n  \"platform\": \"WeChatMP\",\n  \"os_name\": \"iOS\",\n  \"os_version\": \"iOS 12.0.1\",\n  \"wechat_version\": \"8.0.5\",\n  \"wechat_sdk_version\": \"3.0.0\",\n  \"brand\": \"devtools\",\n  \"model\": \"iPhone 6/7/8\",\n  \"system_language\": \"en\",\n  \"screen_height\": 667,\n  \"screen_width\": 375,\n  \"zone_offset\": 28800000,\n  \"network_type\": \"wifi\",\n  \"sdk_version\": \"0.2.0\",\n  \"sdk_name\": \"aws-solution-clickstream-sdk\",\n  \"app_version\": \"1.0.1\",\n  \"app_package_name\": \"wxbd614036ba3d1f05\",\n  \"user\": {\n    \"_user_id\": {\n      \"value\":\"312121\",\n      \"set_timestamp\": 1667877566697\n    },\n    \"_user_name\": {\n      \"value\":\"carl\",\n      \"set_timestamp\": 1667877566697\n    },\n    \"_user_first_touch_timestamp\": {\n      \"value\":1667877267895,\n      \"set_timestamp\": 1667877566697\n    }\n  },\n  \"attributes\": {\n    \"_session_id\":\"dc7a7a18-20221108-031926703\",\n    \"_session_start_timestamp\": 1667877566703,\n    \"_session_duration\": 391809,\n    \"_session_number\": 1,\n    \"_previous_screen_id\": \"pages/category/index\",\n    \"_screen_id\": \"pages/items/11223/detail\",\n    \"_engagement_time_msec\": 30000\n  },\n  \"items\": [\n    {\n      \"id\": \"p_123\",\n      \"name\": \"item_name\",\n      \"price\": 168.99\n    }\n  ]\n}\n</code></pre>"},{"location":"sdk-manual/wechat/#_18","title":"\u66f4\u65b0\u65e5\u5fd7","text":"<p>GitHub\u66f4\u65b0\u65e5\u5fd7</p>"},{"location":"sdk-manual/wechat/#_19","title":"\u53c2\u8003\u94fe\u63a5","text":"<p>SDK\u6e90\u7801</p> <p>SDK\u95ee\u9898</p>"},{"location":"solution-overview/","title":"\u6982\u8ff0","text":"<p>\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u70b9\u51fb\u6d41\u5206\u6790\u5e2e\u52a9\u60a8\u8f7b\u677e\u5730\u5728\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u4e0a\u6536\u96c6\u3001\u6444\u53d6\u3001\u5904\u7406\u548c\u5206\u6790\u6765\u81ea\u7f51\u7ad9\u548c\u79fb\u52a8\u5e94\u7528\u7a0b\u5e8f\u7684\u70b9\u51fb\u6d41\u6570\u636e\u3002\u60a8\u53ef\u4ee5\u4f7f\u7528\u8be5\u89e3\u51b3\u65b9\u6848\u6765\u5feb\u901f\u6784\u5efa\u9002\u5408\u60a8\u7ec4\u7ec7\u9700\u6c42\u7684\u5206\u6790\u5e73\u53f0\uff0c\u5e76\u4fdd\u6301\u5bf9\u7528\u6237\u884c\u4e3a\u6570\u636e\u5b8c\u5168\u7684\u6240\u6709\u6743\u548c\u63a7\u5236\u6743\u3002\u8be5\u89e3\u51b3\u65b9\u6848\u53ef\u4ee5\u5e94\u7528\u4e8e\u591a\u79cd\u573a\u666f\uff0c\u4f8b\u5982\u7528\u6237\u884c\u4e3a\u5206\u6790\u548c\u8425\u9500\u5206\u6790\uff0c\u4ee5\u63d0\u9ad8\u7f51\u7ad9\u548c\u5e94\u7528\u7a0b\u5e8f\u7684\u4e1a\u52a1\u8868\u73b0\u3002</p> <p>\u8be5\u89e3\u51b3\u65b9\u6848\u63d0\u4f9b\u4e86\u6a21\u5757\u5316\u548c\u53ef\u914d\u7f6e\u7684\u6570\u636e\u7ba1\u9053\u7ec4\u4ef6\uff0c\u56e0\u6b64\u60a8\u53ef\u4ee5\u9009\u62e9\u548c\u81ea\u5b9a\u4e49\u7ec4\u4ef6\uff0c\u5c06\u67b6\u6784\u826f\u597d\u7684\u6570\u636e\u7ba1\u9053\u7684\u6784\u5efa\u65f6\u95f4\u4ece\u51e0\u5468\u7f29\u77ed\u5230\u51e0\u5341\u5206\u949f\u3002\u4e13\u95e8\u6784\u5efa\u7684\u8f6f\u4ef6\u5f00\u53d1\u5de5\u5177\u5305\u548c\u6307\u5357\u5141\u8bb8\u60a8\u5c06\u5ba2\u6237\u7aef\u6570\u636e\u4ece\u4e0d\u540c\u7684\u5e94\u7528\u7a0b\u5e8f\u5e73\u53f0\uff08\u4f8b\u5982 Android\u3001iOS \u548c JavaScript\uff09\u6444\u53d6\u5230\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u3002\u6b64\u5916\uff0c\u5f00\u7bb1\u5373\u7528\u53ef\u89c6\u5316\u4eea\u8868\u677f\u548c\u63a2\u7d22\u5206\u6790\u6a21\u578b\uff0c\u4f7f\u60a8\u80fd\u591f\u8f7b\u677e\u3001\u5feb\u901f\u5730\u83b7\u5f97\u4e1a\u52a1\u6d1e\u5bdf\u3002</p> <p></p> <p>\u4f7f\u7528\u6b64\u5bfc\u822a\u8868\u53ef\u4ee5\u5feb\u901f\u627e\u5230\u4ee5\u4e0b\u95ee\u9898\u7684\u7b54\u6848\uff1a</p> \u5982\u679c\u60a8\u60f3 \u2026 \u9605\u8bfb\u2026 \u4e86\u89e3\u8fd0\u884c\u6b64\u89e3\u51b3\u65b9\u6848\u7684\u6210\u672c \u6210\u672c \u4e86\u89e3\u6b64\u89e3\u51b3\u65b9\u6848\u7684\u5b89\u5168\u6ce8\u610f\u4e8b\u9879 \u5b89\u5168 \u4e86\u89e3\u6b64\u89e3\u51b3\u65b9\u6848\u652f\u6301\u54ea\u4e9b\u533a\u57df \u652f\u6301\u533a\u57df \u5feb\u901f\u5f00\u59cb\u4f7f\u7528\u8be5\u89e3\u51b3\u65b9\u6848\uff0c\u6784\u5efa\u7aef\u5230\u7aef\u6570\u636e\u7ba1\u9053\uff0c\u5c06\u6570\u636e\u53d1\u9001\u5230\u7ba1\u9053\uff0c\u7136\u540e\u67e5\u770b\u5f00\u7bb1\u5373\u7528\u7684\u4eea\u8868\u677f \u5165\u95e8\u6307\u5357 \u4e86\u89e3\u4e0e\u7ba1\u9053\u76f8\u5173\u7684\u6982\u5ff5\uff0c\u4ee5\u53ca\u5982\u4f55\u5728\u6570\u636e\u7ba1\u9053\u7684\u6574\u4e2a\u751f\u547d\u5468\u671f\u4e2d\u5bf9\u5176\u8fdb\u884c\u7ba1\u7406 \u6570\u636e\u7ba1\u9053\u7ba1\u7406 \u5b66\u4e60\u4f7f\u7528\u5206\u6790\u5de5\u4f5c\u574a\u4ece\u70b9\u51fb\u6d41\u6570\u636e\u4e2d\u53d1\u73b0\u6d1e\u5bdf \u6570\u636e\u7ba1\u9053\u7ba1\u7406 <p>\u672c\u6307\u5357\u9762\u5411\u5177\u6709\u5728\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u4e91\u4e2d\u67b6\u6784\u5b9e\u8df5\u7ecf\u9a8c\u7684IT\u67b6\u6784\u5e08\u3001\u6570\u636e\u5de5\u7a0b\u5e08\u3001\u5f00\u53d1\u4eba\u5458\u3001DevOps\u548c\u6570\u636e\u4ea7\u54c1\u7ecf\u7406\u3002</p>"},{"location":"solution-overview/features-and-benefits/","title":"\u7279\u6027\u548c\u4f18\u52bf","text":"<p>\u8be5\u89e3\u51b3\u65b9\u6848\u5305\u62ec\u4ee5\u4e0b\u4e3b\u8981\u529f\u80fd\uff1a</p> <ul> <li>\u53ef\u89c6\u5316\u6570\u636e\u7ba1\u9053\u751f\u6210\u5668\u3002 \u60a8\u53ea\u9700\u901a\u8fc7\u57fa\u4e8e Web \u7684\u7528\u6237\u754c\u9762\u63a7\u5236\u53f0\u5b9a\u4e49\u6570\u636e\u7ba1\u9053\u5373\u53ef\u3002\u8be5\u89e3\u51b3\u65b9\u6848\u5c06\u8d1f\u8d23\u5e95\u5c42\u57fa\u7840\u8bbe\u65bd\u7684\u521b\u5efa\u3001\u6240\u9700\u7684\u5b89\u5168\u8bbe\u7f6e\u548c\u6570\u636e\u96c6\u6210\u3002\u6bcf\u4e2a\u6d41\u6c34\u7ebf\u6a21\u5757\u90fd\u5177\u6709\u5404\u79cd\u529f\u80fd\uff0c\u5e76\u4e14\u8bbe\u8ba1\u4e3a\u677e\u6563\u8026\u5408\uff0c\u56e0\u6b64\u60a8\u53ef\u4ee5\u7075\u6d3b\u5730\u9488\u5bf9\u7279\u5b9a\u7528\u4f8b\u8fdb\u884c\u81ea\u5b9a\u4e49\u3002 </li> <li>\u4e13\u95e8\u6784\u5efa\u7684SDK\u3002 \u8fd9\u4e9b SDK \u9488\u5bf9\u4ece Android\u3001iOS \u548c JavaScript \u5e73\u53f0\u6536\u96c6\u6570\u636e\u8fdb\u884c\u4e86\u4f18\u5316\uff0c\u8fd9\u4e9b\u5e73\u53f0\u4f1a\u81ea\u52a8\u6536\u96c6\u5e38\u89c1\u4e8b\u4ef6\uff08\u4f8b\u5982\uff0c\u9996\u6b21\u8bbf\u95ee\u3001\u5c4f\u5e55\u67e5\u770b\uff09\uff0c\u652f\u6301\u5185\u7f6e\u672c\u5730\u7f13\u5b58\u3001\u91cd\u8bd5\u548c\u9a8c\u8bc1\u673a\u5236\uff0c\u4ee5\u786e\u4fdd\u6570\u636e\u4f20\u8f93\u7684\u5b8c\u6574\u6027\u3002</li> <li>\u5f00\u7bb1\u5373\u7528\u7684\u4eea\u8868\u677f\u3002 \u8be5\u89e3\u51b3\u65b9\u6848\u63d0\u4f9b\u4e86\u5341\u51e0\u4e2a\u5185\u7f6e\u7684\u53ef\u89c6\u5316\u56fe\u8868\uff08\u4f8b\u5982\u7528\u6237\u83b7\u53d6\u3001\u7528\u6237\u53c2\u4e0e\u5ea6\u3001\u7559\u5b58\u7387\u548c\u7528\u6237\u7edf\u8ba1\u4fe1\u606f\uff09\u548c\u63a2\u7d22\u6027\u62a5\u544a\u6a21\u677f\uff08\u4f8b\u5982\u8f6c\u5316\u5206\u6790\u3001\u8def\u5f84\u5206\u6790\u3001\u4e8b\u4ef6\u5206\u6790\uff0c\u548c\u7559\u5b58\u5206\u6790\uff09\uff0c\u4e3a\u7528\u6237\u884c\u4e3a\u5206\u6790\u3001\u8425\u9500\u5206\u6790\u548c\u4ea7\u54c1\u5206\u6790\u7b49\u5404\u79cd\u5173\u952e\u4e1a\u52a1\u5206\u6790\u7528\u4f8b\u63d0\u4f9b\u652f\u6301\u3002</li> </ul>"},{"location":"solution-overview/use-cases/","title":"\u4f7f\u7528\u6848\u4f8b","text":"<p>\u70b9\u51fb\u6d41\u6570\u636e\u5728\u8bb8\u591a\u5728\u7ebf\u4e1a\u52a1\u5206\u6790\u573a\u666f\u4e2d\u8d77\u7740\u4e3e\u8db3\u8f7b\u91cd\u7684\u4f5c\u7528\uff0c\u4e9a\u9a6c\u900a\u4e91\u79d1\u6280\u70b9\u51fb\u6d41\u5206\u6790 \u53ef\u4ee5\u5e94\u7528\u4e8e\u4ee5\u4e0b\u573a\u666f\uff1a </p> <ul> <li>\u7528\u6237\u884c\u4e3a\u5206\u6790: \u7528\u6237\u884c\u4e3a\u5206\u6790\u4e2d\u7684\u70b9\u51fb\u6d41\u6570\u636e\u53ef\u4ee5\u6df1\u5165\u4e86\u89e3\u7f51\u7ad9\u6216\u5e94\u7528\u7a0b\u5e8f\u4e0a\u7528\u6237\u4e92\u52a8\u7684\u987a\u5e8f\u548c\u65f6\u95f4\u5e8f\u5217\u6a21\u5f0f\uff0c\u5e2e\u52a9\u4f01\u4e1a\u4e86\u89e3\u7528\u6237\u5bfc\u822a\u3001\u504f\u597d\u548c\u53c2\u4e0e\u5ea6\uff0c\u4ece\u800c\u589e\u5f3a\u6574\u4f53\u4ea7\u54c1\u4f53\u9a8c\u5e76\u63a8\u52a8\u4ea7\u54c1\u521b\u65b0\u3002</li> <li>\u5ba2\u6237\u6570\u636e\u5e73\u53f0: \u70b9\u51fb\u6d41\u6570\u636e\u4ee5\u53ca\u5176\u4ed6\u4e1a\u52a1\u6570\u636e\u6e90\uff08\u4f8b\u5982\u8ba2\u5355\u5386\u53f2\u8bb0\u5f55\u548c\u7528\u6237\u4e2a\u4eba\u8d44\u6599\uff09\u4f7f\u5ba2\u6237\u80fd\u591f\u521b\u5efa\u81ea\u6709\u5ba2\u6237\u6570\u636e\u5e73\u53f0\uff0c\u8be5\u5e73\u53f0\u63d0\u4f9b\u7528\u6237\u7684\u5b8c\u6574\u89c6\u56fe\uff0c\u4f7f\u4f01\u4e1a\u80fd\u591f\u4e2a\u6027\u5316\u5ba2\u6237\u4f53\u9a8c\u3001\u4f18\u5316\u5ba2\u6237\u4ea4\u4e92\u5e76\u63d0\u4f9b\u6709\u9488\u5bf9\u6027\u7684\u8425\u9500\u4fe1\u606f\u3002</li> <li>\u8425\u9500\u5206\u6790: \u8425\u9500\u5206\u6790\u4e2d\u7684\u70b9\u51fb\u6d41\u6570\u636e\u63d0\u4f9b\u6709\u5173\u7528\u6237\u6d41\u91cf\u6765\u6e90\uff0c\u70b9\u51fb\u8def\u5f84\u548c\u4e0e\u8425\u9500\u6d3b\u52a8\u4e92\u52a8\u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u4f7f\u4f01\u4e1a\u80fd\u591f\u8861\u91cf\u8425\u9500\u6d3b\u52a8\u7684\u6709\u6548\u6027\uff0c\u4f18\u5316\u8425\u9500\u7b56\u7565\u5e76\u63d0\u9ad8\u8f6c\u5316\u7387\u3002</li> </ul>"}]}